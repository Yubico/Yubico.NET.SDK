# Ralph Loop Workflow Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           RALPH LOOP ECOSYSTEM                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚         ENTRY POINTS                 â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—          â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—          â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘  Product Request  â•‘          â•‘  Feature Request  â•‘          â•‘  Quick Task    â•‘
    â•‘  (formal spec)    â•‘          â•‘  (implementation) â•‘          â•‘  (ad-hoc)      â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•          â•šâ•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•          â•šâ•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•
              â”‚                              â”‚                            â”‚
              â–¼                              â–¼                            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
    â”‚ product-orchestratorâ”‚        â”‚     write-plan      â”‚               â”‚
    â”‚                     â”‚        â”‚                     â”‚               â”‚
    â”‚ Creates PRD with:   â”‚        â”‚ Creates plan with:  â”‚               â”‚
    â”‚ â€¢ User stories      â”‚        â”‚ â€¢ Tasks             â”‚               â”‚
    â”‚ â€¢ Acceptance criteriaâ”‚       â”‚ â€¢ File paths        â”‚               â”‚
    â”‚ â€¢ Error states      â”‚        â”‚ â€¢ TDD steps         â”‚               â”‚
    â”‚ â€¢ Security audit    â”‚        â”‚ â€¢ Commit points     â”‚               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
               â”‚                              â”‚                          â”‚
               â–¼                              â–¼                          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
    â”‚              docs/specs/{feature}/final_spec.md      â”‚             â”‚
    â”‚              docs/plans/YYYY-MM-DD-{feature}.md      â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
                           â”‚                                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                                      â”‚
                    â–¼             â–¼                                      â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
          â”‚  prd-to-ralph   â”‚  â”‚  plan-to-ralph  â”‚                       â”‚
          â”‚                 â”‚  â”‚                 â”‚                       â”‚
          â”‚ Maps:           â”‚  â”‚ Maps:           â”‚                       â”‚
          â”‚ â€¢ Storiesâ†’Phasesâ”‚  â”‚ â€¢ Tasksâ†’Phases  â”‚                       â”‚
          â”‚ â€¢ ACâ†’Checkboxes â”‚  â”‚ â€¢ Stepsâ†’Tasks   â”‚                       â”‚
          â”‚ â€¢ Errorsâ†’Tasks  â”‚  â”‚ â€¢ Filesâ†’Files   â”‚                       â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
                   â”‚                    â”‚                                â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
                             â–¼                                           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚                      PROGRESS FILE                              â”‚  â”‚
    â”‚              docs/ralph-loop/{feature}-progress.md              â”‚  â”‚
    â”‚                                                                 â”‚  â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
    â”‚  â”‚ ---                                                       â”‚  â”‚  â”‚
    â”‚  â”‚ type: progress          â—„â”€â”€ Triggers protocol injection   â”‚  â”‚  â”‚
    â”‚  â”‚ feature: my-feature                                       â”‚  â”‚  â”‚
    â”‚  â”‚ ---                                                       â”‚  â”‚  â”‚
    â”‚  â”‚                                                           â”‚  â”‚  â”‚
    â”‚  â”‚ ## Phase 1: Core (P0)   â—„â”€â”€ Priority ordering             â”‚  â”‚  â”‚
    â”‚  â”‚ **Files:** Src, Test    â—„â”€â”€ Explicit paths                â”‚  â”‚  â”‚
    â”‚  â”‚ - [ ] 1.1: Task         â—„â”€â”€ Checkbox tracking             â”‚  â”‚  â”‚
    â”‚  â”‚ - [x] 1.2: Done                                           â”‚  â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                                   â”‚                                     â”‚
                                   â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚         â”‚
                                   â–¼         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                                             â”‚
    â”‚                           ralph-loop.ts                                     â”‚
    â”‚                                                                             â”‚
    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
    â”‚   â”‚     PROGRESS FILE MODE      â”‚    â”‚        AD-HOC MODE          â”‚        â”‚
    â”‚   â”‚                             â”‚    â”‚                             â”‚        â”‚
    â”‚   â”‚ Detects: type: progress     â”‚    â”‚ Input: plain prompt         â”‚        â”‚
    â”‚   â”‚                             â”‚    â”‚                             â”‚        â”‚
    â”‚   â”‚ Auto-injects:               â”‚    â”‚ Injects:                    â”‚        â”‚
    â”‚   â”‚ âœ“ TDD Loop (REDâ†’GREEN)      â”‚    â”‚ âœ“ Skill awareness           â”‚        â”‚
    â”‚   â”‚ âœ“ Security protocol         â”‚    â”‚ âœ“ Autonomy directives       â”‚        â”‚
    â”‚   â”‚ âœ“ Git discipline            â”‚    â”‚ âœ“ Git exploration           â”‚        â”‚
    â”‚   â”‚ âœ“ Build commands            â”‚    â”‚                             â”‚        â”‚
    â”‚   â”‚ âœ“ Task context              â”‚    â”‚                             â”‚        â”‚
    â”‚   â”‚ âœ“ Progress file content     â”‚    â”‚                             â”‚        â”‚
    â”‚   â”‚                             â”‚    â”‚                             â”‚        â”‚
    â”‚   â”‚ Re-reads file each iterationâ”‚    â”‚ Same prompt each iteration  â”‚        â”‚
    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
    â”‚                                                                             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                            â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                            EXECUTION LOOP                                   â”‚
    â”‚                                                                             â”‚
    â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
    â”‚   â”‚ Iter 1  â”‚â”€â”€â”€â–¶â”‚ Iter 2  â”‚â”€â”€â”€â–¶â”‚ Iter 3  â”‚â”€â”€â”€â–¶â”‚  ...    â”‚â”€â”€â”€â–¶â”‚ Iter N  â”‚   â”‚
    â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    â”‚                                                                             â”‚
    â”‚   Each iteration:                                                           â”‚
    â”‚   1. Read progress file (if progress mode)                                  â”‚
    â”‚   2. Find next unchecked task                                               â”‚
    â”‚   3. Execute with injected protocol                                         â”‚
    â”‚   4. Agent marks [x] and commits                                            â”‚
    â”‚   5. Check for <promise>DONE</promise>                                      â”‚
    â”‚                                                                             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                          â–¼                                   â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚   âœ… COMPLETED      â”‚             â”‚   ğŸ›‘ MAX ITERATIONS â”‚
               â”‚                     â”‚             â”‚                     â”‚
               â”‚ <promise>DONE</promise>â”‚          â”‚ Agent got stuck     â”‚
               â”‚ detected            â”‚             â”‚ or task too complex â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚         SUPPORTING SKILLS            â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ write-ralph-promptâ”‚  â”‚    build-project  â”‚  â”‚   test-project    â”‚
    â”‚                   â”‚  â”‚                   â”‚  â”‚                   â”‚
    â”‚ Guidance for      â”‚  â”‚ MANDATORY         â”‚  â”‚ MANDATORY         â”‚
    â”‚ ad-hoc prompts    â”‚  â”‚ dotnet build.cs   â”‚  â”‚ dotnet build.cs   â”‚
    â”‚ (when no progress â”‚  â”‚ build             â”‚  â”‚ test              â”‚
    â”‚ file needed)      â”‚  â”‚                   â”‚  â”‚                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚      commit       â”‚  â”‚       debug       â”‚  â”‚       verify      â”‚
    â”‚                   â”‚  â”‚                   â”‚  â”‚                   â”‚
    â”‚ Git commit        â”‚  â”‚ Systematic        â”‚  â”‚ Final checks      â”‚
    â”‚ discipline        â”‚  â”‚ debugging         â”‚  â”‚ before claiming   â”‚
    â”‚ (explicit adds)   â”‚  â”‚ process           â”‚  â”‚ done              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Quick Reference

| Want to... | Use |
|------------|-----|
| Create a PRD from requirements | `product-orchestrator` |
| Create an implementation plan | `write-plan` |
| Convert PRD to progress file | `prd-to-ralph` |
| Convert plan to progress file | `plan-to-ralph` |
| Run autonomous execution | `ralph-loop` with `--prompt-file` |
| Quick ad-hoc task | `ralph-loop` with inline prompt |
| Write ad-hoc prompts | `write-ralph-prompt` (this skill) |

## Key Principle

> **The execution protocol lives in the engine, not the prompt.**
>
> Progress files are declarative (WHAT to do). The ralph-loop.ts injects HOW to do it.
> This ensures consistent, reliable execution regardless of who wrote the progress file.
