2025-10-22T21:57:42.8857080Z Current runner version: '2.329.0'
2025-10-22T21:57:42.8870110Z ##[group]Runner Image Provisioner
2025-10-22T21:57:42.8870540Z Hosted Compute Agent
2025-10-22T21:57:42.8870840Z Version: 20251016.436
2025-10-22T21:57:42.8871190Z Commit: 8ab8ac8bfd662a3739dab9fe09456aba92132568
2025-10-22T21:57:42.8871590Z Build Date: 2025-10-15T20:44:12Z
2025-10-22T21:57:42.8871930Z ##[endgroup]
2025-10-22T21:57:42.8872230Z ##[group]Operating System
2025-10-22T21:57:42.8872540Z macOS
2025-10-22T21:57:42.8872810Z 15.6.1
2025-10-22T21:57:42.8873070Z 24G90
2025-10-22T21:57:42.8873320Z ##[endgroup]
2025-10-22T21:57:42.8873590Z ##[group]Runner Image
2025-10-22T21:57:42.8873880Z Image: macos-15-arm64
2025-10-22T21:57:42.8874170Z Version: 20251015.0042
2025-10-22T21:57:42.8874800Z Included Software: https://github.com/actions/runner-images/blob/macos-15-arm64/20251015.0042/images/macos/macos-15-arm64-Readme.md
2025-10-22T21:57:42.8875710Z Image Release: https://github.com/actions/runner-images/releases/tag/macos-15-arm64%2F20251015.0042
2025-10-22T21:57:42.8876270Z ##[endgroup]
2025-10-22T21:57:42.8876880Z ##[group]GITHUB_TOKEN Permissions
2025-10-22T21:57:42.8877700Z Contents: read
2025-10-22T21:57:42.8877980Z Metadata: read
2025-10-22T21:57:42.8878250Z Packages: read
2025-10-22T21:57:42.8878520Z ##[endgroup]
2025-10-22T21:57:42.8879640Z Secret source: Actions
2025-10-22T21:57:42.8879990Z Prepare workflow directory
2025-10-22T21:57:42.9081750Z Prepare all required actions
2025-10-22T21:57:42.9107650Z Getting action download info
2025-10-22T21:57:43.2853130Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-10-22T21:57:43.5950560Z Download action repository 'actions/setup-dotnet@v4' (SHA:67a3573c9a986a3f9c594539f4ab511d57bb3ce9)
2025-10-22T21:57:44.7741700Z Download action repository 'actions/upload-artifact@v4' (SHA:ea165f8d65b6e75b540449e92b4886f43607fa02)
2025-10-22T21:57:44.9148090Z Complete job name: Test 5 - Dispose_TerminatesListenerThread
2025-10-22T21:57:44.9516500Z ##[group]Run actions/checkout@v4
2025-10-22T21:57:44.9517040Z with:
2025-10-22T21:57:44.9517330Z   repository: Yubico/Yubico.NET.SDK
2025-10-22T21:57:44.9517790Z   token: ***
2025-10-22T21:57:44.9518070Z   ssh-strict: true
2025-10-22T21:57:44.9518350Z   ssh-user: git
2025-10-22T21:57:44.9518640Z   persist-credentials: true
2025-10-22T21:57:44.9518950Z   clean: true
2025-10-22T21:57:44.9519240Z   sparse-checkout-cone-mode: true
2025-10-22T21:57:44.9519580Z   fetch-depth: 1
2025-10-22T21:57:44.9519860Z   fetch-tags: false
2025-10-22T21:57:44.9520150Z   show-progress: true
2025-10-22T21:57:44.9520450Z   lfs: false
2025-10-22T21:57:44.9520730Z   submodules: false
2025-10-22T21:57:44.9521020Z   set-safe-directory: true
2025-10-22T21:57:44.9521440Z ##[endgroup]
2025-10-22T21:57:45.2204790Z Syncing repository: Yubico/Yubico.NET.SDK
2025-10-22T21:57:45.2206230Z ##[group]Getting Git version info
2025-10-22T21:57:45.2206910Z Working directory is '/Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK'
2025-10-22T21:57:45.2207720Z [command]/opt/homebrew/bin/git version
2025-10-22T21:57:45.2724010Z git version 2.50.1
2025-10-22T21:57:45.2749550Z ##[endgroup]
2025-10-22T21:57:45.2758210Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/677170f9-4772-4dee-a282-f3f3d412d009/.gitconfig'
2025-10-22T21:57:45.2764420Z Temporarily overriding HOME='/Users/runner/work/_temp/677170f9-4772-4dee-a282-f3f3d412d009' before making global git config changes
2025-10-22T21:57:45.2765480Z Adding repository directory to the temporary git global config as a safe directory
2025-10-22T21:57:45.2767700Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:57:45.2848810Z Deleting the contents of '/Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK'
2025-10-22T21:57:45.2850720Z ##[group]Initializing the repository
2025-10-22T21:57:45.2855330Z [command]/opt/homebrew/bin/git init /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:57:45.3018810Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-10-22T21:57:45.3020820Z hint: is subject to change. To configure the initial branch name to use in all
2025-10-22T21:57:45.3021540Z hint: of your new repositories, which will suppress this warning, call:
2025-10-22T21:57:45.3022070Z hint:
2025-10-22T21:57:45.3022460Z hint: 	git config --global init.defaultBranch <name>
2025-10-22T21:57:45.3022910Z hint:
2025-10-22T21:57:45.3023340Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-10-22T21:57:45.3024020Z hint: 'development'. The just-created branch can be renamed via this command:
2025-10-22T21:57:45.3024570Z hint:
2025-10-22T21:57:45.3024870Z hint: 	git branch -m <name>
2025-10-22T21:57:45.3025220Z hint:
2025-10-22T21:57:45.3025680Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-10-22T21:57:45.3026470Z Initialized empty Git repository in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/.git/
2025-10-22T21:57:45.3027940Z [command]/opt/homebrew/bin/git remote add origin https://github.com/Yubico/Yubico.NET.SDK
2025-10-22T21:57:45.3083060Z ##[endgroup]
2025-10-22T21:57:45.3083650Z ##[group]Disabling automatic garbage collection
2025-10-22T21:57:45.3084800Z [command]/opt/homebrew/bin/git config --local gc.auto 0
2025-10-22T21:57:45.3132680Z ##[endgroup]
2025-10-22T21:57:45.3133240Z ##[group]Setting up auth
2025-10-22T21:57:45.3136590Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-22T21:57:45.3181360Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-22T21:57:45.4008220Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-22T21:57:45.4054090Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-22T21:57:45.5957690Z [command]/opt/homebrew/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-10-22T21:57:45.6263660Z ##[endgroup]
2025-10-22T21:57:45.6293800Z ##[group]Fetching the repository
2025-10-22T21:57:45.6295520Z [command]/opt/homebrew/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +aabfee568d26bca8fd9e83fafbe1a8934840ca60:refs/remotes/origin/experiment/isolate-disposal-hang
2025-10-22T21:57:47.1281260Z From https://github.com/Yubico/Yubico.NET.SDK
2025-10-22T21:57:47.1282060Z  * [new ref]         aabfee568d26bca8fd9e83fafbe1a8934840ca60 -> origin/experiment/isolate-disposal-hang
2025-10-22T21:57:47.1427790Z ##[endgroup]
2025-10-22T21:57:47.1428140Z ##[group]Determining the checkout info
2025-10-22T21:57:47.1428500Z ##[endgroup]
2025-10-22T21:57:47.1431440Z [command]/opt/homebrew/bin/git sparse-checkout disable
2025-10-22T21:57:47.1502530Z [command]/opt/homebrew/bin/git config --local --unset-all extensions.worktreeConfig
2025-10-22T21:57:47.1551990Z ##[group]Checking out the ref
2025-10-22T21:57:47.1553780Z [command]/opt/homebrew/bin/git checkout --progress --force -B experiment/isolate-disposal-hang refs/remotes/origin/experiment/isolate-disposal-hang
2025-10-22T21:57:47.3360590Z Switched to a new branch 'experiment/isolate-disposal-hang'
2025-10-22T21:57:47.3462500Z branch 'experiment/isolate-disposal-hang' set up to track 'origin/experiment/isolate-disposal-hang'.
2025-10-22T21:57:47.3766840Z ##[endgroup]
2025-10-22T21:57:47.4068850Z [command]/opt/homebrew/bin/git log -1 --format=%H
2025-10-22T21:57:47.4169750Z aabfee568d26bca8fd9e83fafbe1a8934840ca60
2025-10-22T21:57:47.4610080Z ##[group]Run actions/setup-dotnet@v4
2025-10-22T21:57:47.4610340Z with:
2025-10-22T21:57:47.4610510Z   global-json-file: ./global.json
2025-10-22T21:57:47.4610730Z   cache: false
2025-10-22T21:57:47.4610930Z ##[endgroup]
2025-10-22T21:57:47.6117810Z [command]/Users/runner/work/_actions/actions/setup-dotnet/v4/externals/install-dotnet.sh --skip-non-versioned-files --runtime dotnet --channel LTS
2025-10-22T21:57:48.2257460Z dotnet-install: .NET Core Runtime with version '8.0.21' is already installed.
2025-10-22T21:57:48.2277240Z [command]/Users/runner/work/_actions/actions/setup-dotnet/v4/externals/install-dotnet.sh --skip-non-versioned-files --channel 9.0
2025-10-22T21:57:48.8100940Z dotnet-install: .NET Core SDK with version '9.0.306' is already installed.
2025-10-22T21:57:48.8191150Z ##[group]Run dotnet nuget add source --username DennisDyallo --password *** --store-password-in-clear-text --name github "https://nuget.pkg.github.com/Yubico/index.json"
2025-10-22T21:57:48.8192260Z [36;1mdotnet nuget add source --username DennisDyallo --password *** --store-password-in-clear-text --name github "https://nuget.pkg.github.com/Yubico/index.json"[0m
2025-10-22T21:57:48.8235010Z shell: /bin/bash -e {0}
2025-10-22T21:57:48.8235230Z env:
2025-10-22T21:57:48.8235470Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:57:48.8235680Z ##[endgroup]
2025-10-22T21:57:49.3216440Z 
2025-10-22T21:57:49.3245710Z Welcome to .NET 9.0!
2025-10-22T21:57:49.3246360Z ---------------------
2025-10-22T21:57:49.3246740Z SDK Version: 9.0.306
2025-10-22T21:57:49.3247240Z 
2025-10-22T21:57:49.3247530Z Telemetry
2025-10-22T21:57:49.3247840Z ---------
2025-10-22T21:57:49.3249450Z The .NET tools collect usage data in order to help us improve your experience. It is collected by Microsoft and shared with the community. You can opt-out of telemetry by setting the DOTNET_CLI_TELEMETRY_OPTOUT environment variable to '1' or 'true' using your favorite shell.
2025-10-22T21:57:49.3250190Z 
2025-10-22T21:57:49.3250430Z Read more about .NET CLI Tools telemetry: https://aka.ms/dotnet-cli-telemetry
2025-10-22T21:57:49.7695840Z 
2025-10-22T21:57:49.7696140Z ----------------
2025-10-22T21:57:49.7696490Z Installed an ASP.NET Core HTTPS development certificate.
2025-10-22T21:57:49.7696860Z To trust the certificate, run 'dotnet dev-certs https --trust'
2025-10-22T21:57:49.7697260Z Learn about HTTPS: https://aka.ms/dotnet-https
2025-10-22T21:57:49.7697420Z 
2025-10-22T21:57:49.7697480Z ----------------
2025-10-22T21:57:49.7697720Z Write your first app: https://aka.ms/dotnet-hello-world
2025-10-22T21:57:49.7698070Z Find out what's new: https://aka.ms/dotnet-whats-new
2025-10-22T21:57:49.7698380Z Explore documentation: https://aka.ms/dotnet-docs
2025-10-22T21:57:49.7698760Z Report issues and find source on GitHub: https://github.com/dotnet/core
2025-10-22T21:57:49.7699200Z Use 'dotnet --help' to see available commands or visit: https://aka.ms/dotnet-cli
2025-10-22T21:57:49.7699620Z --------------------------------------------------------------------------------------
2025-10-22T21:57:49.9804070Z Package source with Name: github added successfully.
2025-10-22T21:57:50.0503400Z ##[group]Run brew install openssl
2025-10-22T21:57:50.0503700Z [36;1mbrew install openssl[0m
2025-10-22T21:57:50.0503900Z [36;1msudo mkdir -p /usr/local/lib[0m
2025-10-22T21:57:50.0504280Z [36;1msudo ln -s $(brew --prefix)/opt/openssl@3/lib/libcrypto.3.dylib /usr/local/lib/libcrypto.3.dylib[0m
2025-10-22T21:57:50.0504770Z [36;1msudo ln -s $(brew --prefix)/opt/openssl@3/lib/libssl.3.dylib /usr/local/lib/libssl.3.dylib[0m
2025-10-22T21:57:50.0538810Z shell: /bin/bash -e {0}
2025-10-22T21:57:50.0539020Z env:
2025-10-22T21:57:50.0539240Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:57:50.0539470Z ##[endgroup]
2025-10-22T21:57:53.7115090Z ##[warning]openssl@3 3.6.0 is already installed and up-to-date.
To reinstall 3.6.0, run:
  brew reinstall openssl@3

2025-10-22T21:57:53.8144270Z ##[group]Run dotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_TerminatesListenerThread" --logger "console;verbosity=detailed"
2025-10-22T21:57:53.8145420Z [36;1mdotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_TerminatesListenerThread" --logger "console;verbosity=detailed"[0m
2025-10-22T21:57:53.8177140Z shell: /bin/bash -e {0}
2025-10-22T21:57:53.8177290Z env:
2025-10-22T21:57:53.8177430Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:57:53.8177670Z   Logging__LogLevel__Default: Information
2025-10-22T21:57:53.8177880Z   Logging__LogLevel__Yubico: Information
2025-10-22T21:57:53.8178070Z ##[endgroup]
2025-10-22T21:57:54.4100960Z   Determining projects to restore...
2025-10-22T21:57:57.6001460Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico.Core.UnitTests.csproj (in 2.76 sec).
2025-10-22T21:57:58.4627690Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/Yubico.Core.csproj (in 3.63 sec).
2025-10-22T21:58:03.3928930Z   Yubico.Core -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/bin/Debug/netstandard2.1/Yubico.Core.dll
2025-10-22T21:58:05.2090470Z   Yubico.Core.UnitTests -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:58:05.2277710Z Test run for /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll (.NETCoreApp,Version=v8.0)
2025-10-22T21:58:05.6273990Z VSTest version 17.14.1 (arm64)
2025-10-22T21:58:05.6284060Z 
2025-10-22T21:58:05.7245920Z Starting test execution, please wait...
2025-10-22T21:58:05.7414120Z A total of 1 test files matched the specified pattern.
2025-10-22T21:58:05.7414980Z /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:58:06.4587820Z [xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 8.0.21)
2025-10-22T21:58:06.5221890Z [xUnit.net 00:00:00.08]   Discovering: Yubico.Core.UnitTests
2025-10-22T21:58:06.6273140Z [xUnit.net 00:00:00.19]   Discovered:  Yubico.Core.UnitTests
2025-10-22T21:58:06.6442660Z [xUnit.net 00:00:00.21]   Starting:    Yubico.Core.UnitTests
2025-10-22T21:58:06.7614450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:06.7618580Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor called on thread 7
2025-10-22T21:58:06.7620000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:06.7620490Z       [TELEMETRY][L001] StartListening() called, creating background thread
2025-10-22T21:58:06.7620930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:06.7621250Z       [TELEMETRY][L001] Background thread started
2025-10-22T21:58:06.7621670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:06.7622100Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor complete
2025-10-22T21:58:06.7622500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:06.7622900Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:06.7623210Z       HID listener thread started. ThreadID is 18.
2025-10-22T21:58:06.7735960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:06.7737100Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:06.7737790Z       IOHIDManager 5159164080 is scheduled with run loop 5149691872 with mode kCFRunLoopDefaultMode
2025-10-22T21:58:06.7738760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:06.7739430Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:06.7740000Z       Flushed existing devices.
2025-10-22T21:58:06.7740600Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:06.7741250Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:06.7742810Z       [TELEMETRY][L001] Entering run loop. _shouldStop=False
2025-10-22T21:58:06.7743430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:06.7743960Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:06.7744510Z       [TELEMETRY][L001] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:58:06.9949390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:06.9954870Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:06.9955540Z       [TELEMETRY][L001] Loop iter 1: CFRunLoopRunInMode returned 3 after 220ms
2025-10-22T21:58:06.9956180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:06.9956790Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:06.9957350Z       [TELEMETRY][L001] Loop iter 2: _shouldStop=False, prevResult=3, calling CFRunLoopRunInMode...
2025-10-22T21:58:07.0158110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0163620Z       [TELEMETRY][L001] >>> DISPOSE-ENTRY: disposing=True, thread=7, _isDisposed=False, _shouldStop=False
2025-10-22T21:58:07.0164350Z         CallStack:
2025-10-22T21:58:07.0165360Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:58:07.0166230Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:58:07.0167600Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_TerminatesListenerThread() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 201
2025-10-22T21:58:07.0169410Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:58:07.0170090Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:58:07.0170870Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:58:07.0171690Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:58:07.0172490Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0173170Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:58:07.0173760Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:58:07.0174480Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0175080Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:58:07.0175680Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:58:07.0176370Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:58:07.0177070Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0177570Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:58:07.0178190Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:58:07.0179310Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0179940Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:58:07.0180600Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:58:07.0181380Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:58:07.0182480Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0182990Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:58:07.0183480Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:58:07.0184400Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0185010Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:58:07.0185510Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:58:07.0186340Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:58:07.0187310Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:58:07.0188090Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0188680Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:58:07.0189330Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:58:07.0190010Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:58:07.0190660Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0191290Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:58:07.0191800Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:58:07.0192430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0193000Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:58:07.0193530Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:58:07.0194200Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:58:07.0194870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0195340Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:58:07.0196240Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:58:07.0197610Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:07.0198980Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:07.0200050Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0201110Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:07.0202340Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:58:07.0203140Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:58:07.0203900Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0204390Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:58:07.0204950Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:58:07.0205610Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0206090Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:58:07.0206990Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:58:07.0207850Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:58:07.0208550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0209270Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:58:07.0209770Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:58:07.0210410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0210990Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:58:07.0211750Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:58:07.0212540Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:58:07.0213050Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0213620Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:58:07.0214180Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:58:07.0214870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0215440Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:58:07.0216400Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:58:07.0217550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:07.0218840Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:07.0222110Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:58:07.0222830Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:58:07.0223930Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:58:07.0224900Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:58:07.0225460Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:58:07.0225950Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:58:07.0226620Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:58:07.0227130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0227460Z       [TELEMETRY][L001] Setting _isDisposed = true
2025-10-22T21:58:07.0228050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0228420Z       [TELEMETRY][L001] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:58:07.0228880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0229310Z       [TELEMETRY][L001] StopListening(fromFinalizer=False) called
2025-10-22T21:58:07.0229900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0230290Z       [TELEMETRY][L001] Setting _shouldStop flag to true
2025-10-22T21:58:07.0230710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0231170Z       [TELEMETRY][L001] _shouldStop flag set. RunLoop pointer: 5149691872
2025-10-22T21:58:07.0231580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0231920Z       [TELEMETRY][L001] Calling CFRunLoopStop(5149691872)
2025-10-22T21:58:07.0232300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0232660Z       [TELEMETRY][L001] CFRunLoopStop() returned
2025-10-22T21:58:07.0233010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0233440Z       [TELEMETRY][L001] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:58:07.0233910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0234220Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:07.0234560Z       [TELEMETRY][L001] Loop iter 2: CFRunLoopRunInMode returned 2 after 21ms
2025-10-22T21:58:07.0234990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0235350Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:07.0235770Z       [TELEMETRY][L001] Run loop exited after 2 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:58:07.0236200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0238460Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:07.0238930Z       [TELEMETRY][L001] Listener thread finally block - cleaning up native resources
2025-10-22T21:58:07.0239380Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0239820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:07.0240290Z       [TELEMETRY][L001] Unscheduling IOHIDManager from run loop
2025-10-22T21:58:07.0240730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0243190Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:07.0243730Z       [TELEMETRY][L001] IOHIDManager unscheduled from run loop
2025-10-22T21:58:07.0244150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0244560Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:07.0244920Z       [TELEMETRY][L001] Releasing IOHIDManager
2025-10-22T21:58:07.0245470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0246040Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:07.0246490Z       [TELEMETRY][L001] IOHIDManager released
2025-10-22T21:58:07.0246980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0247350Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:07.0249760Z       [TELEMETRY][L001] Releasing run loop mode CFString
2025-10-22T21:58:07.0250420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0250840Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:07.0251150Z       [TELEMETRY][L001] Run loop mode CFString released
2025-10-22T21:58:07.0251660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0251990Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:07.0252280Z       [TELEMETRY][L001] Listener thread cleanup complete - thread exiting
2025-10-22T21:58:07.0252780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0253120Z       [TELEMETRY][L001] Thread exited successfully after 0ms
2025-10-22T21:58:07.0253570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0253900Z       [TELEMETRY][L001] StopListening() complete
2025-10-22T21:58:07.0254310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0254600Z       [TELEMETRY][L001] StopListening() returned successfully
2025-10-22T21:58:07.0255070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0255350Z       [TELEMETRY][L001] Calling base.Dispose(True)
2025-10-22T21:58:07.0255660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:07.0329800Z       [TELEMETRY][L001] <<< DISPOSE-EXIT: Complete
2025-10-22T21:58:07.2838740Z [xUnit.net 00:00:00.85]   Finished:    Yubico.Core.UnitTests
2025-10-22T21:58:07.3659130Z   Passed Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_TerminatesListenerThread [614 ms]
2025-10-22T21:58:07.3659650Z   Standard Output Messages:
2025-10-22T21:58:07.3667470Z  === TEST START: Dispose_TerminatesListenerThread ===
2025-10-22T21:58:07.3667990Z  [USING-ENTRY] Test=Dispose_TerminatesListenerThread, Thread=7
2025-10-22T21:58:07.3668520Z  [USING-BODY] Test=Dispose_TerminatesListenerThread, Listener=L001, Thread=7
2025-10-22T21:58:07.3668960Z  [TEST] Calling Dispose() on L001
2025-10-22T21:58:07.3669350Z  [TEST] Dispose() completed on L001
2025-10-22T21:58:07.3669650Z  [USING-EXIT] Test=Dispose_TerminatesListenerThread, Listener=L001, Thread=7
2025-10-22T21:58:07.3669950Z 
2025-10-22T21:58:07.3669960Z 
2025-10-22T21:58:07.3669970Z 
2025-10-22T21:58:07.3670050Z Test Run Successful.
2025-10-22T21:58:07.3670190Z Total tests: 1
2025-10-22T21:58:07.3670310Z      Passed: 1
2025-10-22T21:58:07.3683650Z  Total time: 1.6205 Seconds
2025-10-22T21:58:07.4191550Z ##[group]Run actions/upload-artifact@v4
2025-10-22T21:58:07.4191830Z with:
2025-10-22T21:58:07.4192000Z   name: Logs-Test05-Dispose_TerminatesListenerThread
2025-10-22T21:58:07.4192290Z   path: **/TestResults/*
2025-10-22T21:58:07.4192510Z   if-no-files-found: warn
2025-10-22T21:58:07.4192740Z   compression-level: 6
2025-10-22T21:58:07.4192940Z   overwrite: false
2025-10-22T21:58:07.4193220Z   include-hidden-files: false
2025-10-22T21:58:07.4193440Z env:
2025-10-22T21:58:07.4193670Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:58:07.4193990Z ##[endgroup]
2025-10-22T21:58:07.8968170Z ##[warning]No files were found with the provided path: **/TestResults/*. No artifacts will be uploaded.
2025-10-22T21:58:07.9052890Z Post job cleanup.
2025-10-22T21:58:08.0361280Z Post job cleanup.
2025-10-22T21:58:08.1238380Z [command]/opt/homebrew/bin/git version
2025-10-22T21:58:08.1403510Z git version 2.50.1
2025-10-22T21:58:08.1436890Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/ec06e6ef-29b1-428c-8ce8-1727c76e4296/.gitconfig'
2025-10-22T21:58:08.1447230Z Temporarily overriding HOME='/Users/runner/work/_temp/ec06e6ef-29b1-428c-8ce8-1727c76e4296' before making global git config changes
2025-10-22T21:58:08.1447870Z Adding repository directory to the temporary git global config as a safe directory
2025-10-22T21:58:08.1450390Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:58:08.1548300Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-22T21:58:08.1619410Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-22T21:58:08.2429170Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-22T21:58:08.2480050Z http.https://github.com/.extraheader
2025-10-22T21:58:08.2514120Z [command]/opt/homebrew/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-10-22T21:58:08.2554060Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-22T21:58:08.3345230Z Cleaning up orphan processes
2025-10-22T21:58:08.5340450Z Terminate orphan process: pid (11025) (dotnet)
