2025-10-22T21:57:54.8654470Z ##[group]Run dotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_CompletesWithinReasonableTime" --logger "console;verbosity=detailed"
2025-10-22T21:57:54.8655630Z [36;1mdotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_CompletesWithinReasonableTime" --logger "console;verbosity=detailed"[0m
2025-10-22T21:57:54.8689770Z shell: /bin/bash -e {0}
2025-10-22T21:57:54.8689970Z env:
2025-10-22T21:57:54.8690240Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:57:54.8690470Z   Logging__LogLevel__Default: Information
2025-10-22T21:57:54.8690690Z   Logging__LogLevel__Yubico: Information
2025-10-22T21:57:54.8690870Z ##[endgroup]
2025-10-22T21:57:55.4648250Z   Determining projects to restore...
2025-10-22T21:57:59.7331390Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico.Core.UnitTests.csproj (in 3.87 sec).
2025-10-22T21:57:59.7403750Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/Yubico.Core.csproj (in 3.89 sec).
2025-10-22T21:58:07.3184990Z   Yubico.Core -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/bin/Debug/netstandard2.1/Yubico.Core.dll
2025-10-22T21:58:10.9885440Z   Yubico.Core.UnitTests -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:58:11.0001810Z Test run for /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll (.NETCoreApp,Version=v8.0)
2025-10-22T21:58:11.2959270Z VSTest version 17.14.1 (arm64)
2025-10-22T21:58:11.2968920Z 
2025-10-22T21:58:11.3897540Z Starting test execution, please wait...
2025-10-22T21:58:11.4055500Z A total of 1 test files matched the specified pattern.
2025-10-22T21:58:11.4056450Z /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:58:12.1879890Z [xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 8.0.21)
2025-10-22T21:58:12.2394970Z [xUnit.net 00:00:00.06]   Discovering: Yubico.Core.UnitTests
2025-10-22T21:58:12.3597190Z [xUnit.net 00:00:00.18]   Discovered:  Yubico.Core.UnitTests
2025-10-22T21:58:12.3748120Z [xUnit.net 00:00:00.19]   Starting:    Yubico.Core.UnitTests
2025-10-22T21:58:12.4528430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4540640Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor called on thread 7
2025-10-22T21:58:12.4541770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4559470Z       [TELEMETRY][L001] StartListening() called, creating background thread
2025-10-22T21:58:12.4563960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4564710Z       [TELEMETRY][L001] Background thread started
2025-10-22T21:58:12.4565780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4566190Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor complete
2025-10-22T21:58:12.4566680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4567010Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4567790Z       HID listener thread started. ThreadID is 18.
2025-10-22T21:58:12.4667900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4683210Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4703400Z       IOHIDManager 5040677440 is scheduled with run loop 5040689360 with mode kCFRunLoopDefaultMode
2025-10-22T21:58:12.4708450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4709140Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4709620Z       Flushed existing devices.
2025-10-22T21:58:12.4710200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4710820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4711330Z       [TELEMETRY][L001] Entering run loop. _shouldStop=False
2025-10-22T21:58:12.4715950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4716460Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4717060Z       [TELEMETRY][L001] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:58:12.4761120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4765050Z       [TELEMETRY][L001] >>> DISPOSE-ENTRY: disposing=True, thread=7, _isDisposed=False, _shouldStop=False
2025-10-22T21:58:12.4765680Z         CallStack:
2025-10-22T21:58:12.4766410Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:58:12.4767470Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:58:12.4768860Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_CompletesWithinReasonableTime() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 55
2025-10-22T21:58:12.4771060Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:58:12.4771870Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:58:12.4773510Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:58:12.4800500Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:58:12.4801670Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4802550Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:58:12.4803460Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:58:12.4804370Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4805090Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:58:12.4805940Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:58:12.4806850Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:58:12.4807760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4808530Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:58:12.4809290Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:58:12.4810210Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4811030Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:58:12.4811910Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:58:12.4813010Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:58:12.4813910Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4815290Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:58:12.4815930Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:58:12.4816820Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4817930Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:58:12.4818660Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:58:12.4819580Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:58:12.4820640Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:58:12.4821640Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4822490Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:58:12.4823370Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:58:12.4824210Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:58:12.4825150Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4825840Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:58:12.4826500Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:58:12.4827310Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4828030Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:58:12.4828700Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:58:12.4829560Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:58:12.4830440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4831080Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:58:12.4832160Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:58:12.4833850Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:12.4835250Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:12.4836470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4837610Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:12.4838860Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:58:12.4840210Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:58:12.4841130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4842110Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:58:12.4842790Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:58:12.4843620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4844360Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:58:12.4845370Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:58:12.4846420Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:58:12.4847180Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4847880Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:58:12.4848540Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:58:12.4849440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4850200Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:58:12.4851780Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:58:12.4855080Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:58:12.4859900Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4860780Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:58:12.4862370Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:58:12.4863350Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4864140Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:58:12.4865350Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:58:12.4866940Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.4868050Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:12.4869500Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:58:12.4870420Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:58:12.4871290Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:58:12.4872690Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:58:12.4873480Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:58:12.4874110Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:58:12.4875000Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:58:12.4875600Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4876460Z       [TELEMETRY][L001] Setting _isDisposed = true
2025-10-22T21:58:12.4877140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4877790Z       [TELEMETRY][L001] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:58:12.4878510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4879110Z       [TELEMETRY][L001] StopListening(fromFinalizer=False) called
2025-10-22T21:58:12.4879750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4880450Z       [TELEMETRY][L001] Setting _shouldStop flag to true
2025-10-22T21:58:12.4881080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4881700Z       [TELEMETRY][L001] _shouldStop flag set. RunLoop pointer: 5040689360
2025-10-22T21:58:12.4882430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4883110Z       [TELEMETRY][L001] Calling CFRunLoopStop(5040689360)
2025-10-22T21:58:12.4883800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4884370Z       [TELEMETRY][L001] CFRunLoopStop() returned
2025-10-22T21:58:12.4885170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4885800Z       [TELEMETRY][L001] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:58:12.4886440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4887080Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4887670Z       [TELEMETRY][L001] Loop iter 1: CFRunLoopRunInMode returned 2 after 8ms
2025-10-22T21:58:12.4888330Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4888920Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4889610Z       [TELEMETRY][L001] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:58:12.4890330Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4890900Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4891610Z       [TELEMETRY][L001] Listener thread finally block - cleaning up native resources
2025-10-22T21:58:12.4892300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4892870Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4893510Z       [TELEMETRY][L001] Unscheduling IOHIDManager from run loop
2025-10-22T21:58:12.4894150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4894710Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4895360Z       [TELEMETRY][L001] IOHIDManager unscheduled from run loop
2025-10-22T21:58:12.4896000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4896640Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4897160Z       [TELEMETRY][L001] Releasing IOHIDManager
2025-10-22T21:58:12.4897750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4898790Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4899340Z       [TELEMETRY][L001] IOHIDManager released
2025-10-22T21:58:12.4899930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4901040Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4902010Z       [TELEMETRY][L001] Releasing run loop mode CFString
2025-10-22T21:58:12.4902680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4903270Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4904220Z       [TELEMETRY][L001] Run loop mode CFString released
2025-10-22T21:58:12.4905560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4906390Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4907100Z       [TELEMETRY][L001] Listener thread cleanup complete - thread exiting
2025-10-22T21:58:12.4907990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4909170Z       [TELEMETRY][L001] Thread exited successfully after 0ms
2025-10-22T21:58:12.4910210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4910950Z       [TELEMETRY][L001] StopListening() complete
2025-10-22T21:58:12.4914650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4916460Z       [TELEMETRY][L001] StopListening() returned successfully
2025-10-22T21:58:12.4917370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4917920Z       [TELEMETRY][L001] Calling base.Dispose(True)
2025-10-22T21:58:12.4918590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4935060Z       [TELEMETRY][L001] <<< DISPOSE-EXIT: Complete
2025-10-22T21:58:12.4940100Z [xUnit.net 00:00:00.31]   Finished:    Yubico.Core.UnitTests
2025-10-22T21:58:12.5487500Z   Passed Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_CompletesWithinReasonableTime [86 ms]
2025-10-22T21:58:12.5488230Z   Standard Output Messages:
2025-10-22T21:58:12.5488660Z  === TEST START: Dispose_CompletesWithinReasonableTime ===
2025-10-22T21:58:12.5489200Z  [USING-ENTRY] Test=Dispose_CompletesWithinReasonableTime, Thread=7
2025-10-22T21:58:12.5489640Z  [USING-BODY] Test=Dispose_CompletesWithinReasonableTime, Listener=L001, Thread=7
2025-10-22T21:58:12.5490000Z  [TEST] Created listener instance: L001
2025-10-22T21:58:12.5490370Z  [TEST] Instance L001 disposed in 21ms
2025-10-22T21:58:12.5490740Z  [USING-EXIT] Test=Dispose_CompletesWithinReasonableTime, Listener=L001, Thread=7
2025-10-22T21:58:12.5491120Z 
2025-10-22T21:58:12.5491170Z 
2025-10-22T21:58:12.5500370Z 
2025-10-22T21:58:12.5521410Z Test Run Successful.
2025-10-22T21:58:12.5521640Z Total tests: 1
2025-10-22T21:58:12.5521810Z      Passed: 1
2025-10-22T21:58:12.5568320Z  Total time: 1.1440 Seconds
