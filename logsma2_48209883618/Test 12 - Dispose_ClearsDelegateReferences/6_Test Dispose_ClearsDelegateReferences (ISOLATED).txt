2025-10-22T21:57:57.7140860Z ##[group]Run dotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_ClearsDelegateReferences" --logger "console;verbosity=detailed"
2025-10-22T21:57:57.7142150Z [36;1mdotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_ClearsDelegateReferences" --logger "console;verbosity=detailed"[0m
2025-10-22T21:57:57.7183320Z shell: /bin/bash -e {0}
2025-10-22T21:57:57.7183580Z env:
2025-10-22T21:57:57.7183850Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:57:57.7184110Z   Logging__LogLevel__Default: Information
2025-10-22T21:57:57.7184440Z   Logging__LogLevel__Yubico: Information
2025-10-22T21:57:57.7184780Z ##[endgroup]
2025-10-22T21:57:58.5433880Z   Determining projects to restore...
2025-10-22T21:58:02.6340440Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico.Core.UnitTests.csproj (in 3.68 sec).
2025-10-22T21:58:02.8956080Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/Yubico.Core.csproj (in 3.96 sec).
2025-10-22T21:58:09.8170990Z   Yubico.Core -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/bin/Debug/netstandard2.1/Yubico.Core.dll
2025-10-22T21:58:14.2569790Z   Yubico.Core.UnitTests -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:58:14.2965100Z Test run for /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll (.NETCoreApp,Version=v8.0)
2025-10-22T21:58:14.7407810Z VSTest version 17.14.1 (arm64)
2025-10-22T21:58:14.7542960Z 
2025-10-22T21:58:14.9261490Z Starting test execution, please wait...
2025-10-22T21:58:14.9678100Z A total of 1 test files matched the specified pattern.
2025-10-22T21:58:14.9779000Z /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:58:16.0271640Z [xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 8.0.21)
2025-10-22T21:58:16.1461510Z [xUnit.net 00:00:00.12]   Discovering: Yubico.Core.UnitTests
2025-10-22T21:58:16.3647370Z [xUnit.net 00:00:00.35]   Discovered:  Yubico.Core.UnitTests
2025-10-22T21:58:16.4052560Z [xUnit.net 00:00:00.38]   Starting:    Yubico.Core.UnitTests
2025-10-22T21:58:16.5380800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:16.5481140Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor called on thread 12
2025-10-22T21:58:16.5586340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:16.5688920Z       [TELEMETRY][L001] StartListening() called, creating background thread
2025-10-22T21:58:16.5793390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:16.5895370Z       [TELEMETRY][L001] Background thread started
2025-10-22T21:58:16.5997980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:16.6100600Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor complete
2025-10-22T21:58:16.6203280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:16.6305150Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:16.6421340Z       HID listener thread started. ThreadID is 18.
2025-10-22T21:58:16.6514910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:16.6628730Z       [TELEMETRY][L001] >>> DISPOSE-ENTRY: disposing=True, thread=12, _isDisposed=False, _shouldStop=False
2025-10-22T21:58:16.6731280Z         CallStack:
2025-10-22T21:58:16.6834130Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:58:16.6937160Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:58:16.7039070Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_ClearsDelegateReferences() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 455
2025-10-22T21:58:16.7142940Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:58:16.7260400Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:58:16.7361950Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:58:16.7465380Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:58:16.7572610Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:16.7660940Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:58:16.7722560Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:58:16.7824430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:16.7942320Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:58:16.8045890Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:58:16.8156300Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:58:16.8259990Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:16.8362810Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:58:16.8472180Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:58:16.8576390Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:16.8678140Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:58:16.8731020Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:58:16.8812660Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:58:16.8818050Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:16.8820620Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:58:16.8915610Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:58:16.8944490Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:16.8979730Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:58:16.9013250Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:58:16.9022590Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:58:16.9076220Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:58:16.9131660Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:16.9187130Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:58:16.9273860Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:58:16.9350080Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:58:16.9445080Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:16.9480600Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:58:16.9516670Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:58:16.9564230Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:16.9602190Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:58:16.9634170Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:58:16.9673550Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:58:16.9708740Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:16.9749890Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:58:16.9772390Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:58:16.9802970Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:16.9826480Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:16.9848620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:16.9887030Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:16.9921380Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:58:16.9954000Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:58:16.9987450Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:16.9991840Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:58:16.9994660Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:58:16.9999030Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:17.0003420Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:58:17.0017400Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:58:17.0022930Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:58:17.0026520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:17.0030340Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:58:17.0041500Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:58:17.0046180Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:17.0049720Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:58:17.0054770Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:58:17.0090180Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:58:17.0131400Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:17.0186700Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:58:17.0289890Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:58:17.0292070Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:17.0393880Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:58:17.0450240Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:58:17.0552080Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:17.0604320Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:17.0706850Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:58:17.0808220Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:58:17.0905950Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:58:17.1010430Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:58:17.1110860Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:58:17.1212170Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:58:17.1313470Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:58:17.1406190Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1442280Z       [TELEMETRY][L001] Setting _isDisposed = true
2025-10-22T21:58:17.1513580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1550100Z       [TELEMETRY][L001] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:58:17.1595800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1631520Z       [TELEMETRY][L001] StopListening(fromFinalizer=False) called
2025-10-22T21:58:17.1662910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1695260Z       [TELEMETRY][L001] Setting _shouldStop flag to true
2025-10-22T21:58:17.1733940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1734590Z       [TELEMETRY][L001] _shouldStop flag set. RunLoop pointer: 5249323696
2025-10-22T21:58:17.1753420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1766550Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:17.1783620Z       IOHIDManager 5249318064 is scheduled with run loop 5249323696 with mode kCFRunLoopDefaultMode
2025-10-22T21:58:17.1797150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1804770Z       [TELEMETRY][L001] Calling CFRunLoopStop(5249323696)
2025-10-22T21:58:17.1837140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1858130Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:17.1859910Z       Flushed existing devices.
2025-10-22T21:58:17.1867420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1876440Z       [TELEMETRY][L001] CFRunLoopStop() returned
2025-10-22T21:58:17.1890260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1897440Z       [TELEMETRY][L001] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:58:17.1902340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1907520Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:17.1909260Z       [TELEMETRY][L001] Entering run loop. _shouldStop=True
2025-10-22T21:58:17.1921840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1927980Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:17.1932440Z       [TELEMETRY][L001] Run loop exited after 0 iterations. _shouldStop=True, finalResult=4
2025-10-22T21:58:17.1936840Z fail: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1940760Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:17.1951180Z       The run loop was terminated for an unexpected reason: 4
2025-10-22T21:58:17.1956260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1960410Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:17.1964830Z       [TELEMETRY][L001] Listener thread finally block - cleaning up native resources
2025-10-22T21:58:17.1972100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1977700Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:17.1983090Z       [TELEMETRY][L001] Unscheduling IOHIDManager from run loop
2025-10-22T21:58:17.1987000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.1991530Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:17.2006240Z       [TELEMETRY][L001] IOHIDManager unscheduled from run loop
2025-10-22T21:58:17.2011320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.2014810Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:17.2018660Z       [TELEMETRY][L001] Releasing IOHIDManager
2025-10-22T21:58:17.2023080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.2035530Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:17.2039080Z       [TELEMETRY][L001] IOHIDManager released
2025-10-22T21:58:17.2039680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.2040290Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:17.2040770Z       [TELEMETRY][L001] Releasing run loop mode CFString
2025-10-22T21:58:17.2041310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.2041750Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:17.2042120Z       [TELEMETRY][L001] Run loop mode CFString released
2025-10-22T21:58:17.2042540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.2042920Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:17.2043450Z       [TELEMETRY][L001] Listener thread cleanup complete - thread exiting
2025-10-22T21:58:17.2046010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.2049700Z       [TELEMETRY][L001] Thread exited successfully after 0ms
2025-10-22T21:58:17.2050300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.2050690Z       [TELEMETRY][L001] StopListening() complete
2025-10-22T21:58:17.2051320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.2051720Z       [TELEMETRY][L001] StopListening() returned successfully
2025-10-22T21:58:17.2052150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.2052510Z       [TELEMETRY][L001] Calling base.Dispose(True)
2025-10-22T21:58:17.2126270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:17.2126720Z       [TELEMETRY][L001] <<< DISPOSE-EXIT: Complete
2025-10-22T21:58:17.2138760Z [xUnit.net 00:00:00.58]   Finished:    Yubico.Core.UnitTests
2025-10-22T21:58:17.2139390Z   Passed Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_ClearsDelegateReferences [143 ms]
2025-10-22T21:58:17.2139960Z   Standard Output Messages:
2025-10-22T21:58:17.2140260Z  === TEST START: Dispose_ClearsDelegateReferences ===
2025-10-22T21:58:17.2140650Z  [USING-ENTRY] Test=Dispose_ClearsDelegateReferences, Thread=12
2025-10-22T21:58:17.2141100Z  [USING-BODY] Test=Dispose_ClearsDelegateReferences, Listener=L001, Thread=12
2025-10-22T21:58:17.2141490Z  [TEST] Created listener: L001
2025-10-22T21:58:17.2141770Z  [TEST] Disposing listener: L001
2025-10-22T21:58:17.2142170Z  [TEST] Dispose() completed on L001
2025-10-22T21:58:17.2142480Z  [TEST] Forcing GC to collect delegates for L001
2025-10-22T21:58:17.2142810Z  [TEST] Delegates properly released for L001
2025-10-22T21:58:17.2143200Z  [USING-EXIT] Test=Dispose_ClearsDelegateReferences, Listener=L001, Thread=12
2025-10-22T21:58:17.2143620Z 
2025-10-22T21:58:17.2143730Z 
2025-10-22T21:58:17.2143840Z 
2025-10-22T21:58:17.2144000Z Test Run Successful.
2025-10-22T21:58:17.2144290Z Total tests: 1
2025-10-22T21:58:17.2144630Z      Passed: 1
2025-10-22T21:58:17.2144850Z  Total time: 1.7699 Seconds
