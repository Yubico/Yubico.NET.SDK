2025-10-22T21:57:55.8988460Z ##[group]Run dotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_UnusedListener_Succeeds" --logger "console;verbosity=detailed"
2025-10-22T21:57:55.8989830Z [36;1mdotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_UnusedListener_Succeeds" --logger "console;verbosity=detailed"[0m
2025-10-22T21:57:55.9036470Z shell: /bin/bash -e {0}
2025-10-22T21:57:55.9036710Z env:
2025-10-22T21:57:55.9036990Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:57:55.9037260Z   Logging__LogLevel__Default: Information
2025-10-22T21:57:55.9037520Z   Logging__LogLevel__Yubico: Information
2025-10-22T21:57:55.9037760Z ##[endgroup]
2025-10-22T21:57:57.1738960Z   Determining projects to restore...
2025-10-22T21:58:01.8400110Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico.Core.UnitTests.csproj (in 3.96 sec).
2025-10-22T21:58:03.2585540Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/Yubico.Core.csproj (in 5.4 sec).
2025-10-22T21:58:08.7081540Z   Yubico.Core -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/bin/Debug/netstandard2.1/Yubico.Core.dll
2025-10-22T21:58:11.3579160Z   Yubico.Core.UnitTests -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:58:11.3737070Z Test run for /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll (.NETCoreApp,Version=v8.0)
2025-10-22T21:58:11.5904130Z VSTest version 17.14.1 (arm64)
2025-10-22T21:58:11.5910050Z 
2025-10-22T21:58:11.6835730Z Starting test execution, please wait...
2025-10-22T21:58:11.6995190Z A total of 1 test files matched the specified pattern.
2025-10-22T21:58:11.6996310Z /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:58:12.2249030Z [xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 8.0.21)
2025-10-22T21:58:12.2742060Z [xUnit.net 00:00:00.06]   Discovering: Yubico.Core.UnitTests
2025-10-22T21:58:12.3668850Z [xUnit.net 00:00:00.16]   Discovered:  Yubico.Core.UnitTests
2025-10-22T21:58:12.3834780Z [xUnit.net 00:00:00.17]   Starting:    Yubico.Core.UnitTests
2025-10-22T21:58:12.4456390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4461930Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor called on thread 7
2025-10-22T21:58:12.4462710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4463350Z       [TELEMETRY][L001] StartListening() called, creating background thread
2025-10-22T21:58:12.4463820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4464240Z       [TELEMETRY][L001] Background thread started
2025-10-22T21:58:12.4464600Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4465070Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor complete
2025-10-22T21:58:12.4465610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4465970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4466280Z       HID listener thread started. ThreadID is 18.
2025-10-22T21:58:12.4632250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4634040Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4634800Z       IOHIDManager 5366722352 is scheduled with run loop 5098255488 with mode kCFRunLoopDefaultMode
2025-10-22T21:58:12.4671000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4671870Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4672460Z       Flushed existing devices.
2025-10-22T21:58:12.4672980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4676180Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4676630Z       [TELEMETRY][L001] Entering run loop. _shouldStop=False
2025-10-22T21:58:12.4682650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4683260Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.4696470Z       [TELEMETRY][L001] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:58:12.4719250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.4827100Z       [TELEMETRY][L001] >>> DISPOSE-ENTRY: disposing=True, thread=7, _isDisposed=False, _shouldStop=False
2025-10-22T21:58:12.4874930Z         CallStack:
2025-10-22T21:58:12.4906800Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:58:12.4908000Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:58:12.4910190Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.<>c__DisplayClass10_0.<Dispose_UnusedListener_Succeeds>b__0() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 351
2025-10-22T21:58:12.4933640Z          at Xunit.Record.Exception(Action testCode) in /_/src/xunit.core/Record.cs:line 25
2025-10-22T21:58:12.4937540Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_UnusedListener_Succeeds() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 351
2025-10-22T21:58:12.4976550Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:58:12.5008680Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:58:12.5042000Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:58:12.5080880Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:58:12.5130880Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5246150Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:58:12.5342120Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:58:12.5429020Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5435550Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:58:12.5480630Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:58:12.5536910Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:58:12.5597620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5638040Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:58:12.5659550Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:58:12.5660720Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5661420Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:58:12.5670460Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:58:12.5680250Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:58:12.5681220Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5682400Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:58:12.5683200Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:58:12.5683970Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5684640Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:58:12.5685480Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:58:12.5686390Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:58:12.5687580Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:58:12.5688740Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5700260Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:58:12.5701130Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:58:12.5702050Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:58:12.5702890Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5703570Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:58:12.5708510Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:58:12.5709510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5710170Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:58:12.5710800Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:58:12.5711690Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:58:12.5712500Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5713200Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:58:12.5714260Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:58:12.5716060Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:12.5717430Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:12.5718620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5720300Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:12.5722030Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:58:12.5723190Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:58:12.5724170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5726390Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:58:12.5741490Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:58:12.5754480Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5755340Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:58:12.5759270Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:58:12.5760460Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:58:12.5763250Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5764090Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:58:12.5764750Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:58:12.5767660Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5768340Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:58:12.5771090Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:58:12.5772280Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:58:12.5773000Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5778210Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:58:12.5780120Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:58:12.5783310Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5784090Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:58:12.5785970Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:58:12.5789430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:58:12.5794020Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:58:12.5795570Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:58:12.5804660Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:58:12.5807670Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:58:12.5817680Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:58:12.5821450Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:58:12.5826970Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:58:12.5827830Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:58:12.5828440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5828970Z       [TELEMETRY][L001] Setting _isDisposed = true
2025-10-22T21:58:12.5830560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5833430Z       [TELEMETRY][L001] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:58:12.5837460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5838070Z       [TELEMETRY][L001] StopListening(fromFinalizer=False) called
2025-10-22T21:58:12.5838670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5841910Z       [TELEMETRY][L001] Setting _shouldStop flag to true
2025-10-22T21:58:12.5842540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5854940Z       [TELEMETRY][L001] _shouldStop flag set. RunLoop pointer: 5098255488
2025-10-22T21:58:12.5886500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5905650Z       [TELEMETRY][L001] Calling CFRunLoopStop(5098255488)
2025-10-22T21:58:12.5942040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5951860Z       [TELEMETRY][L001] CFRunLoopStop() returned
2025-10-22T21:58:12.5952870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5953770Z       [TELEMETRY][L001] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:58:12.5962830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5965860Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.5966480Z       [TELEMETRY][L001] Loop iter 1: CFRunLoopRunInMode returned 2 after 8ms
2025-10-22T21:58:12.5967250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5967810Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.5968320Z       [TELEMETRY][L001] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:58:12.5968860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5969300Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.5970370Z       [TELEMETRY][L001] Listener thread finally block - cleaning up native resources
2025-10-22T21:58:12.5970840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5971430Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.5971780Z       [TELEMETRY][L001] Unscheduling IOHIDManager from run loop
2025-10-22T21:58:12.5972180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5972580Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.5973120Z       [TELEMETRY][L001] IOHIDManager unscheduled from run loop
2025-10-22T21:58:12.5973620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5973980Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.5974410Z       [TELEMETRY][L001] Releasing IOHIDManager
2025-10-22T21:58:12.5974800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5975250Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.5975590Z       [TELEMETRY][L001] IOHIDManager released
2025-10-22T21:58:12.5976140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5977380Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.5977770Z       [TELEMETRY][L001] Releasing run loop mode CFString
2025-10-22T21:58:12.5978320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5978820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.5979810Z       [TELEMETRY][L001] Run loop mode CFString released
2025-10-22T21:58:12.5980420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.5980830Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:58:12.5981570Z       [TELEMETRY][L001] Listener thread cleanup complete - thread exiting
2025-10-22T21:58:12.5982140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.6002750Z       [TELEMETRY][L001] Thread exited successfully after 0ms
2025-10-22T21:58:12.6060050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.6095200Z       [TELEMETRY][L001] StopListening() complete
2025-10-22T21:58:12.6145820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.6277640Z       [TELEMETRY][L001] StopListening() returned successfully
2025-10-22T21:58:12.6581140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.6959740Z       [TELEMETRY][L001] Calling base.Dispose(True)
2025-10-22T21:58:12.7261620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:58:12.7383640Z       [TELEMETRY][L001] <<< DISPOSE-EXIT: Complete
2025-10-22T21:58:12.7487440Z [xUnit.net 00:00:00.28]   Finished:    Yubico.Core.UnitTests
2025-10-22T21:58:12.7589000Z   Passed Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_UnusedListener_Succeeds [75 ms]
2025-10-22T21:58:12.7822480Z   Standard Output Messages:
2025-10-22T21:58:12.7827670Z  === TEST START: Dispose_UnusedListener_Succeeds ===
2025-10-22T21:58:12.7842990Z  [USING-ENTRY] Test=Dispose_UnusedListener_Succeeds, Thread=7
2025-10-22T21:58:12.7843580Z  [USING-BODY] Test=Dispose_UnusedListener_Succeeds, Listener=L001, Thread=7
2025-10-22T21:58:12.7844110Z  [TEST] Calling Dispose() on L001
2025-10-22T21:58:12.7844370Z  [TEST] Dispose() completed on L001
2025-10-22T21:58:12.7845070Z  [USING-EXIT] Test=Dispose_UnusedListener_Succeeds, Listener=L001, Thread=7
2025-10-22T21:58:12.7845430Z 
2025-10-22T21:58:12.7845590Z 
2025-10-22T21:58:12.7845710Z 
2025-10-22T21:58:12.7846000Z Test Run Successful.
2025-10-22T21:58:12.7846410Z Total tests: 1
2025-10-22T21:58:12.7847140Z      Passed: 1
2025-10-22T21:58:12.7847470Z  Total time: 0.8837 Seconds
