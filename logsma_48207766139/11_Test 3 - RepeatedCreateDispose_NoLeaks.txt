2025-10-22T21:41:46.5007180Z Current runner version: '2.329.0'
2025-10-22T21:41:46.5021260Z ##[group]Runner Image Provisioner
2025-10-22T21:41:46.5021730Z Hosted Compute Agent
2025-10-22T21:41:46.5022070Z Version: 20251016.436
2025-10-22T21:41:46.5022450Z Commit: 8ab8ac8bfd662a3739dab9fe09456aba92132568
2025-10-22T21:41:46.5022880Z Build Date: 2025-10-15T20:44:12Z
2025-10-22T21:41:46.5023260Z ##[endgroup]
2025-10-22T21:41:46.5023600Z ##[group]Operating System
2025-10-22T21:41:46.5023960Z macOS
2025-10-22T21:41:46.5024250Z 15.6.1
2025-10-22T21:41:46.5024540Z 24G90
2025-10-22T21:41:46.5024810Z ##[endgroup]
2025-10-22T21:41:46.5025100Z ##[group]Runner Image
2025-10-22T21:41:46.5025420Z Image: macos-15-arm64
2025-10-22T21:41:46.5025730Z Version: 20251015.0042
2025-10-22T21:41:46.5026380Z Included Software: https://github.com/actions/runner-images/blob/macos-15-arm64/20251015.0042/images/macos/macos-15-arm64-Readme.md
2025-10-22T21:41:46.5027370Z Image Release: https://github.com/actions/runner-images/releases/tag/macos-15-arm64%2F20251015.0042
2025-10-22T21:41:46.5027970Z ##[endgroup]
2025-10-22T21:41:46.5028610Z ##[group]GITHUB_TOKEN Permissions
2025-10-22T21:41:46.5029570Z Contents: read
2025-10-22T21:41:46.5029870Z Metadata: read
2025-10-22T21:41:46.5030170Z Packages: read
2025-10-22T21:41:46.5030470Z ##[endgroup]
2025-10-22T21:41:46.5031920Z Secret source: Actions
2025-10-22T21:41:46.5032340Z Prepare workflow directory
2025-10-22T21:41:46.5246350Z Prepare all required actions
2025-10-22T21:41:46.5271490Z Getting action download info
2025-10-22T21:41:46.7545520Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-10-22T21:41:47.1262210Z Download action repository 'actions/setup-dotnet@v4' (SHA:67a3573c9a986a3f9c594539f4ab511d57bb3ce9)
2025-10-22T21:41:48.7701460Z Download action repository 'actions/upload-artifact@v4' (SHA:ea165f8d65b6e75b540449e92b4886f43607fa02)
2025-10-22T21:41:48.9707280Z Complete job name: Test 3 - RepeatedCreateDispose_NoLeaks
2025-10-22T21:41:49.0146370Z ##[group]Run actions/checkout@v4
2025-10-22T21:41:49.0147350Z with:
2025-10-22T21:41:49.0147670Z   repository: Yubico/Yubico.NET.SDK
2025-10-22T21:41:49.0148310Z   token: ***
2025-10-22T21:41:49.0148600Z   ssh-strict: true
2025-10-22T21:41:49.0148890Z   ssh-user: git
2025-10-22T21:41:49.0149180Z   persist-credentials: true
2025-10-22T21:41:49.0149500Z   clean: true
2025-10-22T21:41:49.0149800Z   sparse-checkout-cone-mode: true
2025-10-22T21:41:49.0150150Z   fetch-depth: 1
2025-10-22T21:41:49.0150440Z   fetch-tags: false
2025-10-22T21:41:49.0150730Z   show-progress: true
2025-10-22T21:41:49.0151030Z   lfs: false
2025-10-22T21:41:49.0151310Z   submodules: false
2025-10-22T21:41:49.0151600Z   set-safe-directory: true
2025-10-22T21:41:49.0152060Z ##[endgroup]
2025-10-22T21:41:49.5442880Z Syncing repository: Yubico/Yubico.NET.SDK
2025-10-22T21:41:49.5449670Z ##[group]Getting Git version info
2025-10-22T21:41:49.5455140Z Working directory is '/Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK'
2025-10-22T21:41:49.5456740Z [command]/opt/homebrew/bin/git version
2025-10-22T21:41:49.5457290Z git version 2.50.1
2025-10-22T21:41:49.5460040Z ##[endgroup]
2025-10-22T21:41:49.5581700Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/faaae1a1-150b-41d0-9b21-e032b59a7c74/.gitconfig'
2025-10-22T21:41:49.5586420Z Temporarily overriding HOME='/Users/runner/work/_temp/faaae1a1-150b-41d0-9b21-e032b59a7c74' before making global git config changes
2025-10-22T21:41:49.5590150Z Adding repository directory to the temporary git global config as a safe directory
2025-10-22T21:41:49.5596070Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:41:49.5632910Z Deleting the contents of '/Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK'
2025-10-22T21:41:49.5639980Z ##[group]Initializing the repository
2025-10-22T21:41:49.5648560Z [command]/opt/homebrew/bin/git init /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:41:49.5978530Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-10-22T21:41:49.5987920Z hint: is subject to change. To configure the initial branch name to use in all
2025-10-22T21:41:49.5990260Z hint: of your new repositories, which will suppress this warning, call:
2025-10-22T21:41:49.5991860Z hint:
2025-10-22T21:41:49.5992480Z hint: 	git config --global init.defaultBranch <name>
2025-10-22T21:41:49.5993640Z hint:
2025-10-22T21:41:49.5995030Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-10-22T21:41:49.5996480Z hint: 'development'. The just-created branch can be renamed via this command:
2025-10-22T21:41:49.5996980Z hint:
2025-10-22T21:41:49.5997640Z hint: 	git branch -m <name>
2025-10-22T21:41:49.5998030Z hint:
2025-10-22T21:41:49.5998480Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-10-22T21:41:49.5999240Z Initialized empty Git repository in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/.git/
2025-10-22T21:41:49.6000910Z [command]/opt/homebrew/bin/git remote add origin https://github.com/Yubico/Yubico.NET.SDK
2025-10-22T21:41:49.6113070Z ##[endgroup]
2025-10-22T21:41:49.6113900Z ##[group]Disabling automatic garbage collection
2025-10-22T21:41:49.6117540Z [command]/opt/homebrew/bin/git config --local gc.auto 0
2025-10-22T21:41:49.6210810Z ##[endgroup]
2025-10-22T21:41:49.6211820Z ##[group]Setting up auth
2025-10-22T21:41:49.6214260Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-22T21:41:49.6316990Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-22T21:41:49.8580360Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-22T21:41:49.8679510Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-22T21:41:50.0554990Z [command]/opt/homebrew/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-10-22T21:41:50.0819400Z ##[endgroup]
2025-10-22T21:41:50.0848400Z ##[group]Fetching the repository
2025-10-22T21:41:50.0855100Z [command]/opt/homebrew/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +61edcc0f6126c293f1d4612607aa535e18b7d3f1:refs/remotes/origin/experiment/isolate-disposal-hang
2025-10-22T21:41:51.4092390Z From https://github.com/Yubico/Yubico.NET.SDK
2025-10-22T21:41:51.4093310Z  * [new ref]         61edcc0f6126c293f1d4612607aa535e18b7d3f1 -> origin/experiment/isolate-disposal-hang
2025-10-22T21:41:51.4180650Z ##[endgroup]
2025-10-22T21:41:51.4181890Z ##[group]Determining the checkout info
2025-10-22T21:41:51.4182590Z ##[endgroup]
2025-10-22T21:41:51.4183360Z [command]/opt/homebrew/bin/git sparse-checkout disable
2025-10-22T21:41:51.4290110Z [command]/opt/homebrew/bin/git config --local --unset-all extensions.worktreeConfig
2025-10-22T21:41:51.4334100Z ##[group]Checking out the ref
2025-10-22T21:41:51.4336550Z [command]/opt/homebrew/bin/git checkout --progress --force -B experiment/isolate-disposal-hang refs/remotes/origin/experiment/isolate-disposal-hang
2025-10-22T21:41:51.6398310Z Switched to a new branch 'experiment/isolate-disposal-hang'
2025-10-22T21:41:51.6500090Z branch 'experiment/isolate-disposal-hang' set up to track 'origin/experiment/isolate-disposal-hang'.
2025-10-22T21:41:51.6657630Z ##[endgroup]
2025-10-22T21:41:51.6768710Z [command]/opt/homebrew/bin/git log -1 --format=%H
2025-10-22T21:41:51.6803810Z 61edcc0f6126c293f1d4612607aa535e18b7d3f1
2025-10-22T21:41:51.6953340Z ##[group]Run actions/setup-dotnet@v4
2025-10-22T21:41:51.6953630Z with:
2025-10-22T21:41:51.6953810Z   global-json-file: ./global.json
2025-10-22T21:41:51.6954030Z   cache: false
2025-10-22T21:41:51.6954200Z ##[endgroup]
2025-10-22T21:41:51.8607470Z [command]/Users/runner/work/_actions/actions/setup-dotnet/v4/externals/install-dotnet.sh --skip-non-versioned-files --runtime dotnet --channel LTS
2025-10-22T21:41:52.9145480Z dotnet-install: .NET Core Runtime with version '8.0.21' is already installed.
2025-10-22T21:41:52.9167750Z [command]/Users/runner/work/_actions/actions/setup-dotnet/v4/externals/install-dotnet.sh --skip-non-versioned-files --channel 9.0
2025-10-22T21:41:53.8413880Z dotnet-install: .NET Core SDK with version '9.0.306' is already installed.
2025-10-22T21:41:53.8553290Z ##[group]Run dotnet nuget add source --username DennisDyallo --password *** --store-password-in-clear-text --name github "https://nuget.pkg.github.com/Yubico/index.json"
2025-10-22T21:41:53.8554500Z [36;1mdotnet nuget add source --username DennisDyallo --password *** --store-password-in-clear-text --name github "https://nuget.pkg.github.com/Yubico/index.json"[0m
2025-10-22T21:41:53.8607310Z shell: /bin/bash -e {0}
2025-10-22T21:41:53.8607600Z env:
2025-10-22T21:41:53.8607840Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:53.8608110Z ##[endgroup]
2025-10-22T21:41:54.5235300Z 
2025-10-22T21:41:54.5258960Z Welcome to .NET 9.0!
2025-10-22T21:41:54.5259420Z ---------------------
2025-10-22T21:41:54.5259780Z SDK Version: 9.0.306
2025-10-22T21:41:54.5260080Z 
2025-10-22T21:41:54.5260240Z Telemetry
2025-10-22T21:41:54.5260610Z ---------
2025-10-22T21:41:54.5261750Z The .NET tools collect usage data in order to help us improve your experience. It is collected by Microsoft and shared with the community. You can opt-out of telemetry by setting the DOTNET_CLI_TELEMETRY_OPTOUT environment variable to '1' or 'true' using your favorite shell.
2025-10-22T21:41:54.5262580Z 
2025-10-22T21:41:54.5262980Z Read more about .NET CLI Tools telemetry: https://aka.ms/dotnet-cli-telemetry
2025-10-22T21:41:55.1084440Z 
2025-10-22T21:41:55.1185600Z ----------------
2025-10-22T21:41:55.1325970Z Installed an ASP.NET Core HTTPS development certificate.
2025-10-22T21:41:55.1427580Z To trust the certificate, run 'dotnet dev-certs https --trust'
2025-10-22T21:41:55.1428470Z Learn about HTTPS: https://aka.ms/dotnet-https
2025-10-22T21:41:55.1529130Z 
2025-10-22T21:41:55.1630010Z ----------------
2025-10-22T21:41:55.1731970Z Write your first app: https://aka.ms/dotnet-hello-world
2025-10-22T21:41:55.1833340Z Find out what's new: https://aka.ms/dotnet-whats-new
2025-10-22T21:41:55.1940450Z Explore documentation: https://aka.ms/dotnet-docs
2025-10-22T21:41:55.2034480Z Report issues and find source on GitHub: https://github.com/dotnet/core
2025-10-22T21:41:55.2134760Z Use 'dotnet --help' to see available commands or visit: https://aka.ms/dotnet-cli
2025-10-22T21:41:55.2236990Z --------------------------------------------------------------------------------------
2025-10-22T21:41:55.3488840Z Package source with Name: github added successfully.
2025-10-22T21:41:55.4996180Z ##[group]Run brew install openssl
2025-10-22T21:41:55.4996560Z [36;1mbrew install openssl[0m
2025-10-22T21:41:55.4996790Z [36;1msudo mkdir -p /usr/local/lib[0m
2025-10-22T21:41:55.4997170Z [36;1msudo ln -s $(brew --prefix)/opt/openssl@3/lib/libcrypto.3.dylib /usr/local/lib/libcrypto.3.dylib[0m
2025-10-22T21:41:55.4997670Z [36;1msudo ln -s $(brew --prefix)/opt/openssl@3/lib/libssl.3.dylib /usr/local/lib/libssl.3.dylib[0m
2025-10-22T21:41:55.5030100Z shell: /bin/bash -e {0}
2025-10-22T21:41:55.5030260Z env:
2025-10-22T21:41:55.5030410Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:55.5030750Z ##[endgroup]
2025-10-22T21:41:59.4203160Z ##[warning]openssl@3 3.6.0 is already installed and up-to-date.
To reinstall 3.6.0, run:
  brew reinstall openssl@3

2025-10-22T21:41:59.5346360Z ##[group]Run dotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks" --logger "console;verbosity=detailed"
2025-10-22T21:41:59.5347550Z [36;1mdotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks" --logger "console;verbosity=detailed"[0m
2025-10-22T21:41:59.5383740Z shell: /bin/bash -e {0}
2025-10-22T21:41:59.5383960Z env:
2025-10-22T21:41:59.5384170Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:59.5384430Z   Logging__LogLevel__Default: Information
2025-10-22T21:41:59.5384740Z   Logging__LogLevel__Yubico: Information
2025-10-22T21:41:59.5385030Z ##[endgroup]
2025-10-22T21:42:00.2180040Z   Determining projects to restore...
2025-10-22T21:42:04.1598460Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico.Core.UnitTests.csproj (in 3.6 sec).
2025-10-22T21:42:04.4236350Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/Yubico.Core.csproj (in 3.88 sec).
2025-10-22T21:42:10.1485730Z   Yubico.Core -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/bin/Debug/netstandard2.1/Yubico.Core.dll
2025-10-22T21:42:13.0336530Z   Yubico.Core.UnitTests -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:42:13.0446730Z Test run for /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll (.NETCoreApp,Version=v8.0)
2025-10-22T21:42:13.4507970Z VSTest version 17.14.1 (arm64)
2025-10-22T21:42:13.4529320Z 
2025-10-22T21:42:13.5943830Z Starting test execution, please wait...
2025-10-22T21:42:13.6158250Z A total of 1 test files matched the specified pattern.
2025-10-22T21:42:13.6178840Z /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:42:14.5583820Z [xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 8.0.21)
2025-10-22T21:42:14.6585350Z [xUnit.net 00:00:00.12]   Discovering: Yubico.Core.UnitTests
2025-10-22T21:42:14.8308020Z [xUnit.net 00:00:00.29]   Discovered:  Yubico.Core.UnitTests
2025-10-22T21:42:14.8612330Z [xUnit.net 00:00:00.32]   Starting:    Yubico.Core.UnitTests
2025-10-22T21:42:14.9916510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0026130Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.0063020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0085970Z       [TELEMETRY][L001] StartListening() called, creating background thread
2025-10-22T21:42:15.0114240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0219220Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0320740Z       HID listener thread started. ThreadID is 18.
2025-10-22T21:42:15.0335020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0338890Z       [TELEMETRY][L001] Background thread started
2025-10-22T21:42:15.0339810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0350230Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.0365000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0378160Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0393960Z       IOHIDManager 5651944368 is scheduled with run loop 5670889008 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.0402270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0415370Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0427620Z       Flushed existing devices.
2025-10-22T21:42:15.0431800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0432780Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0434670Z       [TELEMETRY][L001] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.0435540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0436240Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0436950Z       [TELEMETRY][L001] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.0460500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0460990Z       [TELEMETRY][L001] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.0461510Z         CallStack:
2025-10-22T21:42:15.0462070Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.0462950Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.0464210Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.0465560Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.0466210Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.0467790Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.0468650Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.0469490Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0470160Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.0470760Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.0471470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0472000Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.0472670Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.0473380Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.0474010Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0474610Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.0475230Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.0475990Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0476620Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.0477290Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.0478120Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.0479390Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0479940Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.0480490Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.0481200Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0482040Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.0482600Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.0483350Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.0484250Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.0485150Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0485750Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.0486360Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.0487050Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.0487780Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0488300Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.0489190Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.0489930Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0490420Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.0490940Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.0491710Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.0492350Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0492850Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.0493780Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.0495270Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.0496480Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.0497430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0498470Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.0500180Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.0501070Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.0501880Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0502770Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.0503300Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.0504070Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0504600Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.0505750Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.0506900Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.0507430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0507980Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.0508740Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.0509480Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0510020Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.0510900Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.0511750Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.0512630Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0513240Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.0513920Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.0514660Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0515180Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.0516250Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.0517500Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0518450Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.0519640Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.0520340Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.0521460Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.0522430Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.0522930Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.0523360Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.0523770Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.0524670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0525020Z       [TELEMETRY][L001] Setting _isDisposed = true
2025-10-22T21:42:15.0525420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0525860Z       [TELEMETRY][L001] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.0526270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0526640Z       [TELEMETRY][L001] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.0527050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0527580Z       [TELEMETRY][L001] Setting _shouldStop flag to true
2025-10-22T21:42:15.0527980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0528430Z       [TELEMETRY][L001] _shouldStop flag set. RunLoop pointer: 5670889008
2025-10-22T21:42:15.0529050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0529500Z       [TELEMETRY][L001] Calling CFRunLoopStop(5670889008)
2025-10-22T21:42:15.0530000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0530330Z       [TELEMETRY][L001] CFRunLoopStop() returned
2025-10-22T21:42:15.0530850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0531270Z       [TELEMETRY][L001] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.0531780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0532230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0532710Z       [TELEMETRY][L001] Loop iter 1: CFRunLoopRunInMode returned 2 after 22ms
2025-10-22T21:42:15.0533160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0533520Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0534100Z       [TELEMETRY][L001] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.0534650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0535130Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0535740Z       [TELEMETRY][L001] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.0536260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0536620Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0536950Z       [TELEMETRY][L001] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.0537530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0537840Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0538510Z       [TELEMETRY][L001] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.0541010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0541330Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0541580Z       [TELEMETRY][L001] Releasing IOHIDManager
2025-10-22T21:42:15.0541900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0542280Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0542550Z       [TELEMETRY][L001] IOHIDManager released
2025-10-22T21:42:15.0542960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0543240Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0543490Z       [TELEMETRY][L001] Releasing run loop mode CFString
2025-10-22T21:42:15.0543810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0692480Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0694180Z       [TELEMETRY][L001] Run loop mode CFString released
2025-10-22T21:42:15.0694590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0695010Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0695650Z       [TELEMETRY][L001] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.0696800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0697910Z       [TELEMETRY][L001] Thread exited successfully after 0ms
2025-10-22T21:42:15.0698410Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0698700Z       [TELEMETRY][L001] StopListening() complete
2025-10-22T21:42:15.0699080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0699390Z       [TELEMETRY][L001] StopListening() returned successfully
2025-10-22T21:42:15.0699740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0700040Z       [TELEMETRY][L001] Calling base.Dispose(True)
2025-10-22T21:42:15.0700460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0700810Z       [TELEMETRY][L001] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.0701200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0701560Z       [TELEMETRY][L002] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.0702000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0702500Z       [TELEMETRY][L002] StartListening() called, creating background thread
2025-10-22T21:42:15.0702960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0703260Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0703610Z       HID listener thread started. ThreadID is 19.
2025-10-22T21:42:15.0703940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0704310Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0704750Z       IOHIDManager 5670887504 is scheduled with run loop 5670891440 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.0705330Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0705690Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0705960Z       Flushed existing devices.
2025-10-22T21:42:15.0706240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0706590Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0706860Z       [TELEMETRY][L002] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.0707250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0707610Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0707990Z       [TELEMETRY][L002] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.0708460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0708820Z       [TELEMETRY][L002] Background thread started
2025-10-22T21:42:15.0709150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0709480Z       [TELEMETRY][L002] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.0709860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0710290Z       [TELEMETRY][L002] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.0710730Z         CallStack:
2025-10-22T21:42:15.0711270Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.0712190Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.0713700Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.0714810Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.0715360Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.0716070Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.0717190Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.0717970Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0718490Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.0719210Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.0719920Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0720540Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.0721130Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.0722120Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.0722870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0723580Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.0724200Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.0725160Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0725940Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.0727400Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.0728310Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.0729240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0730190Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.0730960Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.0731850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0732910Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.0733640Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.0734510Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.0735740Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.0737030Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0740110Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.0741990Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.0743930Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.0746510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0748070Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.0749410Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.0752010Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0752650Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.0753250Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.0753990Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.0754770Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0755300Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.0756290Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.0757630Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.0758900Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.0759810Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0760690Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.0761700Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.0762450Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.0763170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0763760Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.0767840Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.0770050Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0783060Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.0785140Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.0787950Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.0790970Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0792240Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.0793990Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.0796090Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0796660Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.0800260Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.0801070Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.0801800Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0802360Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.0802840Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.0803470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0803940Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.0804880Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.0806080Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0808560Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.0810960Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.0811610Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.0818150Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.0829310Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.0830460Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.0831510Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.0832400Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.0833240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0833920Z       [TELEMETRY][L002] Setting _isDisposed = true
2025-10-22T21:42:15.0834720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0835540Z       [TELEMETRY][L002] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.0836470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0837250Z       [TELEMETRY][L002] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.0838130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0838850Z       [TELEMETRY][L002] Setting _shouldStop flag to true
2025-10-22T21:42:15.0839660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0841600Z       [TELEMETRY][L002] _shouldStop flag set. RunLoop pointer: 5670891440
2025-10-22T21:42:15.0842540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0843280Z       [TELEMETRY][L002] Calling CFRunLoopStop(5670891440)
2025-10-22T21:42:15.0844200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0844890Z       [TELEMETRY][L002] CFRunLoopStop() returned
2025-10-22T21:42:15.0846240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0847090Z       [TELEMETRY][L002] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.0848080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0848840Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0849640Z       [TELEMETRY][L002] Loop iter 1: CFRunLoopRunInMode returned 2 after 3ms
2025-10-22T21:42:15.0850580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0851350Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0852190Z       [TELEMETRY][L002] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.0853270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0854140Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0855140Z       [TELEMETRY][L002] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.0891080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0892180Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0893390Z       [TELEMETRY][L002] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.0894370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0895790Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0896750Z       [TELEMETRY][L002] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.0897110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0897400Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0897630Z       [TELEMETRY][L002] Releasing IOHIDManager
2025-10-22T21:42:15.0897920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0898180Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0898400Z       [TELEMETRY][L002] IOHIDManager released
2025-10-22T21:42:15.0898680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0898960Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0899580Z       [TELEMETRY][L002] Releasing run loop mode CFString
2025-10-22T21:42:15.0899910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0900220Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0900500Z       [TELEMETRY][L002] Run loop mode CFString released
2025-10-22T21:42:15.0900860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0901260Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0901600Z       [TELEMETRY][L002] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.0902000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0902330Z       [TELEMETRY][L002] Thread exited successfully after 0ms
2025-10-22T21:42:15.0902680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0902950Z       [TELEMETRY][L002] StopListening() complete
2025-10-22T21:42:15.0903280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0903610Z       [TELEMETRY][L002] StopListening() returned successfully
2025-10-22T21:42:15.0903950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0904210Z       [TELEMETRY][L002] Calling base.Dispose(True)
2025-10-22T21:42:15.0904510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0904780Z       [TELEMETRY][L002] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.0905070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0905940Z       [TELEMETRY][L003] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.0908900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0909270Z       [TELEMETRY][L003] StartListening() called, creating background thread
2025-10-22T21:42:15.0909670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0910270Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0910520Z       HID listener thread started. ThreadID is 20.
2025-10-22T21:42:15.0911170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0911450Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0911820Z       IOHIDManager 5670889312 is scheduled with run loop 5670893776 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.0914700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0915050Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0915300Z       Flushed existing devices.
2025-10-22T21:42:15.0915570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0915860Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0916140Z       [TELEMETRY][L003] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.0916470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0916760Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.0918160Z       [TELEMETRY][L003] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.0919050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0919360Z       [TELEMETRY][L003] Background thread started
2025-10-22T21:42:15.0919680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0921780Z       [TELEMETRY][L003] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.0922140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.0922550Z       [TELEMETRY][L003] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.0922870Z         CallStack:
2025-10-22T21:42:15.0923640Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.0924410Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.0925790Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.0927890Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.0929130Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.0929890Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.0930750Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.0931540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0932080Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.0932590Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.0933440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0934400Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.0935000Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.0935710Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.0936530Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0936970Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.0937840Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.0938600Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0939160Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.0939910Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.0940760Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.0943740Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0944160Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.0950670Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.0951510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0951990Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.0954820Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.0955560Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.0956390Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.0957490Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0958020Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.0958570Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.0959190Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.0959800Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0960250Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.0960680Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.0961230Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0961960Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.0963250Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.0966570Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.0968300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0969620Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.0972000Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.0976690Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.0990420Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.0993140Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.0997050Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.0998780Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.0999540Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.1000170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1000610Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.1001060Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.1001650Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1002070Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.1003050Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.1003900Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1004340Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1004790Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1005220Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.1005810Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1006210Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.1006940Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.1007670Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1008120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1008560Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1009680Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.1010340Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1010770Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.1018540Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.1019790Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1021130Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1022990Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.1023620Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.1041930Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.1042730Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.1043170Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.1043530Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.1043870Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.1044680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1044950Z       [TELEMETRY][L003] Setting _isDisposed = true
2025-10-22T21:42:15.1045250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1045560Z       [TELEMETRY][L003] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.1045910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1046230Z       [TELEMETRY][L003] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.1046560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1046840Z       [TELEMETRY][L003] Setting _shouldStop flag to true
2025-10-22T21:42:15.1047150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1047470Z       [TELEMETRY][L003] _shouldStop flag set. RunLoop pointer: 5670893776
2025-10-22T21:42:15.1047820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1048100Z       [TELEMETRY][L003] Calling CFRunLoopStop(5670893776)
2025-10-22T21:42:15.1048420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1048690Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1048990Z       [TELEMETRY][L003] Loop iter 1: CFRunLoopRunInMode returned 2 after 1ms
2025-10-22T21:42:15.1049350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1049620Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1049970Z       [TELEMETRY][L003] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.1057160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1057540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1058160Z       [TELEMETRY][L003] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.1058570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1058830Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1059770Z       [TELEMETRY][L003] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.1060110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1060370Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1060630Z       [TELEMETRY][L003] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.1060950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1061470Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1061700Z       [TELEMETRY][L003] Releasing IOHIDManager
2025-10-22T21:42:15.1061990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1062440Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1062660Z       [TELEMETRY][L003] IOHIDManager released
2025-10-22T21:42:15.1062950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1063220Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1064750Z       [TELEMETRY][L003] Releasing run loop mode CFString
2025-10-22T21:42:15.1065090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1065380Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1065620Z       [TELEMETRY][L003] Run loop mode CFString released
2025-10-22T21:42:15.1065930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1066290Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1066570Z       [TELEMETRY][L003] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.1066930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1067190Z       [TELEMETRY][L003] CFRunLoopStop() returned
2025-10-22T21:42:15.1067480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1067780Z       [TELEMETRY][L003] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.1068110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1068390Z       [TELEMETRY][L003] Thread exited successfully after 0ms
2025-10-22T21:42:15.1068720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1068980Z       [TELEMETRY][L003] StopListening() complete
2025-10-22T21:42:15.1069270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1069560Z       [TELEMETRY][L003] StopListening() returned successfully
2025-10-22T21:42:15.1069880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1070150Z       [TELEMETRY][L003] Calling base.Dispose(True)
2025-10-22T21:42:15.1070460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1070720Z       [TELEMETRY][L003] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.1071020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1071340Z       [TELEMETRY][L004] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.1071700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1072020Z       [TELEMETRY][L004] StartListening() called, creating background thread
2025-10-22T21:42:15.1072370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1072650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1072880Z       HID listener thread started. ThreadID is 21.
2025-10-22T21:42:15.1073180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1073450Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1073800Z       IOHIDManager 5670889312 is scheduled with run loop 5670896608 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.1074220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1074490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1074710Z       Flushed existing devices.
2025-10-22T21:42:15.1074970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1075230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1075920Z       [TELEMETRY][L004] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.1076270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1076540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1076880Z       [TELEMETRY][L004] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.1077290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1077660Z       [TELEMETRY][L004] Background thread started
2025-10-22T21:42:15.1078590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1078910Z       [TELEMETRY][L004] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.1079940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1081330Z       [TELEMETRY][L004] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.1081660Z         CallStack:
2025-10-22T21:42:15.1082160Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.1082940Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.1084010Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.1085080Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.1085650Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.1086280Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.1087030Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.1087770Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1088280Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.1088810Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.1089440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1089970Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.1090510Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.1091150Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.1091720Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1092170Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.1092690Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.1093360Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1093840Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.1094770Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.1095470Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.1096040Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1096470Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.1096990Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1097570Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1098030Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1098450Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.1099140Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.1099960Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.1100670Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1101170Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.1101700Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1102290Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1102880Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1103330Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1104060Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1104620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1110090Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.1112850Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.1113480Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.1114080Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1114490Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.1115340Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.1120930Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1123610Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1125660Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1128160Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1129590Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.1130580Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.1134080Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1134540Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.1135000Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.1135620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1136060Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.1136830Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.1140950Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1141640Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1142090Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1142560Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.1143840Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1144400Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.1153070Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.1155070Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1155560Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1156020Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1156500Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.1157140Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1157570Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.1158450Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.1162190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1163150Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1170120Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.1170740Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.1171390Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.1172160Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.1172840Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.1173200Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.1173540Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.1173880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1174160Z       [TELEMETRY][L004] Setting _isDisposed = true
2025-10-22T21:42:15.1174560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1174880Z       [TELEMETRY][L004] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.1175260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1175580Z       [TELEMETRY][L004] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.1175920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1176190Z       [TELEMETRY][L004] Setting _shouldStop flag to true
2025-10-22T21:42:15.1176510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1176820Z       [TELEMETRY][L004] _shouldStop flag set. RunLoop pointer: 5670896608
2025-10-22T21:42:15.1177200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1177470Z       [TELEMETRY][L004] Calling CFRunLoopStop(5670896608)
2025-10-22T21:42:15.1177780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1178030Z       [TELEMETRY][L004] CFRunLoopStop() returned
2025-10-22T21:42:15.1178320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1178590Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1178880Z       [TELEMETRY][L004] Loop iter 1: CFRunLoopRunInMode returned 2 after 1ms
2025-10-22T21:42:15.1179240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1179540Z       [TELEMETRY][L004] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.1179890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1180150Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1180470Z       [TELEMETRY][L004] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.1180860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1181130Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1181440Z       [TELEMETRY][L004] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.1181830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1182100Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1182370Z       [TELEMETRY][L004] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.1182700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1182970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1183260Z       [TELEMETRY][L004] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.1183580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1183850Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1184060Z       [TELEMETRY][L004] Releasing IOHIDManager
2025-10-22T21:42:15.1184350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1184620Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1184840Z       [TELEMETRY][L004] IOHIDManager released
2025-10-22T21:42:15.1185120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1185580Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1185840Z       [TELEMETRY][L004] Releasing run loop mode CFString
2025-10-22T21:42:15.1186150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1186420Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1186660Z       [TELEMETRY][L004] Run loop mode CFString released
2025-10-22T21:42:15.1186950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1187300Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1187570Z       [TELEMETRY][L004] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.1187920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1188190Z       [TELEMETRY][L004] Thread exited successfully after 0ms
2025-10-22T21:42:15.1188520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1188770Z       [TELEMETRY][L004] StopListening() complete
2025-10-22T21:42:15.1189070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1189340Z       [TELEMETRY][L004] StopListening() returned successfully
2025-10-22T21:42:15.1189660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1189910Z       [TELEMETRY][L004] Calling base.Dispose(True)
2025-10-22T21:42:15.1190200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1190460Z       [TELEMETRY][L004] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.1190750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1191070Z       [TELEMETRY][L005] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.1191430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1191740Z       [TELEMETRY][L005] StartListening() called, creating background thread
2025-10-22T21:42:15.1192080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1192340Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1192570Z       HID listener thread started. ThreadID is 22.
2025-10-22T21:42:15.1193180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1193450Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1195170Z       IOHIDManager 5653018240 is scheduled with run loop 5653019728 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.1195670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1195950Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1196160Z       Flushed existing devices.
2025-10-22T21:42:15.1196420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1196690Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1196950Z       [TELEMETRY][L005] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.1200390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1200670Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1201040Z       [TELEMETRY][L005] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.1202880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1203180Z       [TELEMETRY][L005] Background thread started
2025-10-22T21:42:15.1203490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1203790Z       [TELEMETRY][L005] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.1204150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1204530Z       [TELEMETRY][L005] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.1204850Z         CallStack:
2025-10-22T21:42:15.1205320Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.1206340Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.1213050Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.1214110Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.1214830Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.1215710Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.1216450Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.1217290Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1218740Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.1219290Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.1219940Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1220400Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.1220950Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.1221610Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.1222180Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1222630Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.1225350Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.1226170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1227070Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.1234540Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.1235270Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.1235890Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1236320Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.1236750Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1237340Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1237790Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1238220Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.1238920Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.1240130Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.1240850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1241360Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.1242010Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1242620Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1243870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1244330Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1244750Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1245300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1245770Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.1254290Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.1255090Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.1255680Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1256090Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.1256940Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.1258240Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1263580Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1264530Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1265630Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1266650Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.1267400Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.1268040Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1268480Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.1268920Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.1269530Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1269950Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.1271080Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.1271930Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1272410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1273160Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1273800Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.1284120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1284630Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.1285500Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.1288410Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1293580Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1294080Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1294570Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.1295190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1297130Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.1298040Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.1299110Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1307330Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1311300Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.1314110Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.1317960Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.1322400Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.1322860Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.1323230Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.1323590Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.1323920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1324550Z       [TELEMETRY][L005] Setting _isDisposed = true
2025-10-22T21:42:15.1325820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1326170Z       [TELEMETRY][L005] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.1326540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1326850Z       [TELEMETRY][L005] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.1329710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1330030Z       [TELEMETRY][L005] Setting _shouldStop flag to true
2025-10-22T21:42:15.1330350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1330670Z       [TELEMETRY][L005] _shouldStop flag set. RunLoop pointer: 5653019728
2025-10-22T21:42:15.1331420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1331830Z       [TELEMETRY][L005] Calling CFRunLoopStop(5653019728)
2025-10-22T21:42:15.1332140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1332390Z       [TELEMETRY][L005] CFRunLoopStop() returned
2025-10-22T21:42:15.1334670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1334990Z       [TELEMETRY][L005] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.1335620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1335900Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1336190Z       [TELEMETRY][L005] Loop iter 1: CFRunLoopRunInMode returned 2 after 2ms
2025-10-22T21:42:15.1336550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1336810Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1337120Z       [TELEMETRY][L005] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.1337800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1338070Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1338380Z       [TELEMETRY][L005] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.1338760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1344430Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1345050Z       [TELEMETRY][L005] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.1345460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1345740Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1347020Z       [TELEMETRY][L005] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.1352660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1352970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1353210Z       [TELEMETRY][L005] Releasing IOHIDManager
2025-10-22T21:42:15.1353510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1353780Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1354000Z       [TELEMETRY][L005] IOHIDManager released
2025-10-22T21:42:15.1354290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1354550Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1354780Z       [TELEMETRY][L005] Releasing run loop mode CFString
2025-10-22T21:42:15.1355090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1355360Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1355630Z       [TELEMETRY][L005] Run loop mode CFString released
2025-10-22T21:42:15.1355960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1356230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1356510Z       [TELEMETRY][L005] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.1356870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1357150Z       [TELEMETRY][L005] Thread exited successfully after 0ms
2025-10-22T21:42:15.1357490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1357740Z       [TELEMETRY][L005] StopListening() complete
2025-10-22T21:42:15.1358030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1358320Z       [TELEMETRY][L005] StopListening() returned successfully
2025-10-22T21:42:15.1358650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1359190Z       [TELEMETRY][L005] Calling base.Dispose(True)
2025-10-22T21:42:15.1359500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1359760Z       [TELEMETRY][L005] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.1360050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1360370Z       [TELEMETRY][L006] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.1360860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1361510Z       [TELEMETRY][L006] StartListening() called, creating background thread
2025-10-22T21:42:15.1361890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1362160Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1362400Z       HID listener thread started. ThreadID is 21.
2025-10-22T21:42:15.1362700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1362960Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1363530Z       IOHIDManager 5651944368 is scheduled with run loop 5651947120 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.1363970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1364250Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1364460Z       Flushed existing devices.
2025-10-22T21:42:15.1364730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1365000Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1365260Z       [TELEMETRY][L006] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.1365580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1365850Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1366200Z       [TELEMETRY][L006] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.1367610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1367880Z       [TELEMETRY][L006] Background thread started
2025-10-22T21:42:15.1368530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1368980Z       [TELEMETRY][L006] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.1369460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1369990Z       [TELEMETRY][L006] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.1370460Z         CallStack:
2025-10-22T21:42:15.1371080Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.1372020Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.1373150Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.1374230Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.1374790Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.1375420Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.1376240Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.1376960Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1377970Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.1380610Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.1381310Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1382450Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.1384560Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.1386100Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.1386760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1387220Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.1388040Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.1388870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1389390Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.1390040Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.1390760Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.1391360Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1391790Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.1392220Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1392830Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1393310Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1393740Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.1394460Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.1395310Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.1396040Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1396570Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.1397110Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1397740Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1398910Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1399380Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1399810Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1402410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1403120Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.1403610Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.1404280Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.1405150Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1405590Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.1406500Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.1410910Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1412820Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1414060Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1417290Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1418330Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.1419790Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.1420460Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1420910Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.1421380Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.1421980Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1422400Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.1423170Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.1423970Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1424420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1424860Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1425310Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.1429360Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1430220Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.1431040Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.1432480Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1432980Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1433450Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1433940Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.1434720Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1435160Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.1436240Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.1438600Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1458990Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1464090Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.1465320Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.1465940Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.1467530Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.1468000Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.1468370Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.1468720Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.1469380Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1469810Z       [TELEMETRY][L006] Setting _isDisposed = true
2025-10-22T21:42:15.1470260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1470720Z       [TELEMETRY][L006] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.1471460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1471940Z       [TELEMETRY][L006] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.1472280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1472560Z       [TELEMETRY][L006] Setting _shouldStop flag to true
2025-10-22T21:42:15.1472910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1473530Z       [TELEMETRY][L006] _shouldStop flag set. RunLoop pointer: 5651947120
2025-10-22T21:42:15.1473920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1474210Z       [TELEMETRY][L006] Calling CFRunLoopStop(5651947120)
2025-10-22T21:42:15.1474530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1476080Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1476380Z       [TELEMETRY][L006] Loop iter 1: CFRunLoopRunInMode returned 2 after 3ms
2025-10-22T21:42:15.1476740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1477020Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1477340Z       [TELEMETRY][L006] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.1478050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1478340Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1479060Z       [TELEMETRY][L006] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.1479480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1480050Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1480330Z       [TELEMETRY][L006] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.1480700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1481150Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1481430Z       [TELEMETRY][L006] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.1482060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1482350Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1482600Z       [TELEMETRY][L006] Releasing IOHIDManager
2025-10-22T21:42:15.1482900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1483170Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1483400Z       [TELEMETRY][L006] IOHIDManager released
2025-10-22T21:42:15.1483990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1484260Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1484510Z       [TELEMETRY][L006] Releasing run loop mode CFString
2025-10-22T21:42:15.1484830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1485120Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1485360Z       [TELEMETRY][L006] Run loop mode CFString released
2025-10-22T21:42:15.1485930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1486230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1486510Z       [TELEMETRY][L006] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.1486860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1487140Z       [TELEMETRY][L006] CFRunLoopStop() returned
2025-10-22T21:42:15.1487450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1488040Z       [TELEMETRY][L006] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.1488400Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1492900Z       [TELEMETRY][L006] Thread exited successfully after 0ms
2025-10-22T21:42:15.1493350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1493710Z       [TELEMETRY][L006] StopListening() complete
2025-10-22T21:42:15.1494470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1494770Z       [TELEMETRY][L006] StopListening() returned successfully
2025-10-22T21:42:15.1495110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1495450Z       [TELEMETRY][L006] Calling base.Dispose(True)
2025-10-22T21:42:15.1501420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1502500Z       [TELEMETRY][L006] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.1502830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1509130Z       [TELEMETRY][L007] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.1509970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1510360Z       [TELEMETRY][L007] StartListening() called, creating background thread
2025-10-22T21:42:15.1511120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1511810Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1512510Z       HID listener thread started. ThreadID is 20.
2025-10-22T21:42:15.1514900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1516200Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1517900Z       IOHIDManager 5670887504 is scheduled with run loop 5670891440 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.1519870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1520550Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1520810Z       Flushed existing devices.
2025-10-22T21:42:15.1521110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1521500Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1521760Z       [TELEMETRY][L007] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.1522230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1522640Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1522990Z       [TELEMETRY][L007] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.1523410Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1523680Z       [TELEMETRY][L007] Background thread started
2025-10-22T21:42:15.1524000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1524310Z       [TELEMETRY][L007] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.1529040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1529460Z       [TELEMETRY][L007] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.1529800Z         CallStack:
2025-10-22T21:42:15.1530320Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.1531140Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.1532270Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.1533590Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.1535890Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.1538060Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.1540610Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.1542570Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1546250Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.1546890Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.1547540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1548160Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.1548730Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.1560870Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.1561580Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1562410Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.1564460Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.1567190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1568590Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.1570060Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.1570780Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.1571860Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1572300Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.1573640Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1575290Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1576550Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1578100Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.1580150Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.1582430Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.1584410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1585820Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.1587780Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1589490Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1591380Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1592650Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1595980Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1596560Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1596980Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.1597440Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.1598090Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.1598690Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1599110Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.1599980Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.1601370Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1602850Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1603800Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1604810Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1606020Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.1606780Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.1607420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1607900Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.1608350Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.1608950Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1609490Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.1613940Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.1615210Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1615500Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1615620Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1615880Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.1616160Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1616240Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.1616810Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.1616930Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1617190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1617310Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1617600Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.1617870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1617960Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.1618670Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.1618930Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1619560Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1619980Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.1620070Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.1620580Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.1620810Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.1620930Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.1621940Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.1622040Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.1622210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1622290Z       [TELEMETRY][L007] Setting _isDisposed = true
2025-10-22T21:42:15.1622440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1622570Z       [TELEMETRY][L007] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.1622720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1622840Z       [TELEMETRY][L007] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.1622980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1623080Z       [TELEMETRY][L007] Setting _shouldStop flag to true
2025-10-22T21:42:15.1623240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1623370Z       [TELEMETRY][L007] _shouldStop flag set. RunLoop pointer: 5670891440
2025-10-22T21:42:15.1623520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1623620Z       [TELEMETRY][L007] Calling CFRunLoopStop(5670891440)
2025-10-22T21:42:15.1623770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1623850Z       [TELEMETRY][L007] CFRunLoopStop() returned
2025-10-22T21:42:15.1624000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1624120Z       [TELEMETRY][L007] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.1624280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1624370Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1624500Z       [TELEMETRY][L007] Loop iter 1: CFRunLoopRunInMode returned 2 after 4ms
2025-10-22T21:42:15.1624650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1624750Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1624920Z       [TELEMETRY][L007] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.1625070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1625160Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1625320Z       [TELEMETRY][L007] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.1625480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1625560Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1625680Z       [TELEMETRY][L007] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.1629580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1629970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1630090Z       [TELEMETRY][L007] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.1630240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1630330Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1630400Z       [TELEMETRY][L007] Releasing IOHIDManager
2025-10-22T21:42:15.1631080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1631180Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1631320Z       [TELEMETRY][L007] IOHIDManager released
2025-10-22T21:42:15.1631470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1631560Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1631650Z       [TELEMETRY][L007] Releasing run loop mode CFString
2025-10-22T21:42:15.1632110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1632200Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1632290Z       [TELEMETRY][L007] Run loop mode CFString released
2025-10-22T21:42:15.1632440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1632530Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1632660Z       [TELEMETRY][L007] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.1632820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1632920Z       [TELEMETRY][L007] Thread exited successfully after 0ms
2025-10-22T21:42:15.1633070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1633150Z       [TELEMETRY][L007] StopListening() complete
2025-10-22T21:42:15.1633300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1633400Z       [TELEMETRY][L007] StopListening() returned successfully
2025-10-22T21:42:15.1633550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1633630Z       [TELEMETRY][L007] Calling base.Dispose(True)
2025-10-22T21:42:15.1633780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1633860Z       [TELEMETRY][L007] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.1634010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1634160Z       [TELEMETRY][L008] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.1634310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1634440Z       [TELEMETRY][L008] StartListening() called, creating background thread
2025-10-22T21:42:15.1634590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1634670Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1634750Z       HID listener thread started. ThreadID is 19.
2025-10-22T21:42:15.1634900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1634990Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1635340Z       IOHIDManager 5653020144 is scheduled with run loop 5652985360 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.1635500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1635590Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1635640Z       Flushed existing devices.
2025-10-22T21:42:15.1635790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1636490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1636920Z       [TELEMETRY][L008] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.1637080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1637170Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1637360Z       [TELEMETRY][L008] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.1637520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1637590Z       [TELEMETRY][L008] Background thread started
2025-10-22T21:42:15.1637740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1637870Z       [TELEMETRY][L008] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.1638020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1638240Z       [TELEMETRY][L008] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.1638290Z         CallStack:
2025-10-22T21:42:15.1638780Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.1639110Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.1639820Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.1640290Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.1640520Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.1640850Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.1641230Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.1641520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1641700Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.1642000Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.1642270Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1642410Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.1642740Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.1642990Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.1643270Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1643390Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.1643740Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.1644010Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1644160Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.1644550Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.1644800Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.1645200Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1645300Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.1645550Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1645820Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1645960Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1646280Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.1646690Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.1647130Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.1647540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1647710Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.1648000Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1648250Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1648520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1648640Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1648870Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1649150Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1649750Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.1651210Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.1652120Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.1652920Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1653150Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.1655100Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.1656570Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1658180Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1658940Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1660640Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1661720Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.1662540Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.1663810Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1664390Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.1665550Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.1666300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1666530Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.1668300Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.1668800Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1669520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1669790Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1670510Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.1671230Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1671560Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.1673130Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.1673460Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1674170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1674500Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1675320Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.1676090Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1676350Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.1679070Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.1679430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1679920Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1680340Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.1680440Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.1681000Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.1681310Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.1681420Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.1681600Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.1681690Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.1681860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1681940Z       [TELEMETRY][L008] Setting _isDisposed = true
2025-10-22T21:42:15.1683390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1683890Z       [TELEMETRY][L008] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.1684320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1684630Z       [TELEMETRY][L008] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.1685010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1685480Z       [TELEMETRY][L008] Setting _shouldStop flag to true
2025-10-22T21:42:15.1685880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1686210Z       [TELEMETRY][L008] _shouldStop flag set. RunLoop pointer: 5652985360
2025-10-22T21:42:15.1686600Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1686850Z       [TELEMETRY][L008] Calling CFRunLoopStop(5652985360)
2025-10-22T21:42:15.1687250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1687480Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1687850Z       [TELEMETRY][L008] Loop iter 1: CFRunLoopRunInMode returned 2 after 1ms
2025-10-22T21:42:15.1688240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1688470Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1689230Z       [TELEMETRY][L008] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.1689730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1689980Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1690390Z       [TELEMETRY][L008] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.1690790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1691040Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1691320Z       [TELEMETRY][L008] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.1691710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1691920Z       [TELEMETRY][L008] CFRunLoopStop() returned
2025-10-22T21:42:15.1692310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1692540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1692810Z       [TELEMETRY][L008] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.1693200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1693450Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1693640Z       [TELEMETRY][L008] Releasing IOHIDManager
2025-10-22T21:42:15.1694030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1694370Z       [TELEMETRY][L008] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.1694780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1697680Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1697800Z       [TELEMETRY][L008] IOHIDManager released
2025-10-22T21:42:15.1697970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1698070Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1698160Z       [TELEMETRY][L008] Releasing run loop mode CFString
2025-10-22T21:42:15.1698320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1698400Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1698490Z       [TELEMETRY][L008] Run loop mode CFString released
2025-10-22T21:42:15.1698650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1698740Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1698870Z       [TELEMETRY][L008] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.1699020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1699120Z       [TELEMETRY][L008] Thread exited successfully after 0ms
2025-10-22T21:42:15.1699270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1699340Z       [TELEMETRY][L008] StopListening() complete
2025-10-22T21:42:15.1699630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1699740Z       [TELEMETRY][L008] StopListening() returned successfully
2025-10-22T21:42:15.1699890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1699970Z       [TELEMETRY][L008] Calling base.Dispose(True)
2025-10-22T21:42:15.1700120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1700370Z       [TELEMETRY][L008] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.1700520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1700680Z       [TELEMETRY][L009] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.1700820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1700960Z       [TELEMETRY][L009] StartListening() called, creating background thread
2025-10-22T21:42:15.1701110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1701200Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1701280Z       HID listener thread started. ThreadID is 18.
2025-10-22T21:42:15.1701420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1701510Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1701710Z       IOHIDManager 5651944368 is scheduled with run loop 5651935328 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.1701860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1701950Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1702010Z       Flushed existing devices.
2025-10-22T21:42:15.1702160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1702250Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1702350Z       [TELEMETRY][L009] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.1702500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1702590Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1702770Z       [TELEMETRY][L009] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.1702920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1703000Z       [TELEMETRY][L009] Background thread started
2025-10-22T21:42:15.1703150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1703270Z       [TELEMETRY][L009] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.1703420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1703630Z       [TELEMETRY][L009] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.1703670Z         CallStack:
2025-10-22T21:42:15.1704090Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.1704400Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.1705150Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.1705420Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.1705650Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.1705980Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.1706390Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.1706660Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1706820Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.1707120Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.1707440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1707570Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.1707900Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.1708160Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.1708430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1708550Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.1708900Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.1709170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1709330Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.1709720Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.1709970Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.1710250Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1710340Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.1710590Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1710870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1711000Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1711230Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.1711630Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.1712000Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.1712280Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1712450Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.1712750Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1713000Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1713280Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1713410Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1713690Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1713960Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1714040Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.1714350Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.1714660Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.1714930Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1715010Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.1715730Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.1716270Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1716840Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1717120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1717680Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1718070Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.1718370Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.1718640Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1718750Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.1719020Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.1719280Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1719370Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.1719990Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.1720090Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1720360Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1720470Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1720720Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.1720990Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1721080Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.1721820Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.1721960Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1722230Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1722400Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1722700Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.1722980Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1723080Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.1723810Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.1724090Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1724580Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1725030Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.1725130Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.1725570Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.1725810Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.1725930Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.1726100Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.1726190Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.1726350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1726430Z       [TELEMETRY][L009] Setting _isDisposed = true
2025-10-22T21:42:15.1726710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1726840Z       [TELEMETRY][L009] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.1727610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1728060Z       [TELEMETRY][L009] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.1728480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1728740Z       [TELEMETRY][L009] Setting _shouldStop flag to true
2025-10-22T21:42:15.1729120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1729460Z       [TELEMETRY][L009] _shouldStop flag set. RunLoop pointer: 5651935328
2025-10-22T21:42:15.1729880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1730120Z       [TELEMETRY][L009] Calling CFRunLoopStop(5651935328)
2025-10-22T21:42:15.1730520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1730750Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1731110Z       [TELEMETRY][L009] Loop iter 1: CFRunLoopRunInMode returned 2 after 0ms
2025-10-22T21:42:15.1731510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1731730Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1732680Z       [TELEMETRY][L009] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.1735150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1736460Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1736640Z       [TELEMETRY][L009] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.1737010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1737090Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1737200Z       [TELEMETRY][L009] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.1737350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1737440Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1737540Z       [TELEMETRY][L009] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.1737690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1737780Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1737850Z       [TELEMETRY][L009] Releasing IOHIDManager
2025-10-22T21:42:15.1738000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1738090Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1738160Z       [TELEMETRY][L009] IOHIDManager released
2025-10-22T21:42:15.1738310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1738400Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1738490Z       [TELEMETRY][L009] Releasing run loop mode CFString
2025-10-22T21:42:15.1738640Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1738730Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1738810Z       [TELEMETRY][L009] Run loop mode CFString released
2025-10-22T21:42:15.1738960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1739040Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1739170Z       [TELEMETRY][L009] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.1739320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1739390Z       [TELEMETRY][L009] CFRunLoopStop() returned
2025-10-22T21:42:15.1739540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1739660Z       [TELEMETRY][L009] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.1739810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1739910Z       [TELEMETRY][L009] Thread exited successfully after 0ms
2025-10-22T21:42:15.1740060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1740130Z       [TELEMETRY][L009] StopListening() complete
2025-10-22T21:42:15.1740280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1740380Z       [TELEMETRY][L009] StopListening() returned successfully
2025-10-22T21:42:15.1740530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1740610Z       [TELEMETRY][L009] Calling base.Dispose(True)
2025-10-22T21:42:15.1740760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1740840Z       [TELEMETRY][L009] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.1740990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1741130Z       [TELEMETRY][L010] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.1741280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1741410Z       [TELEMETRY][L010] StartListening() called, creating background thread
2025-10-22T21:42:15.1741560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1741650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1741720Z       HID listener thread started. ThreadID is 15.
2025-10-22T21:42:15.1741870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1742030Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1742240Z       IOHIDManager 5653020480 is scheduled with run loop 5652985024 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.1742400Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1742490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1742540Z       Flushed existing devices.
2025-10-22T21:42:15.1742730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1742820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1742920Z       [TELEMETRY][L010] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.1743060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1743150Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1743330Z       [TELEMETRY][L010] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.1743480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1743560Z       [TELEMETRY][L010] Background thread started
2025-10-22T21:42:15.1743710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1743840Z       [TELEMETRY][L010] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.1743990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1744200Z       [TELEMETRY][L010] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.1744250Z         CallStack:
2025-10-22T21:42:15.1744640Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.1744950Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.1745650Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.1745910Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.1746130Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.1750970Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.1751450Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.1751730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1751900Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.1752200Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.1752540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1752680Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.1753010Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.1753250Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.1753510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1753730Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.1754080Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.1754350Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1754510Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.1754950Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.1755200Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.1755470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1755560Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.1755800Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1756300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1756420Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1756650Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.1757430Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.1757890Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.1758160Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1758340Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.1758620Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1758860Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1759130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1759240Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1759470Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1759730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1759810Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.1760110Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.1760350Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.1760620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1760700Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.1761400Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.1762110Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1762690Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1763030Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1763630Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1764060Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.1764380Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.1764650Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1764760Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.1765030Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.1765420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1765510Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.1766250Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.1766370Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1766640Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1766750Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1767010Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.1768830Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1769120Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.1770700Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.1771030Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1771760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1772070Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1772890Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.1773640Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1774000Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.1776420Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.1777440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1778790Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1782310Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.1796830Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.1797420Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.1797720Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.1797840Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.1798030Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.1798130Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.1798340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1798430Z       [TELEMETRY][L010] Setting _isDisposed = true
2025-10-22T21:42:15.1798580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1798710Z       [TELEMETRY][L010] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.1798860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1798980Z       [TELEMETRY][L010] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.1799130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1799230Z       [TELEMETRY][L010] Setting _shouldStop flag to true
2025-10-22T21:42:15.1799390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1799530Z       [TELEMETRY][L010] _shouldStop flag set. RunLoop pointer: 5652985024
2025-10-22T21:42:15.1799690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1799780Z       [TELEMETRY][L010] Calling CFRunLoopStop(5652985024)
2025-10-22T21:42:15.1799930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1800010Z       [TELEMETRY][L010] CFRunLoopStop() returned
2025-10-22T21:42:15.1800160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1800290Z       [TELEMETRY][L010] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.1800450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1800540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1800680Z       [TELEMETRY][L010] Loop iter 1: CFRunLoopRunInMode returned 2 after 1ms
2025-10-22T21:42:15.1800840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1800930Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1801100Z       [TELEMETRY][L010] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.1801260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1801350Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1801510Z       [TELEMETRY][L010] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.1801670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1801760Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1801870Z       [TELEMETRY][L010] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.1802020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1802110Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1802210Z       [TELEMETRY][L010] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.1802650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1802760Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1802850Z       [TELEMETRY][L010] Releasing IOHIDManager
2025-10-22T21:42:15.1803010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1803100Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1803320Z       [TELEMETRY][L010] IOHIDManager released
2025-10-22T21:42:15.1803480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1803570Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1803660Z       [TELEMETRY][L010] Releasing run loop mode CFString
2025-10-22T21:42:15.1803810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1803920Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1804010Z       [TELEMETRY][L010] Run loop mode CFString released
2025-10-22T21:42:15.1804160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1804250Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1804400Z       [TELEMETRY][L010] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.1804560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1804660Z       [TELEMETRY][L010] Thread exited successfully after 0ms
2025-10-22T21:42:15.1804810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1804890Z       [TELEMETRY][L010] StopListening() complete
2025-10-22T21:42:15.1805050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1805160Z       [TELEMETRY][L010] StopListening() returned successfully
2025-10-22T21:42:15.1805300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1805380Z       [TELEMETRY][L010] Calling base.Dispose(True)
2025-10-22T21:42:15.1805530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1805630Z       [TELEMETRY][L010] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.1805810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1805980Z       [TELEMETRY][L011] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.1806140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1808330Z       [TELEMETRY][L011] StartListening() called, creating background thread
2025-10-22T21:42:15.1808540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1808630Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1809350Z       HID listener thread started. ThreadID is 14.
2025-10-22T21:42:15.1809610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1809710Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1809930Z       IOHIDManager 5651944368 is scheduled with run loop 5651961568 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.1810120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1810250Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1810350Z       Flushed existing devices.
2025-10-22T21:42:15.1810540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1810650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1811010Z       [TELEMETRY][L011] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.1811770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1812240Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1812500Z       [TELEMETRY][L011] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.1812700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1812790Z       [TELEMETRY][L011] Background thread started
2025-10-22T21:42:15.1812980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1813300Z       [TELEMETRY][L011] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.1813490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1813740Z       [TELEMETRY][L011] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.1813820Z         CallStack:
2025-10-22T21:42:15.1814320Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.1816100Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.1816900Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.1817400Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.1817680Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.1818070Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.1819020Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.1819980Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1820450Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.1821640Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.1823400Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1823590Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.1824010Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.1824310Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.1824610Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1824730Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.1825110Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.1825410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1825590Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.1827220Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.1827610Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.1827990Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1828120Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.1828470Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1832060Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1832270Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1832670Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.1834380Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.1835130Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.1835540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1835810Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.1836240Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1836630Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1837990Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1838630Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1839360Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1840170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1840410Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.1841340Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.1842100Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.1842910Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1843030Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.1843850Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.1845770Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1847630Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1848000Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1848620Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1850900Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.1863700Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.1865920Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1866360Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.1867800Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.1868120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1868530Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.1869150Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.1869260Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1869530Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1869640Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1869910Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.1870190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1870280Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.1870850Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.1870970Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1871240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1871360Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1871670Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.1871940Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1872040Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.1872750Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.1876890Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1883420Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1883860Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.1883980Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.1885750Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.1886000Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.1886120Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.1886300Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.1886770Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.1886970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1887060Z       [TELEMETRY][L011] Setting _isDisposed = true
2025-10-22T21:42:15.1887210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1887340Z       [TELEMETRY][L011] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.1887650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1887770Z       [TELEMETRY][L011] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.1887920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1888010Z       [TELEMETRY][L011] Setting _shouldStop flag to true
2025-10-22T21:42:15.1888160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1888290Z       [TELEMETRY][L011] _shouldStop flag set. RunLoop pointer: 5651961568
2025-10-22T21:42:15.1888440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1888540Z       [TELEMETRY][L011] Calling CFRunLoopStop(5651961568)
2025-10-22T21:42:15.1888700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1888790Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1888930Z       [TELEMETRY][L011] Loop iter 1: CFRunLoopRunInMode returned 2 after 13ms
2025-10-22T21:42:15.1889110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1889220Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1889410Z       [TELEMETRY][L011] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.1889820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1889930Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1890110Z       [TELEMETRY][L011] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.1892010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1892130Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1892240Z       [TELEMETRY][L011] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.1892390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1892500Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1892600Z       [TELEMETRY][L011] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.1892760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1892870Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1892960Z       [TELEMETRY][L011] Releasing IOHIDManager
2025-10-22T21:42:15.1893120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1893200Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1893280Z       [TELEMETRY][L011] IOHIDManager released
2025-10-22T21:42:15.1893440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1893540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1893740Z       [TELEMETRY][L011] Releasing run loop mode CFString
2025-10-22T21:42:15.1893890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1893970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1894080Z       [TELEMETRY][L011] Run loop mode CFString released
2025-10-22T21:42:15.1894270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1894400Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1894570Z       [TELEMETRY][L011] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.1894740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1894830Z       [TELEMETRY][L011] CFRunLoopStop() returned
2025-10-22T21:42:15.1895000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1895160Z       [TELEMETRY][L011] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.1895440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1895560Z       [TELEMETRY][L011] Thread exited successfully after 0ms
2025-10-22T21:42:15.1900350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1900440Z       [TELEMETRY][L011] StopListening() complete
2025-10-22T21:42:15.1900600Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1900850Z       [TELEMETRY][L011] StopListening() returned successfully
2025-10-22T21:42:15.1901300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1902310Z       [TELEMETRY][L011] Calling base.Dispose(True)
2025-10-22T21:42:15.1902490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1902570Z       [TELEMETRY][L011] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.1902710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1902860Z       [TELEMETRY][L012] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.1903310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1903450Z       [TELEMETRY][L012] StartListening() called, creating background thread
2025-10-22T21:42:15.1903610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1903720Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1903810Z       HID listener thread started. ThreadID is 23.
2025-10-22T21:42:15.1903970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1904060Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1904270Z       IOHIDManager 5651944368 is scheduled with run loop 5651964256 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.1904420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1904520Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1904590Z       Flushed existing devices.
2025-10-22T21:42:15.1904750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1904840Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1922320Z       [TELEMETRY][L012] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.1922740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1922840Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.1923040Z       [TELEMETRY][L012] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.1923400Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1923490Z       [TELEMETRY][L012] Background thread started
2025-10-22T21:42:15.1923640Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1923900Z       [TELEMETRY][L012] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.1924050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1924540Z       [TELEMETRY][L012] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.1924600Z         CallStack:
2025-10-22T21:42:15.1925550Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.1925890Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.1927390Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.1928710Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.1928960Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.1929950Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.1930360Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.1930790Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1931290Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.1931960Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.1932410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1932570Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.1933300Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.1933740Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.1934280Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1934790Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.1935540Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.1936170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1937650Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.1938050Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.1938310Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.1938700Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1938800Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.1939050Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1939330Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1939470Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1939700Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.1940250Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.1940810Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.1941460Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1941810Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.1942750Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1943220Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.1943500Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1943620Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.1943850Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.1944350Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1945310Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.1948540Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.1951690Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.1954130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1954360Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.1956700Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.1957300Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1957870Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1958150Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1958740Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1959150Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.1959450Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.1959720Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1959830Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.1960930Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.1961770Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1962000Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.1963850Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.1964250Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1966130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1966290Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.1967090Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.1967420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1967520Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.1968110Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.1968480Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1968790Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1968930Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.1969230Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.1969780Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1969890Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.1970640Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.1970920Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.1971430Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.1973110Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.1973230Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.1974270Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.1974740Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.1975090Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.1975480Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.1975750Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.1976110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1976280Z       [TELEMETRY][L012] Setting _isDisposed = true
2025-10-22T21:42:15.1976540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1977240Z       [TELEMETRY][L012] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.1978000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1978140Z       [TELEMETRY][L012] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.1978510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.1978710Z       [TELEMETRY][L012] Setting _shouldStop flag to true
2025-10-22T21:42:15.1978870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2002490Z       [TELEMETRY][L012] _shouldStop flag set. RunLoop pointer: 5651964256
2025-10-22T21:42:15.2002760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2002880Z       [TELEMETRY][L012] Calling CFRunLoopStop(5651964256)
2025-10-22T21:42:15.2003050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2003520Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2003680Z       [TELEMETRY][L012] Loop iter 1: CFRunLoopRunInMode returned 2 after 10ms
2025-10-22T21:42:15.2003850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2003940Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2004130Z       [TELEMETRY][L012] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2004520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2004720Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2004990Z       [TELEMETRY][L012] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2005150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2005240Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2005350Z       [TELEMETRY][L012] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2005870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2006040Z       [TELEMETRY][L012] CFRunLoopStop() returned
2025-10-22T21:42:15.2006380Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2006600Z       [TELEMETRY][L012] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2008560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2053340Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2054110Z       [TELEMETRY][L012] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2054300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2054390Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2054470Z       [TELEMETRY][L012] Releasing IOHIDManager
2025-10-22T21:42:15.2054630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2054710Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2054780Z       [TELEMETRY][L012] IOHIDManager released
2025-10-22T21:42:15.2054960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2055050Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2055240Z       [TELEMETRY][L012] Releasing run loop mode CFString
2025-10-22T21:42:15.2055420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2055520Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2055620Z       [TELEMETRY][L012] Run loop mode CFString released
2025-10-22T21:42:15.2055770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2055860Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2056000Z       [TELEMETRY][L012] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2056160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2056260Z       [TELEMETRY][L012] Thread exited successfully after 0ms
2025-10-22T21:42:15.2056420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2056500Z       [TELEMETRY][L012] StopListening() complete
2025-10-22T21:42:15.2056650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2056750Z       [TELEMETRY][L012] StopListening() returned successfully
2025-10-22T21:42:15.2056900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2056980Z       [TELEMETRY][L012] Calling base.Dispose(True)
2025-10-22T21:42:15.2057130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2057860Z       [TELEMETRY][L012] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2058430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2058830Z       [TELEMETRY][L013] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2059250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2059650Z       [TELEMETRY][L013] StartListening() called, creating background thread
2025-10-22T21:42:15.2061020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2061570Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2061700Z       HID listener thread started. ThreadID is 24.
2025-10-22T21:42:15.2061860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2061950Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2062150Z       IOHIDManager 5653021056 is scheduled with run loop 5653022352 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2062530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2062620Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2062690Z       Flushed existing devices.
2025-10-22T21:42:15.2063040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2063670Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2063970Z       [TELEMETRY][L013] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2064340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2064450Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2065670Z       [TELEMETRY][L013] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2065950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2066140Z       [TELEMETRY][L013] Background thread started
2025-10-22T21:42:15.2066580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2066810Z       [TELEMETRY][L013] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2067170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2067970Z       [TELEMETRY][L013] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2068030Z         CallStack:
2025-10-22T21:42:15.2068880Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2069830Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2071300Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2081080Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2081700Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2082670Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2083570Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2083850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2084100Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2084850Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2086120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2086280Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2086620Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2087210Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2087860Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2087990Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2088330Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2088930Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2089080Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2089470Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2090550Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2092590Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2092710Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2093160Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2093800Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2094110Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2094620Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2095470Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2096290Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2097580Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2097940Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2098510Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2099030Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2100890Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2101040Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2101270Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2102230Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2102410Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2102990Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2103590Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2104130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2104300Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2106180Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2107390Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2108850Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2109500Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2110150Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2110550Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2110850Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2111120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2111230Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2111490Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2111760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2111850Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2112470Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2112580Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2112840Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2112950Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2113220Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2113480Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2113570Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2114130Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2114240Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2114520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2114630Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2114930Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2115200Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2115400Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2116790Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2117520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2118640Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2119060Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2119150Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2119680Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2120920Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2121040Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2121230Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2121320Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2121770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2122140Z       [TELEMETRY][L013] Setting _isDisposed = true
2025-10-22T21:42:15.2122510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2122630Z       [TELEMETRY][L013] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2122800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2123010Z       [TELEMETRY][L013] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2123340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2123530Z       [TELEMETRY][L013] Setting _shouldStop flag to true
2025-10-22T21:42:15.2123800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2124130Z       [TELEMETRY][L013] _shouldStop flag set. RunLoop pointer: 5653022352
2025-10-22T21:42:15.2124470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2124670Z       [TELEMETRY][L013] Calling CFRunLoopStop(5653022352)
2025-10-22T21:42:15.2125030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2125230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2125460Z       [TELEMETRY][L013] Loop iter 1: CFRunLoopRunInMode returned 2 after 8ms
2025-10-22T21:42:15.2125800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2126090Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2126450Z       [TELEMETRY][L013] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2126800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2126990Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2127320Z       [TELEMETRY][L013] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2127670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2127840Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2128130Z       [TELEMETRY][L013] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2128460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2128650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2128890Z       [TELEMETRY][L013] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2134460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2135000Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2135450Z       [TELEMETRY][L013] Releasing IOHIDManager
2025-10-22T21:42:15.2136070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2136530Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2136820Z       [TELEMETRY][L013] IOHIDManager released
2025-10-22T21:42:15.2137830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2138230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2138600Z       [TELEMETRY][L013] Releasing run loop mode CFString
2025-10-22T21:42:15.2139320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2139730Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2140100Z       [TELEMETRY][L013] Run loop mode CFString released
2025-10-22T21:42:15.2140790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2140910Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2153390Z       [TELEMETRY][L013] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2153600Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2153670Z       [TELEMETRY][L013] CFRunLoopStop() returned
2025-10-22T21:42:15.2153830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2153970Z       [TELEMETRY][L013] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2162310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2162460Z       [TELEMETRY][L013] Thread exited successfully after 0ms
2025-10-22T21:42:15.2162630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2162710Z       [TELEMETRY][L013] StopListening() complete
2025-10-22T21:42:15.2162860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2162960Z       [TELEMETRY][L013] StopListening() returned successfully
2025-10-22T21:42:15.2163140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2163230Z       [TELEMETRY][L013] Calling base.Dispose(True)
2025-10-22T21:42:15.2163390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2163480Z       [TELEMETRY][L013] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2163630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2163780Z       [TELEMETRY][L014] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2165000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2166840Z       [TELEMETRY][L014] StartListening() called, creating background thread
2025-10-22T21:42:15.2167010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2167150Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2167390Z       HID listener thread started. ThreadID is 25.
2025-10-22T21:42:15.2167560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2167650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2167850Z       IOHIDManager 5653023680 is scheduled with run loop 5653024976 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2168010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2168100Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2168160Z       Flushed existing devices.
2025-10-22T21:42:15.2168460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2168850Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2168960Z       [TELEMETRY][L014] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2169110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2169210Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2169410Z       [TELEMETRY][L014] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2169860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2169950Z       [TELEMETRY][L014] Background thread started
2025-10-22T21:42:15.2170100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2170220Z       [TELEMETRY][L014] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2170370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2170870Z       [TELEMETRY][L014] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2170920Z         CallStack:
2025-10-22T21:42:15.2171310Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2171630Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2172310Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2172570Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2172790Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2173110Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2173460Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2173730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2173890Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2174290Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2174620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2174770Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2175100Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2175340Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2175600Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2175710Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2176050Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2176310Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2177770Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2181080Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2181840Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2182570Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2183330Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2184020Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2185030Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2185350Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2185590Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2185980Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2186340Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2186620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2186780Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2187060Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2187320Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2187580Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2187700Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2187930Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2188190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2188270Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2188570Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2188820Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2189080Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2189160Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2189850Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2190390Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2191050Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2191500Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2192090Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2192630Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2192930Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2193200Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2193390Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2193660Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2193920Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2194010Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2194630Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2194750Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2195020Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2195140Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2195400Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2195900Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2196000Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2196720Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2196850Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2197110Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2197230Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2197530Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2197800Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2197890Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2198590Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2198860Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2199410Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2199840Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2199930Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2206200Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2206920Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2207040Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2207220Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2207310Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2207540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2207620Z       [TELEMETRY][L014] Setting _isDisposed = true
2025-10-22T21:42:15.2207780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2207900Z       [TELEMETRY][L014] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2208060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2208170Z       [TELEMETRY][L014] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2208320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2208410Z       [TELEMETRY][L014] Setting _shouldStop flag to true
2025-10-22T21:42:15.2208560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2208680Z       [TELEMETRY][L014] _shouldStop flag set. RunLoop pointer: 5653024976
2025-10-22T21:42:15.2208830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2208930Z       [TELEMETRY][L014] Calling CFRunLoopStop(5653024976)
2025-10-22T21:42:15.2209070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2209150Z       [TELEMETRY][L014] CFRunLoopStop() returned
2025-10-22T21:42:15.2209300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2209420Z       [TELEMETRY][L014] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2209570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2209660Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2209790Z       [TELEMETRY][L014] Loop iter 1: CFRunLoopRunInMode returned 2 after 3ms
2025-10-22T21:42:15.2209950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2210030Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2210200Z       [TELEMETRY][L014] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2210350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2210440Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2210600Z       [TELEMETRY][L014] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2210750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2210830Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2210940Z       [TELEMETRY][L014] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2211090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2211180Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2211280Z       [TELEMETRY][L014] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2211430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2211520Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2211590Z       [TELEMETRY][L014] Releasing IOHIDManager
2025-10-22T21:42:15.2211730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2211820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2211890Z       [TELEMETRY][L014] IOHIDManager released
2025-10-22T21:42:15.2212040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2212120Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2212210Z       [TELEMETRY][L014] Releasing run loop mode CFString
2025-10-22T21:42:15.2212360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2212440Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2212530Z       [TELEMETRY][L014] Run loop mode CFString released
2025-10-22T21:42:15.2212720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2212810Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2212940Z       [TELEMETRY][L014] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2213090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2213190Z       [TELEMETRY][L014] Thread exited successfully after 0ms
2025-10-22T21:42:15.2213450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2213530Z       [TELEMETRY][L014] StopListening() complete
2025-10-22T21:42:15.2213670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2213770Z       [TELEMETRY][L014] StopListening() returned successfully
2025-10-22T21:42:15.2213920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2214000Z       [TELEMETRY][L014] Calling base.Dispose(True)
2025-10-22T21:42:15.2214140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2214220Z       [TELEMETRY][L014] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2214370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2214510Z       [TELEMETRY][L015] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2214660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2214800Z       [TELEMETRY][L015] StartListening() called, creating background thread
2025-10-22T21:42:15.2214950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2215030Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2215120Z       HID listener thread started. ThreadID is 26.
2025-10-22T21:42:15.2215260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2215350Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2215540Z       IOHIDManager 5670887504 is scheduled with run loop 5670891440 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2215700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2215790Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2215850Z       Flushed existing devices.
2025-10-22T21:42:15.2216000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2216080Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2216180Z       [TELEMETRY][L015] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2216590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2216750Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2216950Z       [TELEMETRY][L015] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2217120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2217190Z       [TELEMETRY][L015] Background thread started
2025-10-22T21:42:15.2217340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2217460Z       [TELEMETRY][L015] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2217620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2217820Z       [TELEMETRY][L015] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2217870Z         CallStack:
2025-10-22T21:42:15.2218250Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2218560Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2219230Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2219640Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2219860Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2220290Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2220710Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2220980Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2221140Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2221430Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2221700Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2221830Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2222160Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2222430Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2222700Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2222810Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2223150Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2223420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2223570Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2223950Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2224200Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2224460Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2224550Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2224800Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2225070Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2225180Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2225410Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2225810Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2226170Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2226430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2226690Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2226980Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2227220Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2227490Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2227660Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2227890Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2228150Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2228230Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2228530Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2228770Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2229030Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2229110Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2230370Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2230950Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2231510Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2231780Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2232330Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2232710Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2233000Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2233270Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2233380Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2233640Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2234010Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2234120Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2234730Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2234840Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2235510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2235730Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2236070Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2236410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2236500Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2237040Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2237160Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2237430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2237550Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2237840Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2238100Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2238200Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2238940Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2239200Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2239690Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2240100Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2240200Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2240630Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2240880Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2241140Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2241460Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2241570Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2241730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2241810Z       [TELEMETRY][L015] Setting _isDisposed = true
2025-10-22T21:42:15.2241960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2242080Z       [TELEMETRY][L015] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2242230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2242350Z       [TELEMETRY][L015] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2242500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2242590Z       [TELEMETRY][L015] Setting _shouldStop flag to true
2025-10-22T21:42:15.2242730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2242860Z       [TELEMETRY][L015] _shouldStop flag set. RunLoop pointer: 5670891440
2025-10-22T21:42:15.2243120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2243210Z       [TELEMETRY][L015] Calling CFRunLoopStop(5670891440)
2025-10-22T21:42:15.2243360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2243440Z       [TELEMETRY][L015] CFRunLoopStop() returned
2025-10-22T21:42:15.2243580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2243870Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2244010Z       [TELEMETRY][L015] Loop iter 1: CFRunLoopRunInMode returned 2 after 7ms
2025-10-22T21:42:15.2244150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2244240Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2244410Z       [TELEMETRY][L015] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2244560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2244650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2244810Z       [TELEMETRY][L015] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2244960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2245050Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2245160Z       [TELEMETRY][L015] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2245310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2245510Z       [TELEMETRY][L015] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2245660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2245750Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2245850Z       [TELEMETRY][L015] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2246050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2246140Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2246210Z       [TELEMETRY][L015] Releasing IOHIDManager
2025-10-22T21:42:15.2246370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2246460Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2246530Z       [TELEMETRY][L015] IOHIDManager released
2025-10-22T21:42:15.2246680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2246760Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2246850Z       [TELEMETRY][L015] Releasing run loop mode CFString
2025-10-22T21:42:15.2247000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2247090Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2247180Z       [TELEMETRY][L015] Run loop mode CFString released
2025-10-22T21:42:15.2247320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2247410Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2247540Z       [TELEMETRY][L015] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2247690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2247790Z       [TELEMETRY][L015] Thread exited successfully after 0ms
2025-10-22T21:42:15.2247940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2248010Z       [TELEMETRY][L015] StopListening() complete
2025-10-22T21:42:15.2248160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2248260Z       [TELEMETRY][L015] StopListening() returned successfully
2025-10-22T21:42:15.2248410Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2248490Z       [TELEMETRY][L015] Calling base.Dispose(True)
2025-10-22T21:42:15.2248630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2248710Z       [TELEMETRY][L015] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2248860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2249070Z       [TELEMETRY][L016] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2249350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2249650Z       [TELEMETRY][L016] StartListening() called, creating background thread
2025-10-22T21:42:15.2249820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2249920Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2250110Z       HID listener thread started. ThreadID is 27.
2025-10-22T21:42:15.2250270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2250350Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2250550Z       IOHIDManager 5651944368 is scheduled with run loop 5651967088 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2250700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2250790Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2250850Z       Flushed existing devices.
2025-10-22T21:42:15.2251000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2251090Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2251190Z       [TELEMETRY][L016] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2251340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2251430Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2251620Z       [TELEMETRY][L016] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2251770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2251850Z       [TELEMETRY][L016] Background thread started
2025-10-22T21:42:15.2252090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2252220Z       [TELEMETRY][L016] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2252360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2252570Z       [TELEMETRY][L016] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2252620Z         CallStack:
2025-10-22T21:42:15.2253010Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2253990Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2254690Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2254950Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2255170Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2255510Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2255880Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2256170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2256340Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2256630Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2256920Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2257140Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2257470Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2257720Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2258050Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2258160Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2258490Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2258760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2258910Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2259290Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2259530Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2259800Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2259890Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2260160Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2260420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2260690Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2261030Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2261410Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2261770Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2262060Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2262240Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2262510Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2262760Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2263020Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2263140Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2263370Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2263650Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2263730Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2264020Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2264270Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2264640Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2264730Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2265420Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2265990Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2266530Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2266800Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2267410Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2267800Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2269620Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2270160Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2270270Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2270540Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2270800Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2270880Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2271480Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2271590Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2271850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2271950Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2272210Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2272470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2272550Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2273090Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2273210Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2273470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2277270Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2277970Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2278280Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2278380Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2279110Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2280030Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2280520Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2280930Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2281020Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2281450Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2281680Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2281790Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2281980Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2282060Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2282220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2282300Z       [TELEMETRY][L016] Setting _isDisposed = true
2025-10-22T21:42:15.2282450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2282580Z       [TELEMETRY][L016] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2282720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2282840Z       [TELEMETRY][L016] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2282990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2283080Z       [TELEMETRY][L016] Setting _shouldStop flag to true
2025-10-22T21:42:15.2283230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2283370Z       [TELEMETRY][L016] _shouldStop flag set. RunLoop pointer: 5651967088
2025-10-22T21:42:15.2283560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2283680Z       [TELEMETRY][L016] Calling CFRunLoopStop(5651967088)
2025-10-22T21:42:15.2283860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2283970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2284120Z       [TELEMETRY][L016] Loop iter 1: CFRunLoopRunInMode returned 2 after 1ms
2025-10-22T21:42:15.2284310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2284420Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2284620Z       [TELEMETRY][L016] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2284810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2284930Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2285100Z       [TELEMETRY][L016] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2285270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2285370Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2285490Z       [TELEMETRY][L016] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2285750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2285860Z       [TELEMETRY][L016] CFRunLoopStop() returned
2025-10-22T21:42:15.2286020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2286130Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2286260Z       [TELEMETRY][L016] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2286570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2286660Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2286760Z       [TELEMETRY][L016] Releasing IOHIDManager
2025-10-22T21:42:15.2286910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2287000Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2287070Z       [TELEMETRY][L016] IOHIDManager released
2025-10-22T21:42:15.2287210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2287300Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2287390Z       [TELEMETRY][L016] Releasing run loop mode CFString
2025-10-22T21:42:15.2287540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2287630Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2287740Z       [TELEMETRY][L016] Run loop mode CFString released
2025-10-22T21:42:15.2287920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2288030Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2288200Z       [TELEMETRY][L016] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2288370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2288520Z       [TELEMETRY][L016] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2288670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2288780Z       [TELEMETRY][L016] Thread exited successfully after 0ms
2025-10-22T21:42:15.2288940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2289020Z       [TELEMETRY][L016] StopListening() complete
2025-10-22T21:42:15.2289160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2289260Z       [TELEMETRY][L016] StopListening() returned successfully
2025-10-22T21:42:15.2289420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2289510Z       [TELEMETRY][L016] Calling base.Dispose(True)
2025-10-22T21:42:15.2289660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2289740Z       [TELEMETRY][L016] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2289890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2290060Z       [TELEMETRY][L017] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2290220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2290350Z       [TELEMETRY][L017] StartListening() called, creating background thread
2025-10-22T21:42:15.2290500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2290590Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2290670Z       HID listener thread started. ThreadID is 28.
2025-10-22T21:42:15.2290810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2290900Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2291160Z       IOHIDManager 5653025360 is scheduled with run loop 5653029728 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2291380Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2291470Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2291540Z       Flushed existing devices.
2025-10-22T21:42:15.2291700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2291780Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2291890Z       [TELEMETRY][L017] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2292170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2292270Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2292540Z       [TELEMETRY][L017] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2292710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2292810Z       [TELEMETRY][L017] Background thread started
2025-10-22T21:42:15.2293130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2293290Z       [TELEMETRY][L017] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2293440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2293650Z       [TELEMETRY][L017] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2293700Z         CallStack:
2025-10-22T21:42:15.2294150Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2294490Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2295310Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2295580Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2295820Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2296150Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2296530Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2296870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2297070Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2297390Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2297770Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2297910Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2298360Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2298840Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2299210Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2299320Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2299740Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2300010Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2300170Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2300730Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2301240Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2302340Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2302550Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2306410Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2306780Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2306920Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2307240Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2307630Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2308070Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2308340Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2308580Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2308860Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2309110Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2316220Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2316380Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2316610Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2316880Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2316960Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2317260Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2317510Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2317780Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2317860Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2318700Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2319330Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2320040Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2320750Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2321660Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2322230Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2323100Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2323440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2323760Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2324100Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2324590Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2324690Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2325630Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2325850Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2326280Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2326400Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2326880Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2327410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2327510Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2328380Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2328610Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2329040Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2329270Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2329730Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2330220Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2330380Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2331600Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2331950Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2332890Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2333580Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2333850Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2334980Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2335850Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2336120Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2336530Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2336630Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2336850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2337040Z       [TELEMETRY][L017] Setting _isDisposed = true
2025-10-22T21:42:15.2337310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2337500Z       [TELEMETRY][L017] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2337860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2337990Z       [TELEMETRY][L017] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2338300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2338500Z       [TELEMETRY][L017] Setting _shouldStop flag to true
2025-10-22T21:42:15.2338710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2338950Z       [TELEMETRY][L017] _shouldStop flag set. RunLoop pointer: 5653029728
2025-10-22T21:42:15.2339210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2339370Z       [TELEMETRY][L017] Calling CFRunLoopStop(5653029728)
2025-10-22T21:42:15.2339720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2339830Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2340020Z       [TELEMETRY][L017] Loop iter 1: CFRunLoopRunInMode returned 2 after 4ms
2025-10-22T21:42:15.2340370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2340470Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2340700Z       [TELEMETRY][L017] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2341050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2341150Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2341470Z       [TELEMETRY][L017] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2341730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2341880Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2342090Z       [TELEMETRY][L017] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2342350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2342480Z       [TELEMETRY][L017] CFRunLoopStop() returned
2025-10-22T21:42:15.2342840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2342990Z       [TELEMETRY][L017] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2343190Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2343280Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2343390Z       [TELEMETRY][L017] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2343540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2343630Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2343700Z       [TELEMETRY][L017] Releasing IOHIDManager
2025-10-22T21:42:15.2343850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2343930Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2344000Z       [TELEMETRY][L017] IOHIDManager released
2025-10-22T21:42:15.2344150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2344230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2344440Z       [TELEMETRY][L017] Releasing run loop mode CFString
2025-10-22T21:42:15.2344610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2344690Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2344780Z       [TELEMETRY][L017] Run loop mode CFString released
2025-10-22T21:42:15.2344930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2345070Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2345210Z       [TELEMETRY][L017] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2345360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2345480Z       [TELEMETRY][L017] Thread exited successfully after 0ms
2025-10-22T21:42:15.2345650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2345720Z       [TELEMETRY][L017] StopListening() complete
2025-10-22T21:42:15.2345870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2345970Z       [TELEMETRY][L017] StopListening() returned successfully
2025-10-22T21:42:15.2346120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2346200Z       [TELEMETRY][L017] Calling base.Dispose(True)
2025-10-22T21:42:15.2346340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2346420Z       [TELEMETRY][L017] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2346570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2346750Z       [TELEMETRY][L018] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2346930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2347060Z       [TELEMETRY][L018] StartListening() called, creating background thread
2025-10-22T21:42:15.2347200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2347280Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2347360Z       HID listener thread started. ThreadID is 29.
2025-10-22T21:42:15.2347510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2347590Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2347790Z       IOHIDManager 5670887504 is scheduled with run loop 5670891440 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2347950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2348040Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2348090Z       Flushed existing devices.
2025-10-22T21:42:15.2348240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2348330Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2348430Z       [TELEMETRY][L018] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2348580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2348660Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2348870Z       [TELEMETRY][L018] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2349020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2349090Z       [TELEMETRY][L018] Background thread started
2025-10-22T21:42:15.2349240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2349360Z       [TELEMETRY][L018] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2349520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2349720Z       [TELEMETRY][L018] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2349770Z         CallStack:
2025-10-22T21:42:15.2350160Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2350460Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2351430Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2351710Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2351980Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2352300Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2352650Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2352910Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2353070Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2353360Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2353620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2353760Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2354080Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2354320Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2354590Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2354700Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2355070Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2355350Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2355510Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2355890Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2356130Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2356440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2356540Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2356780Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2357040Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2357180Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2357430Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2357810Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2358260Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2358540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2358710Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2359010Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2359370Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2359630Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2359750Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2359980Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2360240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2360310Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2360620Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2360890Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2361150Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2361250Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2361930Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2362450Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2362990Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2363260Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2363810Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2364210Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2364490Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2364760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2364870Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2365130Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2365390Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2365470Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2366150Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2366270Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2366530Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2366680Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2366940Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2367220Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2367320Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2367860Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2367980Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2368240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2368360Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2368640Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2368900Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2368990Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2369690Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2369950Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2370430Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2370870Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2370960Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2371390Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2371630Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2371750Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2371940Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2372020Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2372180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2372260Z       [TELEMETRY][L018] Setting _isDisposed = true
2025-10-22T21:42:15.2372410Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2372530Z       [TELEMETRY][L018] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2372680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2372790Z       [TELEMETRY][L018] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2373000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2373090Z       [TELEMETRY][L018] Setting _shouldStop flag to true
2025-10-22T21:42:15.2373240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2373370Z       [TELEMETRY][L018] _shouldStop flag set. RunLoop pointer: 5670891440
2025-10-22T21:42:15.2373510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2373660Z       [TELEMETRY][L018] Calling CFRunLoopStop(5670891440)
2025-10-22T21:42:15.2373810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2373920Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2374070Z       [TELEMETRY][L018] Loop iter 1: CFRunLoopRunInMode returned 2 after 0ms
2025-10-22T21:42:15.2374240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2374320Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2374490Z       [TELEMETRY][L018] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2374640Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2374730Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2374900Z       [TELEMETRY][L018] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2375060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2375140Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2375250Z       [TELEMETRY][L018] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2375400Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2375470Z       [TELEMETRY][L018] CFRunLoopStop() returned
2025-10-22T21:42:15.2375620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2375740Z       [TELEMETRY][L018] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2375890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2375990Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2376090Z       [TELEMETRY][L018] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2376250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2376340Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2376410Z       [TELEMETRY][L018] Releasing IOHIDManager
2025-10-22T21:42:15.2376560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2376650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2376730Z       [TELEMETRY][L018] IOHIDManager released
2025-10-22T21:42:15.2376870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2376970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2377070Z       [TELEMETRY][L018] Releasing run loop mode CFString
2025-10-22T21:42:15.2377230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2377310Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2377400Z       [TELEMETRY][L018] Run loop mode CFString released
2025-10-22T21:42:15.2384670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2384800Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2384950Z       [TELEMETRY][L018] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2385100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2385210Z       [TELEMETRY][L018] Thread exited successfully after 0ms
2025-10-22T21:42:15.2385360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2385440Z       [TELEMETRY][L018] StopListening() complete
2025-10-22T21:42:15.2385590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2385690Z       [TELEMETRY][L018] StopListening() returned successfully
2025-10-22T21:42:15.2385840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2385920Z       [TELEMETRY][L018] Calling base.Dispose(True)
2025-10-22T21:42:15.2386290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2386390Z       [TELEMETRY][L018] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2386540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2386680Z       [TELEMETRY][L019] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2386870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2387100Z       [TELEMETRY][L019] StartListening() called, creating background thread
2025-10-22T21:42:15.2387250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2387340Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2387420Z       HID listener thread started. ThreadID is 30.
2025-10-22T21:42:15.2387570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2387650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2387870Z       IOHIDManager 5670889312 is scheduled with run loop 5670893552 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2388030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2388120Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2388170Z       Flushed existing devices.
2025-10-22T21:42:15.2388320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2388410Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2390850Z       [TELEMETRY][L019] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2395180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2395280Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2395520Z       [TELEMETRY][L019] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2396760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2397460Z       [TELEMETRY][L019] Background thread started
2025-10-22T21:42:15.2398030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2398210Z       [TELEMETRY][L019] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2398380Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2398610Z       [TELEMETRY][L019] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2398670Z         CallStack:
2025-10-22T21:42:15.2399060Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2399370Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2400060Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2400330Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2400560Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2400880Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2401240Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2401510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2402510Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2402960Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2406880Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2407050Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2407390Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2407830Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2415380Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2415540Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2415920Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2416230Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2416410Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2416820Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2417120Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2417420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2417520Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2417780Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2418040Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2418160Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2418420Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2418840Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2419210Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2419470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2419650Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2419920Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2420170Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2420440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2420560Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2420790Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2421050Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2421120Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2421560Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2421810Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2422070Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2422230Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2422920Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2423510Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2424060Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2424320Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2424860Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2425240Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2425590Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2425850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2425960Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2426220Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2426500Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2426580Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2427180Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2427290Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2427550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2427650Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2427910Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2428170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2428260Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2428820Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2428950Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2429290Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2429410Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2429700Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2430300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2430410Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2431120Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2431390Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2431880Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2432290Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2432390Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2432820Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2433060Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2433170Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2433350Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2433430Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2433590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2433670Z       [TELEMETRY][L019] Setting _isDisposed = true
2025-10-22T21:42:15.2433810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2434160Z       [TELEMETRY][L019] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2434360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2434480Z       [TELEMETRY][L019] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2434630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2434910Z       [TELEMETRY][L019] Setting _shouldStop flag to true
2025-10-22T21:42:15.2435070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2435210Z       [TELEMETRY][L019] _shouldStop flag set. RunLoop pointer: 5670893552
2025-10-22T21:42:15.2435350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2435440Z       [TELEMETRY][L019] Calling CFRunLoopStop(5670893552)
2025-10-22T21:42:15.2435590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2435670Z       [TELEMETRY][L019] CFRunLoopStop() returned
2025-10-22T21:42:15.2435820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2435900Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2436040Z       [TELEMETRY][L019] Loop iter 1: CFRunLoopRunInMode returned 2 after 3ms
2025-10-22T21:42:15.2436180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2436270Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2436430Z       [TELEMETRY][L019] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2436580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2436970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2437150Z       [TELEMETRY][L019] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2437300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2437390Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2437490Z       [TELEMETRY][L019] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2437700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2437820Z       [TELEMETRY][L019] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2437970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2438060Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2438160Z       [TELEMETRY][L019] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2438330Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2438420Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2438490Z       [TELEMETRY][L019] Releasing IOHIDManager
2025-10-22T21:42:15.2438770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2438980Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2439070Z       [TELEMETRY][L019] IOHIDManager released
2025-10-22T21:42:15.2439230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2439320Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2439410Z       [TELEMETRY][L019] Releasing run loop mode CFString
2025-10-22T21:42:15.2439560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2439650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2439740Z       [TELEMETRY][L019] Run loop mode CFString released
2025-10-22T21:42:15.2439880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2439970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2440100Z       [TELEMETRY][L019] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2440250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2440350Z       [TELEMETRY][L019] Thread exited successfully after 0ms
2025-10-22T21:42:15.2440490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2440570Z       [TELEMETRY][L019] StopListening() complete
2025-10-22T21:42:15.2440710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2440820Z       [TELEMETRY][L019] StopListening() returned successfully
2025-10-22T21:42:15.2440990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2441060Z       [TELEMETRY][L019] Calling base.Dispose(True)
2025-10-22T21:42:15.2441220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2441290Z       [TELEMETRY][L019] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2441440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2441590Z       [TELEMETRY][L020] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2441750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2441910Z       [TELEMETRY][L020] StartListening() called, creating background thread
2025-10-22T21:42:15.2442280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2442390Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2442470Z       HID listener thread started. ThreadID is 31.
2025-10-22T21:42:15.2442620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2442710Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2442910Z       IOHIDManager 5651944368 is scheduled with run loop 5651972320 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2443060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2443160Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2443320Z       Flushed existing devices.
2025-10-22T21:42:15.2443480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2443560Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2443660Z       [TELEMETRY][L020] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2443810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2443890Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2444160Z       [TELEMETRY][L020] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2444330Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2444410Z       [TELEMETRY][L020] Background thread started
2025-10-22T21:42:15.2444560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2444680Z       [TELEMETRY][L020] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2444820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2445030Z       [TELEMETRY][L020] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2445080Z         CallStack:
2025-10-22T21:42:15.2445470Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2445790Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2446480Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2446730Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2446960Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2447280Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2447640Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2447930Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2448090Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2448400Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2448680Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2448820Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2449140Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2449410Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2449680Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2449800Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2450220Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2450490Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2450740Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2451130Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2451380Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2451720Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2451820Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2452070Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2452340Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2452480Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2452730Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2453120Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2453490Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2453760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2453930Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2454230Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2454490Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2454760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2454890Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2455130Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2458420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2458530Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2458860Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2459110Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2459380Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2459460Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2461000Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2461570Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2462220Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2462510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2463060Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2463550Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2463840Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2464140Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2464260Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2464540Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2464890Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2465000Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2465610Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2465730Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2466450Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2466570Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2466840Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2467110Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2467190Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2467750Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2467880Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2468480Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2468630Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2468940Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2469210Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2469300Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2470040Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2470420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2471150Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2471650Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2471740Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2472170Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2472480Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2472610Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2472780Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2472870Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2473030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2473110Z       [TELEMETRY][L020] Setting _isDisposed = true
2025-10-22T21:42:15.2473270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2473390Z       [TELEMETRY][L020] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2473540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2473660Z       [TELEMETRY][L020] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2473830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2473930Z       [TELEMETRY][L020] Setting _shouldStop flag to true
2025-10-22T21:42:15.2474070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2474200Z       [TELEMETRY][L020] _shouldStop flag set. RunLoop pointer: 5651972320
2025-10-22T21:42:15.2474350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2474460Z       [TELEMETRY][L020] Calling CFRunLoopStop(5651972320)
2025-10-22T21:42:15.2474620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2474690Z       [TELEMETRY][L020] CFRunLoopStop() returned
2025-10-22T21:42:15.2474840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2474970Z       [TELEMETRY][L020] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2475110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2475210Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2475340Z       [TELEMETRY][L020] Loop iter 1: CFRunLoopRunInMode returned 2 after 1ms
2025-10-22T21:42:15.2475490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2475580Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2475750Z       [TELEMETRY][L020] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2475900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2475990Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2476140Z       [TELEMETRY][L020] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2476290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2476380Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2476500Z       [TELEMETRY][L020] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2476670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2476760Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2476860Z       [TELEMETRY][L020] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2477010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2477240Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2477330Z       [TELEMETRY][L020] Releasing IOHIDManager
2025-10-22T21:42:15.2477480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2477660Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2477830Z       [TELEMETRY][L020] IOHIDManager released
2025-10-22T21:42:15.2477980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2478090Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2478190Z       [TELEMETRY][L020] Releasing run loop mode CFString
2025-10-22T21:42:15.2478340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2480610Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2480800Z       [TELEMETRY][L020] Run loop mode CFString released
2025-10-22T21:42:15.2480960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2481060Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2481200Z       [TELEMETRY][L020] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2481370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2481530Z       [TELEMETRY][L020] Thread exited successfully after 0ms
2025-10-22T21:42:15.2481690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2481780Z       [TELEMETRY][L020] StopListening() complete
2025-10-22T21:42:15.2481930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2482040Z       [TELEMETRY][L020] StopListening() returned successfully
2025-10-22T21:42:15.2482190Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2482280Z       [TELEMETRY][L020] Calling base.Dispose(True)
2025-10-22T21:42:15.2482440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2487960Z       [TELEMETRY][L020] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2488120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2488260Z       [TELEMETRY][L021] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2488430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2488580Z       [TELEMETRY][L021] StartListening() called, creating background thread
2025-10-22T21:42:15.2488730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2488810Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2488890Z       HID listener thread started. ThreadID is 32.
2025-10-22T21:42:15.2489040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2489130Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2489330Z       IOHIDManager 5651944368 is scheduled with run loop 5651975648 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2489480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2489570Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2489630Z       Flushed existing devices.
2025-10-22T21:42:15.2489780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2489870Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2489990Z       [TELEMETRY][L021] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2490150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2490240Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2490440Z       [TELEMETRY][L021] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2490600Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2490680Z       [TELEMETRY][L021] Background thread started
2025-10-22T21:42:15.2490830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2490950Z       [TELEMETRY][L021] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2491090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2491300Z       [TELEMETRY][L021] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2491350Z         CallStack:
2025-10-22T21:42:15.2492250Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2492620Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2493410Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2493770Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2493990Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2494320Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2494700Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2494970Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2495380Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2495820Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2496090Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2497890Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2498260Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2498500Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2498860Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2498990Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2499850Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2500210Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2500860Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2501980Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2502710Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2502990Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2503080Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2503330Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2505580Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2506160Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2510340Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2510930Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2511610Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2511910Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2512190Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2512480Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2512730Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2512990Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2513110Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2513640Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2513930Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2514020Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2514320Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2514560Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2514830Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2514910Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2515700Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2516260Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2517240Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2518520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2519160Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2519870Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2521800Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2522100Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2522550Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2523860Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2524610Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2524810Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2525440Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2525640Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2525910Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2526010Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2526270Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2526540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2526630Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2527440Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2527580Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2527840Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2527960Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2528240Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2528510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2528610Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2529430Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2529710Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2530200Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2530630Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2530730Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2531180Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2531420Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2531540Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2531710Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2531800Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2531960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2532040Z       [TELEMETRY][L021] Setting _isDisposed = true
2025-10-22T21:42:15.2532190Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2532430Z       [TELEMETRY][L021] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2532590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2532710Z       [TELEMETRY][L021] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2532860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2532960Z       [TELEMETRY][L021] Setting _shouldStop flag to true
2025-10-22T21:42:15.2533230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2533350Z       [TELEMETRY][L021] _shouldStop flag set. RunLoop pointer: 5651975648
2025-10-22T21:42:15.2533500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2533590Z       [TELEMETRY][L021] Calling CFRunLoopStop(5651975648)
2025-10-22T21:42:15.2533740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2533830Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2533970Z       [TELEMETRY][L021] Loop iter 1: CFRunLoopRunInMode returned 2 after 3ms
2025-10-22T21:42:15.2534110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2534200Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2534360Z       [TELEMETRY][L021] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2534510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2534600Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2534750Z       [TELEMETRY][L021] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2534900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2535000Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2535120Z       [TELEMETRY][L021] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2535260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2535340Z       [TELEMETRY][L021] CFRunLoopStop() returned
2025-10-22T21:42:15.2535490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2535610Z       [TELEMETRY][L021] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2535760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2535840Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2535950Z       [TELEMETRY][L021] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2536100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2536180Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2536250Z       [TELEMETRY][L021] Releasing IOHIDManager
2025-10-22T21:42:15.2536410Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2536500Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2536570Z       [TELEMETRY][L021] IOHIDManager released
2025-10-22T21:42:15.2536720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2536810Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2536890Z       [TELEMETRY][L021] Releasing run loop mode CFString
2025-10-22T21:42:15.2537060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2537160Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2537250Z       [TELEMETRY][L021] Run loop mode CFString released
2025-10-22T21:42:15.2537420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2537530Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2537670Z       [TELEMETRY][L021] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2537850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2537950Z       [TELEMETRY][L021] Thread exited successfully after 0ms
2025-10-22T21:42:15.2538100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2538170Z       [TELEMETRY][L021] StopListening() complete
2025-10-22T21:42:15.2538400Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2538500Z       [TELEMETRY][L021] StopListening() returned successfully
2025-10-22T21:42:15.2538650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2538730Z       [TELEMETRY][L021] Calling base.Dispose(True)
2025-10-22T21:42:15.2538880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2539050Z       [TELEMETRY][L021] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2539200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2539370Z       [TELEMETRY][L022] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2539530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2539660Z       [TELEMETRY][L022] StartListening() called, creating background thread
2025-10-22T21:42:15.2539810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2539890Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2539980Z       HID listener thread started. ThreadID is 33.
2025-10-22T21:42:15.2540120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2540210Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2540400Z       IOHIDManager 5670887504 is scheduled with run loop 5670893200 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2540550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2540640Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2540700Z       Flushed existing devices.
2025-10-22T21:42:15.2540850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2540960Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2541060Z       [TELEMETRY][L022] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2541210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2541290Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2541480Z       [TELEMETRY][L022] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2541630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2541700Z       [TELEMETRY][L022] Background thread started
2025-10-22T21:42:15.2541850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2541970Z       [TELEMETRY][L022] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2542110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2542370Z       [TELEMETRY][L022] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2542420Z         CallStack:
2025-10-22T21:42:15.2543370Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2543910Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2545030Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2545370Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2545590Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2545920Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2546310Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2546750Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2546910Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2547210Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2547550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2547690Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2548020Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2548340Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2548960Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2549100Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2549480Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2549780Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2549970Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2550400Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2550700Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2551010Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2551110Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2551350Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2551740Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2551900Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2552170Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2552560Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2552920Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2553190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2553360Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2553640Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2553890Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2554160Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2554280Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2554630Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2555140Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2555290Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2555590Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2556030Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2556300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2556400Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2557090Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2557770Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2558310Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2558580Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2559130Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2559580Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2560270Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2560550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2560650Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2560930Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2561190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2561280Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2561890Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2562000Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2562260Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2562370Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2562630Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2562890Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2562970Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2563620Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2563740Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2564010Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2564210Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2564620Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2565020Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2565130Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2566040Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2566330Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2566820Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2567290Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2567380Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2567810Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2568050Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2568170Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2568350Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2568440Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2568600Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2568680Z       [TELEMETRY][L022] Setting _isDisposed = true
2025-10-22T21:42:15.2568820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2568950Z       [TELEMETRY][L022] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2569090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2569210Z       [TELEMETRY][L022] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2569350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2569450Z       [TELEMETRY][L022] Setting _shouldStop flag to true
2025-10-22T21:42:15.2569590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2569720Z       [TELEMETRY][L022] _shouldStop flag set. RunLoop pointer: 5670893200
2025-10-22T21:42:15.2569860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2569950Z       [TELEMETRY][L022] Calling CFRunLoopStop(5670893200)
2025-10-22T21:42:15.2570100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2570190Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2570320Z       [TELEMETRY][L022] Loop iter 1: CFRunLoopRunInMode returned 2 after 0ms
2025-10-22T21:42:15.2570460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2570550Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2570810Z       [TELEMETRY][L022] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2570980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2571080Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2571230Z       [TELEMETRY][L022] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2571380Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2571550Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2571660Z       [TELEMETRY][L022] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2571800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2571880Z       [TELEMETRY][L022] CFRunLoopStop() returned
2025-10-22T21:42:15.2572030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2572110Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2572220Z       [TELEMETRY][L022] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2572370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2572490Z       [TELEMETRY][L022] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2572730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2572810Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2572890Z       [TELEMETRY][L022] Releasing IOHIDManager
2025-10-22T21:42:15.2573040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2573120Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2573190Z       [TELEMETRY][L022] IOHIDManager released
2025-10-22T21:42:15.2573340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2573450Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2573540Z       [TELEMETRY][L022] Releasing run loop mode CFString
2025-10-22T21:42:15.2573690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2573780Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2573860Z       [TELEMETRY][L022] Run loop mode CFString released
2025-10-22T21:42:15.2574160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2574260Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2574390Z       [TELEMETRY][L022] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2574550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2574650Z       [TELEMETRY][L022] Thread exited successfully after 0ms
2025-10-22T21:42:15.2574800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2574880Z       [TELEMETRY][L022] StopListening() complete
2025-10-22T21:42:15.2575030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2575130Z       [TELEMETRY][L022] StopListening() returned successfully
2025-10-22T21:42:15.2575270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2575360Z       [TELEMETRY][L022] Calling base.Dispose(True)
2025-10-22T21:42:15.2575510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2575590Z       [TELEMETRY][L022] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2575740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2575880Z       [TELEMETRY][L023] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2576030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2576170Z       [TELEMETRY][L023] StartListening() called, creating background thread
2025-10-22T21:42:15.2576310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2576400Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2576560Z       HID listener thread started. ThreadID is 34.
2025-10-22T21:42:15.2576770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2576870Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2577240Z       IOHIDManager 5670889312 is scheduled with run loop 5670895952 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2577420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2577510Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2577570Z       Flushed existing devices.
2025-10-22T21:42:15.2577730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2577890Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2578000Z       [TELEMETRY][L023] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2578170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2578260Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2578450Z       [TELEMETRY][L023] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2578620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2578710Z       [TELEMETRY][L023] Background thread started
2025-10-22T21:42:15.2578860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2579000Z       [TELEMETRY][L023] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2579160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2579360Z       [TELEMETRY][L023] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2579410Z         CallStack:
2025-10-22T21:42:15.2579800Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2580100Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2580780Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2581040Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2581260Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2581580Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2581930Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2582200Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2582450Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2582800Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2583060Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2583200Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2583530Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2583760Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2584030Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2584140Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2584670Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2585300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2585470Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2585950Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2586190Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2586460Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2586550Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2586800Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2587060Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2587180Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2587410Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2587800Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2588360Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2588800Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2588990Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2589300Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2589560Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2589840Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2589960Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2590200Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2590470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2590550Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2590870Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2591120Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2591390Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2591470Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2592180Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2592870Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2593430Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2594050Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2594610Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2595000Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2595290Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2595550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2595660Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2595920Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2596240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2596330Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2596930Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2597040Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2597310Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2597410Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2597670Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2597940Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2598040Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2598750Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2598870Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2599130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2599250Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2599540Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2599830Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2599920Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2600740Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2601140Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2601630Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2602060Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2602210Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2602980Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2603230Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2603340Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2603530Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2603610Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2603770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2603850Z       [TELEMETRY][L023] Setting _isDisposed = true
2025-10-22T21:42:15.2604000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2604140Z       [TELEMETRY][L023] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2604290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2604400Z       [TELEMETRY][L023] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2604550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2604640Z       [TELEMETRY][L023] Setting _shouldStop flag to true
2025-10-22T21:42:15.2604790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2604930Z       [TELEMETRY][L023] _shouldStop flag set. RunLoop pointer: 5670895952
2025-10-22T21:42:15.2605080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2605170Z       [TELEMETRY][L023] Calling CFRunLoopStop(5670895952)
2025-10-22T21:42:15.2605340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2605440Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2605570Z       [TELEMETRY][L023] Loop iter 1: CFRunLoopRunInMode returned 2 after 1ms
2025-10-22T21:42:15.2605720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2605800Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2605970Z       [TELEMETRY][L023] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2606110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2606200Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2606350Z       [TELEMETRY][L023] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2606500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2606590Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2606700Z       [TELEMETRY][L023] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2606920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2607010Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2607260Z       [TELEMETRY][L023] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2608880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2608970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2609050Z       [TELEMETRY][L023] Releasing IOHIDManager
2025-10-22T21:42:15.2609720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2609820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2610000Z       [TELEMETRY][L023] IOHIDManager released
2025-10-22T21:42:15.2610160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2614070Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2614200Z       [TELEMETRY][L023] Releasing run loop mode CFString
2025-10-22T21:42:15.2614370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2615800Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2617570Z       [TELEMETRY][L023] Run loop mode CFString released
2025-10-22T21:42:15.2617800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2617890Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2618070Z       [TELEMETRY][L023] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2618390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2618470Z       [TELEMETRY][L023] CFRunLoopStop() returned
2025-10-22T21:42:15.2618630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2618750Z       [TELEMETRY][L023] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2618900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2619000Z       [TELEMETRY][L023] Thread exited successfully after 0ms
2025-10-22T21:42:15.2619140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2619220Z       [TELEMETRY][L023] StopListening() complete
2025-10-22T21:42:15.2619370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2619470Z       [TELEMETRY][L023] StopListening() returned successfully
2025-10-22T21:42:15.2619620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2619810Z       [TELEMETRY][L023] Calling base.Dispose(True)
2025-10-22T21:42:15.2619970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2620450Z       [TELEMETRY][L023] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2620610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2620760Z       [TELEMETRY][L024] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2620900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2621040Z       [TELEMETRY][L024] StartListening() called, creating background thread
2025-10-22T21:42:15.2621180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2621270Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2621350Z       HID listener thread started. ThreadID is 35.
2025-10-22T21:42:15.2621500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2621580Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2621780Z       IOHIDManager 5651944368 is scheduled with run loop 5651980880 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2621930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2622020Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2622080Z       Flushed existing devices.
2025-10-22T21:42:15.2622220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2622310Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2622400Z       [TELEMETRY][L024] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2622560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2622640Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2622830Z       [TELEMETRY][L024] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2622980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2623050Z       [TELEMETRY][L024] Background thread started
2025-10-22T21:42:15.2623200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2623310Z       [TELEMETRY][L024] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2623670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2623880Z       [TELEMETRY][L024] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2623930Z         CallStack:
2025-10-22T21:42:15.2624320Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2624690Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2625350Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2625610Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2625840Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2626160Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2628380Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2628690Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2628850Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2629150Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2629420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2629550Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2629880Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2630130Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2630390Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2630500Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2630840Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2631100Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2631260Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2631640Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2631880Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2632150Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2632240Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2632490Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2632920Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2633070Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2633320Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2633980Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2634920Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2635840Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2636080Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2636640Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2636900Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2641510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2641700Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2641940Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2642210Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2642290Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2642590Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2642840Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2643110Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2643190Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2643880Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2644420Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2644970Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2645240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2645790Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2646190Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2646490Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2646920Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2647040Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2647320Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2647590Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2647750Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2648370Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2648470Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2648740Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2648840Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2649100Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2649370Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2649450Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2649990Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2650120Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2650400Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2650520Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2650820Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2651090Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2651180Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2651900Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2652190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2652680Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2653110Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2659350Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2659810Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2660050Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2660160Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2660340Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2660540Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2660720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2660800Z       [TELEMETRY][L024] Setting _isDisposed = true
2025-10-22T21:42:15.2660950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2661070Z       [TELEMETRY][L024] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2661220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2661400Z       [TELEMETRY][L024] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2661550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2661640Z       [TELEMETRY][L024] Setting _shouldStop flag to true
2025-10-22T21:42:15.2661790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2661920Z       [TELEMETRY][L024] _shouldStop flag set. RunLoop pointer: 5651980880
2025-10-22T21:42:15.2662070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2662160Z       [TELEMETRY][L024] Calling CFRunLoopStop(5651980880)
2025-10-22T21:42:15.2662310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2662390Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2662530Z       [TELEMETRY][L024] Loop iter 1: CFRunLoopRunInMode returned 2 after 2ms
2025-10-22T21:42:15.2662670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2662770Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2662930Z       [TELEMETRY][L024] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2663080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2663160Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2663320Z       [TELEMETRY][L024] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2663470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2663560Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2663670Z       [TELEMETRY][L024] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2663810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2663890Z       [TELEMETRY][L024] CFRunLoopStop() returned
2025-10-22T21:42:15.2664030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2664120Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2664220Z       [TELEMETRY][L024] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2664390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2664490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2664560Z       [TELEMETRY][L024] Releasing IOHIDManager
2025-10-22T21:42:15.2664710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2664790Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2664860Z       [TELEMETRY][L024] IOHIDManager released
2025-10-22T21:42:15.2665010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2665090Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2665180Z       [TELEMETRY][L024] Releasing run loop mode CFString
2025-10-22T21:42:15.2665330Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2665410Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2665500Z       [TELEMETRY][L024] Run loop mode CFString released
2025-10-22T21:42:15.2665650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2665730Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2665860Z       [TELEMETRY][L024] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2666010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2666130Z       [TELEMETRY][L024] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2666290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2666710Z       [TELEMETRY][L024] Thread exited successfully after 0ms
2025-10-22T21:42:15.2666880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2666950Z       [TELEMETRY][L024] StopListening() complete
2025-10-22T21:42:15.2667120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2667220Z       [TELEMETRY][L024] StopListening() returned successfully
2025-10-22T21:42:15.2667840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2667930Z       [TELEMETRY][L024] Calling base.Dispose(True)
2025-10-22T21:42:15.2668080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2668160Z       [TELEMETRY][L024] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2668660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2669040Z       [TELEMETRY][L025] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2669220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2669370Z       [TELEMETRY][L025] StartListening() called, creating background thread
2025-10-22T21:42:15.2669520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2669620Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2669700Z       HID listener thread started. ThreadID is 34.
2025-10-22T21:42:15.2669860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2669950Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2670160Z       IOHIDManager 5670889312 is scheduled with run loop 5670893552 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2670310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2670400Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2670460Z       Flushed existing devices.
2025-10-22T21:42:15.2670610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2670700Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2670800Z       [TELEMETRY][L025] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2670950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2671040Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2671230Z       [TELEMETRY][L025] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2671390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2671460Z       [TELEMETRY][L025] Background thread started
2025-10-22T21:42:15.2671610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2671730Z       [TELEMETRY][L025] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2671870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2672080Z       [TELEMETRY][L025] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2672130Z         CallStack:
2025-10-22T21:42:15.2672540Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2672860Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2673640Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2673950Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2674200Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2674760Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2675180Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2675500Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2675870Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2676180Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2676440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2676570Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2677500Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2677900Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2678170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2678290Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2678630Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2678900Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2679060Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2679440Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2679690Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2679950Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2680050Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2680300Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2680560Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2680690Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2680920Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2681320Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2681680Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2681950Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2682130Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2682420Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2682670Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2683280Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2683410Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2683630Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2683970Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2684050Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2684350Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2684600Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2684870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2684950Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2685660Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2686220Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2686830Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2687120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2687750Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2688170Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2688470Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2688730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2688840Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2689110Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2689370Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2689450Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2690060Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2690280Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2690550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2690650Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2690970Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2691300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2691380Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2693670Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2694120Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2694450Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2694590Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2695120Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2695460Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2695780Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2696550Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2696820Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2697300Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2697710Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2697800Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2698230Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2698470Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2698580Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2698760Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2698850Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2699020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2699100Z       [TELEMETRY][L025] Setting _isDisposed = true
2025-10-22T21:42:15.2699260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2699380Z       [TELEMETRY][L025] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2699540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2699650Z       [TELEMETRY][L025] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2699800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2699890Z       [TELEMETRY][L025] Setting _shouldStop flag to true
2025-10-22T21:42:15.2700040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2700170Z       [TELEMETRY][L025] _shouldStop flag set. RunLoop pointer: 5670893552
2025-10-22T21:42:15.2700310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2700400Z       [TELEMETRY][L025] Calling CFRunLoopStop(5670893552)
2025-10-22T21:42:15.2700550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2700630Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2700980Z       [TELEMETRY][L025] Loop iter 1: CFRunLoopRunInMode returned 2 after 2ms
2025-10-22T21:42:15.2701270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2701360Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2701520Z       [TELEMETRY][L025] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2701670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2701820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2701980Z       [TELEMETRY][L025] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2702120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2702210Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2702310Z       [TELEMETRY][L025] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2702570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2702670Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2703060Z       [TELEMETRY][L025] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2703210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2703300Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2703370Z       [TELEMETRY][L025] Releasing IOHIDManager
2025-10-22T21:42:15.2703520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2703600Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2703670Z       [TELEMETRY][L025] IOHIDManager released
2025-10-22T21:42:15.2703910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2704000Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2704090Z       [TELEMETRY][L025] Releasing run loop mode CFString
2025-10-22T21:42:15.2704310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2704400Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2704480Z       [TELEMETRY][L025] Run loop mode CFString released
2025-10-22T21:42:15.2704630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2704710Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2704850Z       [TELEMETRY][L025] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2705000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2705080Z       [TELEMETRY][L025] CFRunLoopStop() returned
2025-10-22T21:42:15.2705230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2705360Z       [TELEMETRY][L025] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2705500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2705600Z       [TELEMETRY][L025] Thread exited successfully after 0ms
2025-10-22T21:42:15.2705750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2705820Z       [TELEMETRY][L025] StopListening() complete
2025-10-22T21:42:15.2705970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2706060Z       [TELEMETRY][L025] StopListening() returned successfully
2025-10-22T21:42:15.2706210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2706290Z       [TELEMETRY][L025] Calling base.Dispose(True)
2025-10-22T21:42:15.2706430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2706520Z       [TELEMETRY][L025] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2706660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2706890Z       [TELEMETRY][L026] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2707040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2707170Z       [TELEMETRY][L026] StartListening() called, creating background thread
2025-10-22T21:42:15.2707310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2707470Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2707550Z       HID listener thread started. ThreadID is 33.
2025-10-22T21:42:15.2707700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2707780Z       [TELEMETRY][L026] Background thread started
2025-10-22T21:42:15.2707920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2708040Z       [TELEMETRY][L026] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2708270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2708360Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2708550Z       IOHIDManager 5652983824 is scheduled with run loop 5652984800 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2708690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2708780Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2708840Z       Flushed existing devices.
2025-10-22T21:42:15.2708990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2709080Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2709180Z       [TELEMETRY][L026] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2709320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2709410Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2709600Z       [TELEMETRY][L026] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2709750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2709950Z       [TELEMETRY][L026] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2710030Z         CallStack:
2025-10-22T21:42:15.2710440Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2710740Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2711420Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2711680Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2711900Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2712230Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2712590Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2712850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2713020Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2713310Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2713580Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2713710Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2714040Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2714380Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2714650Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2714770Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2715100Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2715440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2715600Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2715970Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2716450Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2716860Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2716950Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2717310Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2717590Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2717710Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2717960Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2718420Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2718800Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2722740Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2722930Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2723220Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2723460Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2723720Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2723840Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2724060Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2724320Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2724390Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2724690Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2724930Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2725190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2725280Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2726120Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2729600Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2730500Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2730770Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2731310Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2732300Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2732630Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2732900Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2733000Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2733270Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2733540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2733620Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2734230Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2734340Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2734610Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2734710Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2734990Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2735250Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2735340Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2736200Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2736360Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2736630Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2736750Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2737050Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2737320Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2737410Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2738320Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2738600Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2739140Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2739560Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2739650Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2740100Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2740350Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2740460Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2740880Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2740980Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2741160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2741240Z       [TELEMETRY][L026] Setting _isDisposed = true
2025-10-22T21:42:15.2741410Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2741600Z       [TELEMETRY][L026] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2741760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2741880Z       [TELEMETRY][L026] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2742030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2742120Z       [TELEMETRY][L026] Setting _shouldStop flag to true
2025-10-22T21:42:15.2742270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2742400Z       [TELEMETRY][L026] _shouldStop flag set. RunLoop pointer: 5652984800
2025-10-22T21:42:15.2742550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2742650Z       [TELEMETRY][L026] Calling CFRunLoopStop(5652984800)
2025-10-22T21:42:15.2742790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2742880Z       [TELEMETRY][L026] CFRunLoopStop() returned
2025-10-22T21:42:15.2743050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2743180Z       [TELEMETRY][L026] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2743320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2743410Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2743550Z       [TELEMETRY][L026] Loop iter 1: CFRunLoopRunInMode returned 2 after 0ms
2025-10-22T21:42:15.2743700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2743790Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2744050Z       [TELEMETRY][L026] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2744220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2744310Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2744470Z       [TELEMETRY][L026] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2744620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2744710Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2744820Z       [TELEMETRY][L026] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2745080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2745180Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2745280Z       [TELEMETRY][L026] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2745450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2745550Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2745730Z       [TELEMETRY][L026] Releasing IOHIDManager
2025-10-22T21:42:15.2745880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2745970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2746040Z       [TELEMETRY][L026] IOHIDManager released
2025-10-22T21:42:15.2746200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2746290Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2746380Z       [TELEMETRY][L026] Releasing run loop mode CFString
2025-10-22T21:42:15.2746530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2746630Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2746720Z       [TELEMETRY][L026] Run loop mode CFString released
2025-10-22T21:42:15.2746870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2746960Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2747090Z       [TELEMETRY][L026] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2747250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2747350Z       [TELEMETRY][L026] Thread exited successfully after 0ms
2025-10-22T21:42:15.2747500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2747570Z       [TELEMETRY][L026] StopListening() complete
2025-10-22T21:42:15.2747730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2747830Z       [TELEMETRY][L026] StopListening() returned successfully
2025-10-22T21:42:15.2748010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2748100Z       [TELEMETRY][L026] Calling base.Dispose(True)
2025-10-22T21:42:15.2748260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2748340Z       [TELEMETRY][L026] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2748490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2748640Z       [TELEMETRY][L027] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2748810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2748950Z       [TELEMETRY][L027] StartListening() called, creating background thread
2025-10-22T21:42:15.2749110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2749220Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2749320Z       HID listener thread started. ThreadID is 32.
2025-10-22T21:42:15.2749490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2749580Z       [TELEMETRY][L027] Background thread started
2025-10-22T21:42:15.2749730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2749850Z       [TELEMETRY][L027] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2750010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2750100Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2750320Z       IOHIDManager 5651944368 is scheduled with run loop 5651973232 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2750500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2750590Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2750650Z       Flushed existing devices.
2025-10-22T21:42:15.2750810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2750900Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2751020Z       [TELEMETRY][L027] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2751270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2751370Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2751570Z       [TELEMETRY][L027] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2751720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2751940Z       [TELEMETRY][L027] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2752060Z         CallStack:
2025-10-22T21:42:15.2752480Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2752800Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2753560Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2753830Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2754070Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2754440Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2754840Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2755130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2755300Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2755630Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2755910Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2756070Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2756440Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2756700Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2756960Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2757070Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2757410Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2757670Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2757830Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2758210Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2758460Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2758730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2758900Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2759150Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2759430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2759550Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2759850Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2760230Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2760590Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2760860Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2761020Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2761300Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2761550Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2761810Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2761930Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2762150Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2762420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2762490Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2762790Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2763040Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2763310Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2763400Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2764100Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2764640Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2765180Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2765440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2765980Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2766520Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2766860Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2767130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2767230Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2767570Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2767840Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2767930Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2768760Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2768920Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2769210Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2769310Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2770020Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2770320Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2770410Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2770970Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2771100Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2771370Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2771490Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2771790Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2772060Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2772160Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2772890Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2773160Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2773660Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2774080Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2774170Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2774610Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2775050Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2775170Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2775350Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2775440Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2775610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2775920Z       [TELEMETRY][L027] Setting _isDisposed = true
2025-10-22T21:42:15.2776070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2776190Z       [TELEMETRY][L027] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2776350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2776460Z       [TELEMETRY][L027] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2776610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2776700Z       [TELEMETRY][L027] Setting _shouldStop flag to true
2025-10-22T21:42:15.2776850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2776970Z       [TELEMETRY][L027] _shouldStop flag set. RunLoop pointer: 5651973232
2025-10-22T21:42:15.2777120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2777220Z       [TELEMETRY][L027] Calling CFRunLoopStop(5651973232)
2025-10-22T21:42:15.2777360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2777450Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2777590Z       [TELEMETRY][L027] Loop iter 1: CFRunLoopRunInMode returned 2 after 1ms
2025-10-22T21:42:15.2777740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2777830Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2777990Z       [TELEMETRY][L027] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2778140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2778230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2778390Z       [TELEMETRY][L027] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2778540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2778630Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2778730Z       [TELEMETRY][L027] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2778890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2778970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2779070Z       [TELEMETRY][L027] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2779220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2779300Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2779370Z       [TELEMETRY][L027] Releasing IOHIDManager
2025-10-22T21:42:15.2779520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2779610Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2779690Z       [TELEMETRY][L027] IOHIDManager released
2025-10-22T21:42:15.2779870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2779960Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2780040Z       [TELEMETRY][L027] Releasing run loop mode CFString
2025-10-22T21:42:15.2780200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2780300Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2780400Z       [TELEMETRY][L027] Run loop mode CFString released
2025-10-22T21:42:15.2780550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2780630Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2780760Z       [TELEMETRY][L027] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2780930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2781090Z       [TELEMETRY][L027] CFRunLoopStop() returned
2025-10-22T21:42:15.2781250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2781380Z       [TELEMETRY][L027] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2781530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2781630Z       [TELEMETRY][L027] Thread exited successfully after 0ms
2025-10-22T21:42:15.2781840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2781910Z       [TELEMETRY][L027] StopListening() complete
2025-10-22T21:42:15.2782060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2782170Z       [TELEMETRY][L027] StopListening() returned successfully
2025-10-22T21:42:15.2782320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2782390Z       [TELEMETRY][L027] Calling base.Dispose(True)
2025-10-22T21:42:15.2782550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2782620Z       [TELEMETRY][L027] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2782770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2782920Z       [TELEMETRY][L028] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2783070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2783210Z       [TELEMETRY][L028] StartListening() called, creating background thread
2025-10-22T21:42:15.2783360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2783450Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2783530Z       HID listener thread started. ThreadID is 31.
2025-10-22T21:42:15.2783680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2783760Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2784050Z       IOHIDManager 5670889312 is scheduled with run loop 5670898816 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2784200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2784300Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2784360Z       Flushed existing devices.
2025-10-22T21:42:15.2784510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2784600Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2784700Z       [TELEMETRY][L028] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2784870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2784950Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2785160Z       [TELEMETRY][L028] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2785320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2785400Z       [TELEMETRY][L028] Background thread started
2025-10-22T21:42:15.2785550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2785670Z       [TELEMETRY][L028] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2785820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2786030Z       [TELEMETRY][L028] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2786080Z         CallStack:
2025-10-22T21:42:15.2786480Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2786820Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2787530Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2787890Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2788130Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2788470Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2788920Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2789200Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2789360Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2789660Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2789940Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2790070Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2796090Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2796400Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2796690Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2796810Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2797150Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2797420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2797580Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2797970Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2798240Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2798510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2798620Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2798880Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2799150Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2799270Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2799530Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2799940Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2800310Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2800600Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2800780Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2801450Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2801720Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2801990Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2802200Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2802430Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2802690Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2802770Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2803070Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2803310Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2803580Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2803670Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2804350Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2804870Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2805430Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2805690Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2806240Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2806620Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2806910Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2807180Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2807280Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2807550Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2807810Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2807890Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2808500Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2808610Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2808920Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2809030Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2809290Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2809550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2809890Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2810450Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2810610Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2810930Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2811080Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2811380Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2811650Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2811750Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2812460Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2812720Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2813200Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2813610Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2813700Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2814130Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2814370Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2814480Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2814650Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2814740Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2814940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2815010Z       [TELEMETRY][L028] Setting _isDisposed = true
2025-10-22T21:42:15.2815170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2815290Z       [TELEMETRY][L028] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2815440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2815550Z       [TELEMETRY][L028] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2815700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2815790Z       [TELEMETRY][L028] Setting _shouldStop flag to true
2025-10-22T21:42:15.2815930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2816060Z       [TELEMETRY][L028] _shouldStop flag set. RunLoop pointer: 5670898816
2025-10-22T21:42:15.2816300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2816400Z       [TELEMETRY][L028] Calling CFRunLoopStop(5670898816)
2025-10-22T21:42:15.2816560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2816640Z       [TELEMETRY][L028] CFRunLoopStop() returned
2025-10-22T21:42:15.2816790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2816870Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2817070Z       [TELEMETRY][L028] Loop iter 1: CFRunLoopRunInMode returned 2 after 11ms
2025-10-22T21:42:15.2817220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2817980Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2818210Z       [TELEMETRY][L028] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2818390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2818490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2818680Z       [TELEMETRY][L028] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2818850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2818950Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2819070Z       [TELEMETRY][L028] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2819240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2819380Z       [TELEMETRY][L028] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2819550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2819650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2819750Z       [TELEMETRY][L028] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2819900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2820000Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2820070Z       [TELEMETRY][L028] Releasing IOHIDManager
2025-10-22T21:42:15.2820230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2820310Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2820390Z       [TELEMETRY][L028] IOHIDManager released
2025-10-22T21:42:15.2820540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2820630Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2820720Z       [TELEMETRY][L028] Releasing run loop mode CFString
2025-10-22T21:42:15.2820870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2820950Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2821040Z       [TELEMETRY][L028] Run loop mode CFString released
2025-10-22T21:42:15.2821190Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2821280Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2821510Z       [TELEMETRY][L028] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2821670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2821770Z       [TELEMETRY][L028] Thread exited successfully after 0ms
2025-10-22T21:42:15.2821920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2821990Z       [TELEMETRY][L028] StopListening() complete
2025-10-22T21:42:15.2822140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2822240Z       [TELEMETRY][L028] StopListening() returned successfully
2025-10-22T21:42:15.2822380Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2822460Z       [TELEMETRY][L028] Calling base.Dispose(True)
2025-10-22T21:42:15.2822610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2822790Z       [TELEMETRY][L028] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2822940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2823080Z       [TELEMETRY][L029] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2823370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2823510Z       [TELEMETRY][L029] StartListening() called, creating background thread
2025-10-22T21:42:15.2823660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2823750Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2823820Z       HID listener thread started. ThreadID is 30.
2025-10-22T21:42:15.2824040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2824130Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2824330Z       IOHIDManager 5651944368 is scheduled with run loop 5651975632 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2824480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2824560Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2824620Z       Flushed existing devices.
2025-10-22T21:42:15.2824780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2824880Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2824980Z       [TELEMETRY][L029] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2825130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2825210Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2825400Z       [TELEMETRY][L029] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2825560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2825630Z       [TELEMETRY][L029] Background thread started
2025-10-22T21:42:15.2825810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2825930Z       [TELEMETRY][L029] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2826070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2826280Z       [TELEMETRY][L029] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2826330Z         CallStack:
2025-10-22T21:42:15.2826730Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2827070Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2827850Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2828140Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2828360Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2828680Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2829040Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2829320Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2829480Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2829770Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2830050Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2830190Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2830630Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2830880Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2831140Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2831310Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2831640Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2831900Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2832050Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2832430Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2832680Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2832940Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2833030Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2833280Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2833540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2833660Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2833890Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2834270Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2834630Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2834890Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2835060Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2835340Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2835590Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2835850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2835970Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2836190Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2836520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2836590Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2836890Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2837140Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2837500Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2837600Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2838280Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2838880Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2839430Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2839720Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2840270Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2840680Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2840980Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2841240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2841350Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2841610Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2841880Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2841970Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2842600Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2842730Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2843020Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2843150Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2843440Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2843780Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2843870Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2844470Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2844620Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2844910Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2845030Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2845420Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2845700Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2845790Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2846490Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2846820Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2847310Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2847730Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2847840Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2848300Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2848550Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2848670Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2848860Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2848960Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2849150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2849230Z       [TELEMETRY][L029] Setting _isDisposed = true
2025-10-22T21:42:15.2849390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2849520Z       [TELEMETRY][L029] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2849700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2849830Z       [TELEMETRY][L029] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2849980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2850080Z       [TELEMETRY][L029] Setting _shouldStop flag to true
2025-10-22T21:42:15.2850220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2850350Z       [TELEMETRY][L029] _shouldStop flag set. RunLoop pointer: 5651975632
2025-10-22T21:42:15.2850500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2850590Z       [TELEMETRY][L029] Calling CFRunLoopStop(5651975632)
2025-10-22T21:42:15.2850740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2850820Z       [TELEMETRY][L029] CFRunLoopStop() returned
2025-10-22T21:42:15.2850960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2851090Z       [TELEMETRY][L029] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2851230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2851320Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2851450Z       [TELEMETRY][L029] Loop iter 1: CFRunLoopRunInMode returned 2 after 11ms
2025-10-22T21:42:15.2851600Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2851690Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2851850Z       [TELEMETRY][L029] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2852000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2852090Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2852330Z       [TELEMETRY][L029] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2852480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2852570Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2852680Z       [TELEMETRY][L029] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2852820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2852970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2853070Z       [TELEMETRY][L029] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2853220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2853300Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2853380Z       [TELEMETRY][L029] Releasing IOHIDManager
2025-10-22T21:42:15.2853770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2853890Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2854360Z       [TELEMETRY][L029] IOHIDManager released
2025-10-22T21:42:15.2854520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2854610Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2854700Z       [TELEMETRY][L029] Releasing run loop mode CFString
2025-10-22T21:42:15.2854850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2854930Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2855020Z       [TELEMETRY][L029] Run loop mode CFString released
2025-10-22T21:42:15.2855170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2855250Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2855380Z       [TELEMETRY][L029] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2855530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2855620Z       [TELEMETRY][L029] Thread exited successfully after 0ms
2025-10-22T21:42:15.2855770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2855840Z       [TELEMETRY][L029] StopListening() complete
2025-10-22T21:42:15.2855990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2856090Z       [TELEMETRY][L029] StopListening() returned successfully
2025-10-22T21:42:15.2856240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2856320Z       [TELEMETRY][L029] Calling base.Dispose(True)
2025-10-22T21:42:15.2856470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2856550Z       [TELEMETRY][L029] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2856700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2856840Z       [TELEMETRY][L030] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2856990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2857120Z       [TELEMETRY][L030] StartListening() called, creating background thread
2025-10-22T21:42:15.2857270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2857360Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2857430Z       HID listener thread started. ThreadID is 29.
2025-10-22T21:42:15.2857580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2857670Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2858220Z       IOHIDManager 5670887504 is scheduled with run loop 5670898144 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2858450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2858540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2858600Z       Flushed existing devices.
2025-10-22T21:42:15.2858750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2858840Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2858950Z       [TELEMETRY][L030] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2859110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2859440Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2859780Z       [TELEMETRY][L030] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2859940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2860020Z       [TELEMETRY][L030] Background thread started
2025-10-22T21:42:15.2860230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2860350Z       [TELEMETRY][L030] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2860510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2860710Z       [TELEMETRY][L030] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2860750Z         CallStack:
2025-10-22T21:42:15.2861150Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2861460Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2862130Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2862390Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2862610Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2862930Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2863290Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2863550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2863710Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2864150Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2864460Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2864590Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2864930Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2865170Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2865550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2865720Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2866100Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2866390Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2866570Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2867010Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2867470Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2867790Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2867890Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2868140Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2868600Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2868720Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2868940Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2869330Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2869690Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2869950Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2870130Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2870410Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2870650Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2870920Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2871030Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2871260Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2871530Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2871600Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2871900Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2872280Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2872550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2872630Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2873320Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2873840Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2874390Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2874660Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2875260Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2875680Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2875980Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2876300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2876420Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2876740Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2877010Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2877100Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2877860Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2877980Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2878240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2878350Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2878610Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2878900Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2879000Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2879540Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2879660Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2879930Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2880040Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2880340Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2880610Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2880700Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2881400Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2881670Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2882150Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2882760Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2882890Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2883820Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2885830Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2886230Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2887340Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2887760Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2888000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2888100Z       [TELEMETRY][L030] Setting _isDisposed = true
2025-10-22T21:42:15.2888270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2889250Z       [TELEMETRY][L030] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2890030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2890530Z       [TELEMETRY][L030] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2891260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2891780Z       [TELEMETRY][L030] Setting _shouldStop flag to true
2025-10-22T21:42:15.2892320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2892500Z       [TELEMETRY][L030] _shouldStop flag set. RunLoop pointer: 5670898144
2025-10-22T21:42:15.2892680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2893130Z       [TELEMETRY][L030] Calling CFRunLoopStop(5670898144)
2025-10-22T21:42:15.2894130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2894430Z       [TELEMETRY][L030] CFRunLoopStop() returned
2025-10-22T21:42:15.2895990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2896180Z       [TELEMETRY][L030] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2896400Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2896730Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2897380Z       [TELEMETRY][L030] Loop iter 1: CFRunLoopRunInMode returned 2 after 12ms
2025-10-22T21:42:15.2900080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2901160Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2902080Z       [TELEMETRY][L030] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2902340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2902510Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2902740Z       [TELEMETRY][L030] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2902930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2903030Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2903150Z       [TELEMETRY][L030] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2903300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2903400Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2903510Z       [TELEMETRY][L030] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2903680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2903780Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2903860Z       [TELEMETRY][L030] Releasing IOHIDManager
2025-10-22T21:42:15.2904190Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2904540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2904750Z       [TELEMETRY][L030] IOHIDManager released
2025-10-22T21:42:15.2905210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2905490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2905810Z       [TELEMETRY][L030] Releasing run loop mode CFString
2025-10-22T21:42:15.2907430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2907600Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2907700Z       [TELEMETRY][L030] Run loop mode CFString released
2025-10-22T21:42:15.2907910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2908020Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2908370Z       [TELEMETRY][L030] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2908590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2908740Z       [TELEMETRY][L030] Thread exited successfully after 0ms
2025-10-22T21:42:15.2908910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2908990Z       [TELEMETRY][L030] StopListening() complete
2025-10-22T21:42:15.2909150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2909270Z       [TELEMETRY][L030] StopListening() returned successfully
2025-10-22T21:42:15.2909460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2909580Z       [TELEMETRY][L030] Calling base.Dispose(True)
2025-10-22T21:42:15.2909780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2909900Z       [TELEMETRY][L030] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2910130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2910400Z       [TELEMETRY][L031] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2910830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2911450Z       [TELEMETRY][L031] StartListening() called, creating background thread
2025-10-22T21:42:15.2911690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2911790Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2911890Z       HID listener thread started. ThreadID is 28.
2025-10-22T21:42:15.2912120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2912290Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2912530Z       IOHIDManager 5651944368 is scheduled with run loop 5651977120 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2912760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2912910Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2912980Z       Flushed existing devices.
2025-10-22T21:42:15.2913140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2913250Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2913380Z       [TELEMETRY][L031] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2913540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2913620Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2913820Z       [TELEMETRY][L031] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.2914010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2914150Z       [TELEMETRY][L031] Background thread started
2025-10-22T21:42:15.2915130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2915350Z       [TELEMETRY][L031] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.2916690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2916930Z       [TELEMETRY][L031] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.2917000Z         CallStack:
2025-10-22T21:42:15.2917410Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.2918020Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.2919570Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.2919870Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.2920230Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.2921070Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.2921470Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.2921940Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2922110Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.2922430Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.2923630Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2923810Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.2924160Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.2924390Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.2924690Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2924860Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.2925230Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.2925530Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2925700Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.2926490Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.2927020Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.2927310Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2927410Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.2927660Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2927930Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2928050Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2928310Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.2928730Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.2929730Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.2930480Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2930710Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.2931020Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2931380Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.2931660Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2931780Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.2932020Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.2932290Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2932360Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.2932660Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.2932910Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.2933190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2933310Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.2934530Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.2935600Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2936190Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2936480Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2937050Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2937470Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.2937780Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.2938080Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2938200Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.2938490Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.2938750Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2938840Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.2940430Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.2940810Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2941120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2941370Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.2941630Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.2941920Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2942010Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.2942560Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.2942700Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2942980Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2943100Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.2943390Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.2943680Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2943780Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.2947230Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.2947530Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.2948030Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.2948450Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.2948540Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.2948970Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.2949210Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.2949320Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.2949510Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.2949590Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.2949770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2949850Z       [TELEMETRY][L031] Setting _isDisposed = true
2025-10-22T21:42:15.2950010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2950140Z       [TELEMETRY][L031] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.2952220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2952380Z       [TELEMETRY][L031] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.2952550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2953060Z       [TELEMETRY][L031] Setting _shouldStop flag to true
2025-10-22T21:42:15.2953240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2953390Z       [TELEMETRY][L031] _shouldStop flag set. RunLoop pointer: 5651977120
2025-10-22T21:42:15.2953560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2953650Z       [TELEMETRY][L031] Calling CFRunLoopStop(5651977120)
2025-10-22T21:42:15.2953920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2954000Z       [TELEMETRY][L031] CFRunLoopStop() returned
2025-10-22T21:42:15.2954150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2954240Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2954400Z       [TELEMETRY][L031] Loop iter 1: CFRunLoopRunInMode returned 2 after 0ms
2025-10-22T21:42:15.2954580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2954710Z       [TELEMETRY][L031] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.2954870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2954970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2955140Z       [TELEMETRY][L031] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.2955300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2955380Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2955550Z       [TELEMETRY][L031] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.2955720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2955830Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2955930Z       [TELEMETRY][L031] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.2956080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2956170Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2956270Z       [TELEMETRY][L031] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.2956420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2956520Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2965870Z       [TELEMETRY][L031] Releasing IOHIDManager
2025-10-22T21:42:15.2966140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2966260Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2966330Z       [TELEMETRY][L031] IOHIDManager released
2025-10-22T21:42:15.2966480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2966600Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2966760Z       [TELEMETRY][L031] Releasing run loop mode CFString
2025-10-22T21:42:15.2966960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2967050Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2967140Z       [TELEMETRY][L031] Run loop mode CFString released
2025-10-22T21:42:15.2968050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2968690Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2970520Z       [TELEMETRY][L031] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.2970700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2970790Z       [TELEMETRY][L031] Thread exited successfully after 0ms
2025-10-22T21:42:15.2970950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2971030Z       [TELEMETRY][L031] StopListening() complete
2025-10-22T21:42:15.2971180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2971280Z       [TELEMETRY][L031] StopListening() returned successfully
2025-10-22T21:42:15.2971450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2971540Z       [TELEMETRY][L031] Calling base.Dispose(True)
2025-10-22T21:42:15.2971710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2972080Z       [TELEMETRY][L031] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.2972240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2972380Z       [TELEMETRY][L032] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.2972530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2972790Z       [TELEMETRY][L032] StartListening() called, creating background thread
2025-10-22T21:42:15.2972960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2973050Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2973150Z       HID listener thread started. ThreadID is 27.
2025-10-22T21:42:15.2973780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2974120Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2974710Z       IOHIDManager 5651944368 is scheduled with run loop 5651958784 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.2974900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2974990Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2975050Z       Flushed existing devices.
2025-10-22T21:42:15.2975200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2975290Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2975390Z       [TELEMETRY][L032] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.2975570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.2975660Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.2975880Z       [TELEMETRY][L032] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.3000120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3166260Z       [TELEMETRY][L032] Background thread started
2025-10-22T21:42:15.3191590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3212590Z       [TELEMETRY][L032] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.3271530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3280750Z       [TELEMETRY][L032] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.3281420Z         CallStack:
2025-10-22T21:42:15.3282250Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.3283350Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.3285280Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.3287730Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.3290870Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.3291830Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.3293000Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.3294070Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3294840Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.3295940Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.3296850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3297600Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.3298390Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.3300010Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.3300840Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3301550Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.3302480Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.3303410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3304160Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.3305030Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.3305980Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.3306810Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3307490Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.3308150Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3310120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3313630Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3315290Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.3320420Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.3324740Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.3338200Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3348570Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.3350770Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3351740Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3352630Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3355180Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3357480Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3358580Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3359310Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.3363510Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.3369120Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.3370890Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3372720Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.3374040Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.3375770Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3377760Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3379840Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3381080Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3382390Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.3383960Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.3384850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3385550Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.3386260Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.3387130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3388660Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.3389700Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.3390860Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3391640Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3392460Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3393180Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.3394080Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3394800Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.3398140Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.3399240Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3400470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3401240Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3401990Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.3403510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3404500Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.3405690Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.3407420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3408510Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3409950Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.3410790Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.3411700Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.3412440Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.3419840Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.3420590Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.3421280Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.3421960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3422570Z       [TELEMETRY][L032] Setting _isDisposed = true
2025-10-22T21:42:15.3423290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3423610Z       [TELEMETRY][L032] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.3423960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3424300Z       [TELEMETRY][L032] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.3424630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3425170Z       [TELEMETRY][L032] Setting _shouldStop flag to true
2025-10-22T21:42:15.3425500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3425810Z       [TELEMETRY][L032] _shouldStop flag set. RunLoop pointer: 5651958784
2025-10-22T21:42:15.3426170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3426440Z       [TELEMETRY][L032] Calling CFRunLoopStop(5651958784)
2025-10-22T21:42:15.3426840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3427390Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3427700Z       [TELEMETRY][L032] Loop iter 1: CFRunLoopRunInMode returned 2 after 10ms
2025-10-22T21:42:15.3429080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3429370Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3429690Z       [TELEMETRY][L032] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.3430100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3430370Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3430680Z       [TELEMETRY][L032] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.3431420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3431700Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3431960Z       [TELEMETRY][L032] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.3432290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3432540Z       [TELEMETRY][L032] CFRunLoopStop() returned
2025-10-22T21:42:15.3432990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3433250Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3433520Z       [TELEMETRY][L032] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.3433850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3434100Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3434320Z       [TELEMETRY][L032] Releasing IOHIDManager
2025-10-22T21:42:15.3434620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3434890Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3435120Z       [TELEMETRY][L032] IOHIDManager released
2025-10-22T21:42:15.3435400Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3435690Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3435930Z       [TELEMETRY][L032] Releasing run loop mode CFString
2025-10-22T21:42:15.3436230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3436490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3436730Z       [TELEMETRY][L032] Run loop mode CFString released
2025-10-22T21:42:15.3437050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3437320Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3437600Z       [TELEMETRY][L032] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.3437980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3438280Z       [TELEMETRY][L032] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.3438630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3438910Z       [TELEMETRY][L032] Thread exited successfully after 0ms
2025-10-22T21:42:15.3439220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3439460Z       [TELEMETRY][L032] StopListening() complete
2025-10-22T21:42:15.3439750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3440030Z       [TELEMETRY][L032] StopListening() returned successfully
2025-10-22T21:42:15.3440350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3440620Z       [TELEMETRY][L032] Calling base.Dispose(True)
2025-10-22T21:42:15.3440920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3441170Z       [TELEMETRY][L032] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.3441470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3441800Z       [TELEMETRY][L033] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.3442160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3442480Z       [TELEMETRY][L033] StartListening() called, creating background thread
2025-10-22T21:42:15.3443380Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3444320Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3444990Z       HID listener thread started. ThreadID is 26.
2025-10-22T21:42:15.3445800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3446550Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3448330Z       IOHIDManager 5651944368 is scheduled with run loop 5651961184 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.3449360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3449640Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3449930Z       Flushed existing devices.
2025-10-22T21:42:15.3451460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3452080Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3452360Z       [TELEMETRY][L033] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.3452700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3454080Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3455660Z       [TELEMETRY][L033] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.3457270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3457590Z       [TELEMETRY][L033] Background thread started
2025-10-22T21:42:15.3457910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3458220Z       [TELEMETRY][L033] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.3458560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3458950Z       [TELEMETRY][L033] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.3459320Z         CallStack:
2025-10-22T21:42:15.3459810Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.3460610Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.3461690Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.3462750Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.3463320Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.3463940Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.3464690Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.3465380Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3465880Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.3466410Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.3467040Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3467500Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.3468010Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.3468660Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.3469220Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3469660Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.3470170Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.3470830Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3471460Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.3472080Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.3472780Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.3473470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3473890Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.3474280Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3474880Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3475430Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3475860Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.3476530Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.3477340Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.3478040Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3478540Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.3479060Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3479670Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3480270Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3480760Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3481180Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3481770Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3482210Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.3482690Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.3483320Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.3483900Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3484310Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.3485140Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.3486440Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3487720Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3492160Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3493060Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3494170Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.3494910Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.3495540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3495970Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.3496400Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.3496990Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3497410Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.3498180Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.3499010Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3499460Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3500100Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3500620Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.3501240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3501650Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.3502360Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.3503110Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3503560Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3504010Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3504480Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.3505120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3505620Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.3515390Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.3516480Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3517300Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3518590Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.3519200Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.3519820Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.3520780Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.3521440Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.3521840Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.3522180Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.3522500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3522780Z       [TELEMETRY][L033] Setting _isDisposed = true
2025-10-22T21:42:15.3523080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3523380Z       [TELEMETRY][L033] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.3523740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3524040Z       [TELEMETRY][L033] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.3528210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3528480Z       [TELEMETRY][L033] Setting _shouldStop flag to true
2025-10-22T21:42:15.3528780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3529080Z       [TELEMETRY][L033] _shouldStop flag set. RunLoop pointer: 5651961184
2025-10-22T21:42:15.3529420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3529680Z       [TELEMETRY][L033] Calling CFRunLoopStop(5651961184)
2025-10-22T21:42:15.3530000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3530250Z       [TELEMETRY][L033] CFRunLoopStop() returned
2025-10-22T21:42:15.3530550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3530840Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3531130Z       [TELEMETRY][L033] Loop iter 1: CFRunLoopRunInMode returned 2 after 11ms
2025-10-22T21:42:15.3531580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3531900Z       [TELEMETRY][L033] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.3532260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3532530Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3532840Z       [TELEMETRY][L033] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.3533260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3533540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3533860Z       [TELEMETRY][L033] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.3534240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3534510Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3534760Z       [TELEMETRY][L033] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.3535080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3535350Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3535610Z       [TELEMETRY][L033] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.3535930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3536200Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3536420Z       [TELEMETRY][L033] Releasing IOHIDManager
2025-10-22T21:42:15.3536710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3536990Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3537470Z       [TELEMETRY][L033] IOHIDManager released
2025-10-22T21:42:15.3537790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3538070Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3538310Z       [TELEMETRY][L033] Releasing run loop mode CFString
2025-10-22T21:42:15.3538610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3539000Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3539230Z       [TELEMETRY][L033] Run loop mode CFString released
2025-10-22T21:42:15.3539540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3539810Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3540080Z       [TELEMETRY][L033] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.3541510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3541790Z       [TELEMETRY][L033] Thread exited successfully after 0ms
2025-10-22T21:42:15.3542100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3542350Z       [TELEMETRY][L033] StopListening() complete
2025-10-22T21:42:15.3542650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3542940Z       [TELEMETRY][L033] StopListening() returned successfully
2025-10-22T21:42:15.3543260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3543520Z       [TELEMETRY][L033] Calling base.Dispose(True)
2025-10-22T21:42:15.3543820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3544070Z       [TELEMETRY][L033] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.3544360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3544960Z       [TELEMETRY][L034] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.3545340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3545650Z       [TELEMETRY][L034] StartListening() called, creating background thread
2025-10-22T21:42:15.3546010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3546290Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3546520Z       HID listener thread started. ThreadID is 25.
2025-10-22T21:42:15.3546820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3547110Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3547470Z       IOHIDManager 5651944368 is scheduled with run loop 5651963584 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.3547880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3548150Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3548360Z       Flushed existing devices.
2025-10-22T21:42:15.3548620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3548890Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3549140Z       [TELEMETRY][L034] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.3549450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3549720Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3550070Z       [TELEMETRY][L034] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.3550490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3550750Z       [TELEMETRY][L034] Background thread started
2025-10-22T21:42:15.3551040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3551340Z       [TELEMETRY][L034] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.3551680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3552080Z       [TELEMETRY][L034] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.3552400Z         CallStack:
2025-10-22T21:42:15.3553070Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.3553850Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.3554900Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.3556030Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.3556580Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.3557210Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.3557960Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.3558710Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3559220Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.3559760Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.3560510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3561000Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.3561910Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.3562570Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.3563130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3563570Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.3564090Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.3564750Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3565250Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.3565870Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.3566770Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.3567360Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3567780Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.3568190Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3568770Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3569210Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3569630Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.3570460Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.3571300Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.3572010Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3572570Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.3573100Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3573680Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3574260Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3574710Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3575120Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3575670Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3576080Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.3576520Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.3577120Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.3577700Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3578130Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.3578970Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.3580280Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3581410Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3582290Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3583150Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3584140Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.3584940Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.3585560Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3585990Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.3586420Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.3587130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3587540Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.3588290Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.3589370Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3589810Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3590240Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3590700Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.3591350Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3591790Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.3592550Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.3593300Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3593760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3594200Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3594680Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.3595300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3595720Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.3596570Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.3597600Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3598400Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3599350Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.3599950Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.3600560Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.3601400Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.3601830Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.3602180Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.3602510Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.3602820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3603080Z       [TELEMETRY][L034] Setting _isDisposed = true
2025-10-22T21:42:15.3603370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3603660Z       [TELEMETRY][L034] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.3604150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3604450Z       [TELEMETRY][L034] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.3604780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3605040Z       [TELEMETRY][L034] Setting _shouldStop flag to true
2025-10-22T21:42:15.3605340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3605720Z       [TELEMETRY][L034] _shouldStop flag set. RunLoop pointer: 5651963584
2025-10-22T21:42:15.3606060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3606330Z       [TELEMETRY][L034] Calling CFRunLoopStop(5651963584)
2025-10-22T21:42:15.3606660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3606940Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3607230Z       [TELEMETRY][L034] Loop iter 1: CFRunLoopRunInMode returned 2 after 10ms
2025-10-22T21:42:15.3607580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3607840Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3608170Z       [TELEMETRY][L034] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.3608540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3608990Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3609310Z       [TELEMETRY][L034] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.3609680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3609940Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3610190Z       [TELEMETRY][L034] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.3610510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3610750Z       [TELEMETRY][L034] CFRunLoopStop() returned
2025-10-22T21:42:15.3611040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3611350Z       [TELEMETRY][L034] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.3611680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3611940Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3612200Z       [TELEMETRY][L034] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.3612510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3612780Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3613000Z       [TELEMETRY][L034] Releasing IOHIDManager
2025-10-22T21:42:15.3613280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3613540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3613750Z       [TELEMETRY][L034] IOHIDManager released
2025-10-22T21:42:15.3614040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3614300Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3614540Z       [TELEMETRY][L034] Releasing run loop mode CFString
2025-10-22T21:42:15.3614850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3615150Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3615400Z       [TELEMETRY][L034] Run loop mode CFString released
2025-10-22T21:42:15.3615690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3615950Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3616260Z       [TELEMETRY][L034] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.3616600Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3616880Z       [TELEMETRY][L034] Thread exited successfully after 0ms
2025-10-22T21:42:15.3617190Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3617440Z       [TELEMETRY][L034] StopListening() complete
2025-10-22T21:42:15.3617730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3618130Z       [TELEMETRY][L034] StopListening() returned successfully
2025-10-22T21:42:15.3618470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3618720Z       [TELEMETRY][L034] Calling base.Dispose(True)
2025-10-22T21:42:15.3619010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3619250Z       [TELEMETRY][L034] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.3619620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3619940Z       [TELEMETRY][L035] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.3620300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3620600Z       [TELEMETRY][L035] StartListening() called, creating background thread
2025-10-22T21:42:15.3620960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3621220Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3621450Z       HID listener thread started. ThreadID is 24.
2025-10-22T21:42:15.3621740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3622030Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3622370Z       IOHIDManager 5670889312 is scheduled with run loop 5670900016 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.3622770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3623040Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3623240Z       Flushed existing devices.
2025-10-22T21:42:15.3623510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3623780Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3624030Z       [TELEMETRY][L035] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.3624340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3624600Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3625010Z       [TELEMETRY][L035] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.3625420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3625680Z       [TELEMETRY][L035] Background thread started
2025-10-22T21:42:15.3625970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3626250Z       [TELEMETRY][L035] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.3626590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3626960Z       [TELEMETRY][L035] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.3627270Z         CallStack:
2025-10-22T21:42:15.3627730Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.3628470Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.3629500Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.3630510Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.3631060Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.3631670Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.3632410Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.3633330Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3633840Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.3634420Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.3635080Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3635650Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.3636230Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.3636870Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.3637540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3637660Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.3638080Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.3638370Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3638530Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.3638940Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.3639300Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.3639850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3640050Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.3640320Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3640630Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3640870Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3641180Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.3652100Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.3652590Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.3652880Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3653060Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.3653340Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3653610Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3653890Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3654020Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3654460Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3654750Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3654830Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.3655140Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.3655660Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.3655960Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3656040Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.3656780Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.3657310Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3657860Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3658140Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3658720Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3659130Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.3659460Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.3659730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3659850Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.3660120Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.3660410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3660500Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.3661120Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.3661230Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3661490Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3661590Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3661870Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.3662130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3662210Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.3662820Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.3662960Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3663230Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3663400Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3663690Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.3663950Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3664050Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.3664920Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.3665230Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3665770Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3666220Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.3666320Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.3666750Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.3667000Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.3667120Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.3667320Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.3667420Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.3667600Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3667680Z       [TELEMETRY][L035] Setting _isDisposed = true
2025-10-22T21:42:15.3667850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3667980Z       [TELEMETRY][L035] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.3668130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3668260Z       [TELEMETRY][L035] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.3668410Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3668520Z       [TELEMETRY][L035] Setting _shouldStop flag to true
2025-10-22T21:42:15.3669100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3669240Z       [TELEMETRY][L035] _shouldStop flag set. RunLoop pointer: 5670900016
2025-10-22T21:42:15.3670940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3671100Z       [TELEMETRY][L035] Calling CFRunLoopStop(5670900016)
2025-10-22T21:42:15.3671270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3671350Z       [TELEMETRY][L035] CFRunLoopStop() returned
2025-10-22T21:42:15.3671500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3671590Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3671730Z       [TELEMETRY][L035] Loop iter 1: CFRunLoopRunInMode returned 2 after 10ms
2025-10-22T21:42:15.3671900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3672230Z       [TELEMETRY][L035] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.3672420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3672510Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3672680Z       [TELEMETRY][L035] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.3672830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3673010Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3673180Z       [TELEMETRY][L035] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.3673330Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3673420Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3673530Z       [TELEMETRY][L035] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.3673670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3673760Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3673870Z       [TELEMETRY][L035] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.3674020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3674110Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3674180Z       [TELEMETRY][L035] Releasing IOHIDManager
2025-10-22T21:42:15.3674320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3674410Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3674480Z       [TELEMETRY][L035] IOHIDManager released
2025-10-22T21:42:15.3674630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3674720Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3674800Z       [TELEMETRY][L035] Releasing run loop mode CFString
2025-10-22T21:42:15.3674950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3675030Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3675120Z       [TELEMETRY][L035] Run loop mode CFString released
2025-10-22T21:42:15.3675270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3675350Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3675480Z       [TELEMETRY][L035] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.3675630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3675730Z       [TELEMETRY][L035] Thread exited successfully after 0ms
2025-10-22T21:42:15.3675880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3675950Z       [TELEMETRY][L035] StopListening() complete
2025-10-22T21:42:15.3676100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3676200Z       [TELEMETRY][L035] StopListening() returned successfully
2025-10-22T21:42:15.3676350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3676420Z       [TELEMETRY][L035] Calling base.Dispose(True)
2025-10-22T21:42:15.3676580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3676650Z       [TELEMETRY][L035] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.3676800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3676940Z       [TELEMETRY][L036] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.3677090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3677230Z       [TELEMETRY][L036] StartListening() called, creating background thread
2025-10-22T21:42:15.3677370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3677460Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3677540Z       HID listener thread started. ThreadID is 23.
2025-10-22T21:42:15.3677690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3677770Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3678050Z       IOHIDManager 5670889312 is scheduled with run loop 5670902224 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.3678220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3678300Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3678360Z       Flushed existing devices.
2025-10-22T21:42:15.3678510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3678590Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3678730Z       [TELEMETRY][L036] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.3678880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3678960Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3679150Z       [TELEMETRY][L036] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.3679290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3679370Z       [TELEMETRY][L036] Background thread started
2025-10-22T21:42:15.3679520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3679630Z       [TELEMETRY][L036] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.3679780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3679990Z       [TELEMETRY][L036] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.3680030Z         CallStack:
2025-10-22T21:42:15.3680430Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.3680740Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.3681410Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.3681680Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.3682030Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.3682370Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.3682740Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.3683010Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3683180Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.3683470Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.3683740Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3683870Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.3684210Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.3684450Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.3684720Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3684830Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.3685280Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.3685630Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3685790Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.3686180Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.3686590Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.3686860Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3686950Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.3687200Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3687480Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3687600Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3687830Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.3688230Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.3688590Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.3688850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3689020Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.3689300Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3689540Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3689810Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3689930Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3690150Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3690410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3690490Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.3690800Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.3692340Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.3692720Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3692810Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.3693720Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.3694370Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3698910Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3699190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3700370Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3700800Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.3701250Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.3701520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3701630Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.3701900Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.3702590Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3702690Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.3703320Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.3703440Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3703730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3703840Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3704100Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.3704380Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3704460Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.3705040Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.3705160Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3705460Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3708020Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3709500Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.3710960Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3711100Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.3712030Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.3712450Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3712940Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3713350Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.3713530Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.3713960Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.3714320Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.3714430Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.3714950Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.3715080Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.3715250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3715340Z       [TELEMETRY][L036] Setting _isDisposed = true
2025-10-22T21:42:15.3715490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3715620Z       [TELEMETRY][L036] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.3715770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3715890Z       [TELEMETRY][L036] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.3716030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3716130Z       [TELEMETRY][L036] Setting _shouldStop flag to true
2025-10-22T21:42:15.3716270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3716400Z       [TELEMETRY][L036] _shouldStop flag set. RunLoop pointer: 5670902224
2025-10-22T21:42:15.3716550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3716640Z       [TELEMETRY][L036] Calling CFRunLoopStop(5670902224)
2025-10-22T21:42:15.3716780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3716870Z       [TELEMETRY][L036] CFRunLoopStop() returned
2025-10-22T21:42:15.3717020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3717150Z       [TELEMETRY][L036] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.3717290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3717380Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3717520Z       [TELEMETRY][L036] Loop iter 1: CFRunLoopRunInMode returned 2 after 10ms
2025-10-22T21:42:15.3717660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3717750Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3717920Z       [TELEMETRY][L036] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.3718070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3718160Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3718310Z       [TELEMETRY][L036] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.3718460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3718550Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3718660Z       [TELEMETRY][L036] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.3718800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3718890Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3718990Z       [TELEMETRY][L036] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.3719140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3722090Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3722470Z       [TELEMETRY][L036] Releasing IOHIDManager
2025-10-22T21:42:15.3722670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3722760Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3722840Z       [TELEMETRY][L036] IOHIDManager released
2025-10-22T21:42:15.3722980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3723210Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3723300Z       [TELEMETRY][L036] Releasing run loop mode CFString
2025-10-22T21:42:15.3723450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3723530Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3723640Z       [TELEMETRY][L036] Run loop mode CFString released
2025-10-22T21:42:15.3723790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3723880Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3725020Z       [TELEMETRY][L036] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.3725440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3725630Z       [TELEMETRY][L036] Thread exited successfully after 0ms
2025-10-22T21:42:15.3725790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3725860Z       [TELEMETRY][L036] StopListening() complete
2025-10-22T21:42:15.3726040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3726140Z       [TELEMETRY][L036] StopListening() returned successfully
2025-10-22T21:42:15.3726290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3726370Z       [TELEMETRY][L036] Calling base.Dispose(True)
2025-10-22T21:42:15.3726520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3726590Z       [TELEMETRY][L036] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.3726730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3726880Z       [TELEMETRY][L037] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.3727030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3727170Z       [TELEMETRY][L037] StartListening() called, creating background thread
2025-10-22T21:42:15.3727310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3727400Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3727480Z       HID listener thread started. ThreadID is 14.
2025-10-22T21:42:15.3727630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3727710Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3727910Z       IOHIDManager 5651944368 is scheduled with run loop 5651968384 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.3728060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3728140Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3728200Z       Flushed existing devices.
2025-10-22T21:42:15.3728350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3728430Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3728530Z       [TELEMETRY][L037] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.3729330Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3729680Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3729880Z       [TELEMETRY][L037] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.3730040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3730110Z       [TELEMETRY][L037] Background thread started
2025-10-22T21:42:15.3731600Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3731750Z       [TELEMETRY][L037] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.3733810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3734660Z       [TELEMETRY][L037] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.3734720Z         CallStack:
2025-10-22T21:42:15.3735120Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.3737750Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.3738940Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.3739350Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.3739570Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.3740430Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.3742330Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.3742620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3742780Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.3743360Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.3743650Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3743790Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.3744110Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.3744350Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.3745720Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3745850Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.3746200Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.3746460Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3746620Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.3747000Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.3747250Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.3747510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3747600Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.3747840Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3748830Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3749150Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3750150Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.3750550Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.3751180Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.3751460Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3751630Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.3752050Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3752300Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3752560Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3752810Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3753040Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3753920Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3754010Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.3754310Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.3754590Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.3754860Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3754940Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.3755720Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.3756250Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3756800Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3757060Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3757600Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3757990Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.3758280Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.3758540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3758760Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.3759030Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.3759290Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3759450Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.3760360Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.3760480Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3760740Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3760840Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3761100Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.3761360Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3761470Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.3762040Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.3762160Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3762550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3762670Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3762960Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.3763230Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3763320Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.3765440Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.3765720Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3766480Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3767020Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.3767130Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.3767900Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.3768460Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.3768590Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.3768770Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.3768860Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.3769870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3769960Z       [TELEMETRY][L037] Setting _isDisposed = true
2025-10-22T21:42:15.3770110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3770240Z       [TELEMETRY][L037] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.3770380Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3770560Z       [TELEMETRY][L037] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.3770710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3770800Z       [TELEMETRY][L037] Setting _shouldStop flag to true
2025-10-22T21:42:15.3771170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3771320Z       [TELEMETRY][L037] _shouldStop flag set. RunLoop pointer: 5651968384
2025-10-22T21:42:15.3771480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3771660Z       [TELEMETRY][L037] Calling CFRunLoopStop(5651968384)
2025-10-22T21:42:15.3771820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3771930Z       [TELEMETRY][L037] CFRunLoopStop() returned
2025-10-22T21:42:15.3772080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3772200Z       [TELEMETRY][L037] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.3772350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3772440Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3772580Z       [TELEMETRY][L037] Loop iter 1: CFRunLoopRunInMode returned 2 after 10ms
2025-10-22T21:42:15.3772740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3772830Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3773250Z       [TELEMETRY][L037] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.3773430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3773530Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3773700Z       [TELEMETRY][L037] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.3773850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3774160Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3774280Z       [TELEMETRY][L037] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.3774530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3774620Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3774720Z       [TELEMETRY][L037] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.3774870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3774960Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3775030Z       [TELEMETRY][L037] Releasing IOHIDManager
2025-10-22T21:42:15.3775190Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3775290Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3775360Z       [TELEMETRY][L037] IOHIDManager released
2025-10-22T21:42:15.3775530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3775610Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3775700Z       [TELEMETRY][L037] Releasing run loop mode CFString
2025-10-22T21:42:15.3775850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3775940Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3776020Z       [TELEMETRY][L037] Run loop mode CFString released
2025-10-22T21:42:15.3776170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3776250Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3776410Z       [TELEMETRY][L037] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.3776560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3776800Z       [TELEMETRY][L037] Thread exited successfully after 0ms
2025-10-22T21:42:15.3776960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3777030Z       [TELEMETRY][L037] StopListening() complete
2025-10-22T21:42:15.3777180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3777280Z       [TELEMETRY][L037] StopListening() returned successfully
2025-10-22T21:42:15.3777690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3777770Z       [TELEMETRY][L037] Calling base.Dispose(True)
2025-10-22T21:42:15.3777910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3777980Z       [TELEMETRY][L037] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.3782030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3782220Z       [TELEMETRY][L038] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.3782380Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3782520Z       [TELEMETRY][L038] StartListening() called, creating background thread
2025-10-22T21:42:15.3782670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3782760Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3782840Z       HID listener thread started. ThreadID is 15.
2025-10-22T21:42:15.3782980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3783070Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3783550Z       IOHIDManager 5670889312 is scheduled with run loop 5670901904 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.3783730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3783820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3783880Z       Flushed existing devices.
2025-10-22T21:42:15.3784630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3784840Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3785670Z       [TELEMETRY][L038] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.3785860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3785940Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3786130Z       [TELEMETRY][L038] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.3787500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3787590Z       [TELEMETRY][L038] Background thread started
2025-10-22T21:42:15.3787740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3787850Z       [TELEMETRY][L038] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.3788000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3788230Z       [TELEMETRY][L038] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.3788290Z         CallStack:
2025-10-22T21:42:15.3790470Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.3790800Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.3791490Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.3792520Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.3793270Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.3793950Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.3794320Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.3794590Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3795200Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.3795530Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.3795800Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3795960Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.3796300Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.3796540Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.3797050Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3797180Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.3797530Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.3802740Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3803480Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.3803900Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.3804150Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.3804420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3804510Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.3804960Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3805240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3805350Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3805720Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.3806130Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.3806500Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.3808300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3808490Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.3808780Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3809030Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3809520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3809650Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3809890Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3810160Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3810340Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.3810640Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.3810890Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.3811160Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3811260Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.3812050Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.3812580Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3813370Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3815000Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3815620Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3816030Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.3816360Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.3816640Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3816750Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.3817030Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.3817300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3817400Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.3818030Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.3818150Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3818420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3818530Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3818800Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.3819420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3819810Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.3820450Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.3820710Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3820980Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3821090Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3827330Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.3828220Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3830600Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.3831670Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.3832090Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3832870Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3833300Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.3833400Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.3833850Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.3834100Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.3834220Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.3834400Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.3834600Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.3834770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3834850Z       [TELEMETRY][L038] Setting _isDisposed = true
2025-10-22T21:42:15.3835000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3835130Z       [TELEMETRY][L038] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.3835280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3835410Z       [TELEMETRY][L038] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.3835560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3835650Z       [TELEMETRY][L038] Setting _shouldStop flag to true
2025-10-22T21:42:15.3835800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3836400Z       [TELEMETRY][L038] _shouldStop flag set. RunLoop pointer: 5670901904
2025-10-22T21:42:15.3836550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3836640Z       [TELEMETRY][L038] Calling CFRunLoopStop(5670901904)
2025-10-22T21:42:15.3836790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3836860Z       [TELEMETRY][L038] CFRunLoopStop() returned
2025-10-22T21:42:15.3837000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3838210Z       [TELEMETRY][L038] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.3838370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3838590Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3838740Z       [TELEMETRY][L038] Loop iter 1: CFRunLoopRunInMode returned 2 after 11ms
2025-10-22T21:42:15.3839060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3839770Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3839980Z       [TELEMETRY][L038] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.3840130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3840230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3840400Z       [TELEMETRY][L038] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.3840550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3843770Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3843920Z       [TELEMETRY][L038] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.3844120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3844620Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3844770Z       [TELEMETRY][L038] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.3845610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3845700Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3845850Z       [TELEMETRY][L038] Releasing IOHIDManager
2025-10-22T21:42:15.3846040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3846130Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3846220Z       [TELEMETRY][L038] IOHIDManager released
2025-10-22T21:42:15.3846370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3846470Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3846630Z       [TELEMETRY][L038] Releasing run loop mode CFString
2025-10-22T21:42:15.3847370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3847510Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3847600Z       [TELEMETRY][L038] Run loop mode CFString released
2025-10-22T21:42:15.3847770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3847900Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3848030Z       [TELEMETRY][L038] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.3848200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3848420Z       [TELEMETRY][L038] Thread exited successfully after 0ms
2025-10-22T21:42:15.3848570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3857030Z       [TELEMETRY][L038] StopListening() complete
2025-10-22T21:42:15.3857290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3857410Z       [TELEMETRY][L038] StopListening() returned successfully
2025-10-22T21:42:15.3857580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3857670Z       [TELEMETRY][L038] Calling base.Dispose(True)
2025-10-22T21:42:15.3857820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3857910Z       [TELEMETRY][L038] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.3858060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3858240Z       [TELEMETRY][L039] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.3858390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3858520Z       [TELEMETRY][L039] StartListening() called, creating background thread
2025-10-22T21:42:15.3858850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3859440Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3859830Z       HID listener thread started. ThreadID is 18.
2025-10-22T21:42:15.3860000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3860080Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3860280Z       IOHIDManager 5653016128 is scheduled with run loop 5652963328 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.3860430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3861050Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3861110Z       Flushed existing devices.
2025-10-22T21:42:15.3861270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3861360Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3861480Z       [TELEMETRY][L039] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.3861630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3861710Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3861910Z       [TELEMETRY][L039] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.3862050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3862130Z       [TELEMETRY][L039] Background thread started
2025-10-22T21:42:15.3862460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3862610Z       [TELEMETRY][L039] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.3862880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3863230Z       [TELEMETRY][L039] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.3863290Z         CallStack:
2025-10-22T21:42:15.3863830Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.3864150Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.3865100Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.3865370Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.3865690Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.3866120Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.3866640Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.3866930Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3867120Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.3867440Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.3867750Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3867890Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.3868220Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.3868460Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.3868840Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3868960Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.3869290Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.3869650Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3869820Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.3870190Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.3870470Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.3870740Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3870820Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.3871260Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3871560Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3871700Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3871930Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.3872350Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.3872710Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.3872980Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3873150Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.3873470Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3873730Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3874000Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3874120Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3874380Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3874650Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3874770Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.3875070Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.3875320Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.3875890Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3875990Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.3877060Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.3877790Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3878460Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3878730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3879460Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3879870Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.3880310Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.3880610Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3880730Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.3881010Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.3881410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3881510Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.3882250Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.3882370Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3882630Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3882740Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3883000Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.3883260Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3883340Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.3883910Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.3884030Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3884410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3884560Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3884870Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.3885130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3885230Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.3886090Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.3886370Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3887270Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3887690Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.3887780Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.3888550Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.3888810Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.3888920Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.3889100Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.3889220Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.3889870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3889970Z       [TELEMETRY][L039] Setting _isDisposed = true
2025-10-22T21:42:15.3890130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3890260Z       [TELEMETRY][L039] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.3890410Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3890520Z       [TELEMETRY][L039] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.3891170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3891270Z       [TELEMETRY][L039] Setting _shouldStop flag to true
2025-10-22T21:42:15.3891430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3891570Z       [TELEMETRY][L039] _shouldStop flag set. RunLoop pointer: 5652963328
2025-10-22T21:42:15.3891750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3891860Z       [TELEMETRY][L039] Calling CFRunLoopStop(5652963328)
2025-10-22T21:42:15.3892010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3892090Z       [TELEMETRY][L039] CFRunLoopStop() returned
2025-10-22T21:42:15.3892550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3892700Z       [TELEMETRY][L039] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.3892860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3892950Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3893090Z       [TELEMETRY][L039] Loop iter 1: CFRunLoopRunInMode returned 2 after 11ms
2025-10-22T21:42:15.3893260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3893350Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3893520Z       [TELEMETRY][L039] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.3893670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3893760Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3894020Z       [TELEMETRY][L039] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.3894190Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3894280Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3894400Z       [TELEMETRY][L039] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.3894730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3894820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3894930Z       [TELEMETRY][L039] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.3895090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3895170Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3895240Z       [TELEMETRY][L039] Releasing IOHIDManager
2025-10-22T21:42:15.3895620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3895700Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3895770Z       [TELEMETRY][L039] IOHIDManager released
2025-10-22T21:42:15.3895920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3896010Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3896100Z       [TELEMETRY][L039] Releasing run loop mode CFString
2025-10-22T21:42:15.3896240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3896330Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3896420Z       [TELEMETRY][L039] Run loop mode CFString released
2025-10-22T21:42:15.3896560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3896640Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3896800Z       [TELEMETRY][L039] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.3897130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3897240Z       [TELEMETRY][L039] Thread exited successfully after 0ms
2025-10-22T21:42:15.3897390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3897460Z       [TELEMETRY][L039] StopListening() complete
2025-10-22T21:42:15.3897610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3897710Z       [TELEMETRY][L039] StopListening() returned successfully
2025-10-22T21:42:15.3897850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3897930Z       [TELEMETRY][L039] Calling base.Dispose(True)
2025-10-22T21:42:15.3898080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3898150Z       [TELEMETRY][L039] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.3898310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3898460Z       [TELEMETRY][L040] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.3898610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3898740Z       [TELEMETRY][L040] StartListening() called, creating background thread
2025-10-22T21:42:15.3898890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3898980Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3899060Z       HID listener thread started. ThreadID is 19.
2025-10-22T21:42:15.3899210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3899290Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3899490Z       IOHIDManager 5670902608 is scheduled with run loop 5670904416 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.3899640Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3899720Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3899780Z       Flushed existing devices.
2025-10-22T21:42:15.3899930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3900010Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3900120Z       [TELEMETRY][L040] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.3900280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3900370Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3900550Z       [TELEMETRY][L040] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.3900700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3900980Z       [TELEMETRY][L040] Background thread started
2025-10-22T21:42:15.3901140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3901260Z       [TELEMETRY][L040] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.3902910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3903120Z       [TELEMETRY][L040] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.3903280Z         CallStack:
2025-10-22T21:42:15.3903970Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.3904280Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.3905720Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.3905990Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.3906550Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.3907090Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.3907460Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.3907730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3907880Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.3908550Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.3908820Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3909120Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.3910050Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.3910750Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.3911710Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3912010Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.3912970Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.3913690Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3914110Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.3915150Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.3915810Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.3916520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3916750Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.3918070Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3918810Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3919120Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3919910Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.3920980Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.3921980Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.3923660Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3923890Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.3924180Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3924420Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3924730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3924850Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3925080Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3925340Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3925420Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.3925750Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.3925990Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.3926260Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3926370Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.3927060Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.3928540Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3929240Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3929650Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3930220Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3930620Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.3931140Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.3931420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3931520Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.3932870Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.3933400Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3933500Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.3934460Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.3934960Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3937690Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3937810Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3938070Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.3938340Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3938420Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.3939130Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.3939280Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3939550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3939660Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3940340Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.3940620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3940720Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.3942010Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.3942330Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3942830Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3943450Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.3943560Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.3943990Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.3944510Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.3944800Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.3945010Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.3945540Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.3945700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3945780Z       [TELEMETRY][L040] Setting _isDisposed = true
2025-10-22T21:42:15.3946020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3946150Z       [TELEMETRY][L040] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.3946300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3946410Z       [TELEMETRY][L040] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.3946850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3946970Z       [TELEMETRY][L040] Setting _shouldStop flag to true
2025-10-22T21:42:15.3947130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3947260Z       [TELEMETRY][L040] _shouldStop flag set. RunLoop pointer: 5670904416
2025-10-22T21:42:15.3947420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3947510Z       [TELEMETRY][L040] Calling CFRunLoopStop(5670904416)
2025-10-22T21:42:15.3947660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3947730Z       [TELEMETRY][L040] CFRunLoopStop() returned
2025-10-22T21:42:15.3947880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3948260Z       [TELEMETRY][L040] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.3948430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3948520Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3948660Z       [TELEMETRY][L040] Loop iter 1: CFRunLoopRunInMode returned 2 after 8ms
2025-10-22T21:42:15.3948800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3948890Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3949070Z       [TELEMETRY][L040] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.3949230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3949980Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3950510Z       [TELEMETRY][L040] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.3950970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3951210Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3951490Z       [TELEMETRY][L040] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.3951890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3952120Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3952710Z       [TELEMETRY][L040] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.3958420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3958540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3958620Z       [TELEMETRY][L040] Releasing IOHIDManager
2025-10-22T21:42:15.3958770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3959290Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3959370Z       [TELEMETRY][L040] IOHIDManager released
2025-10-22T21:42:15.3959530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3959610Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3959700Z       [TELEMETRY][L040] Releasing run loop mode CFString
2025-10-22T21:42:15.3959850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3959940Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3960020Z       [TELEMETRY][L040] Run loop mode CFString released
2025-10-22T21:42:15.3960170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3961500Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3961790Z       [TELEMETRY][L040] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.3961950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3962050Z       [TELEMETRY][L040] Thread exited successfully after 0ms
2025-10-22T21:42:15.3962200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3962420Z       [TELEMETRY][L040] StopListening() complete
2025-10-22T21:42:15.3962570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3962670Z       [TELEMETRY][L040] StopListening() returned successfully
2025-10-22T21:42:15.3962820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3962890Z       [TELEMETRY][L040] Calling base.Dispose(True)
2025-10-22T21:42:15.3963070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3963140Z       [TELEMETRY][L040] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.3963290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3963430Z       [TELEMETRY][L041] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.3963590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3963720Z       [TELEMETRY][L041] StartListening() called, creating background thread
2025-10-22T21:42:15.3963890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3963990Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3964070Z       HID listener thread started. ThreadID is 20.
2025-10-22T21:42:15.3964220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3964320Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3964530Z       IOHIDManager 5651944368 is scheduled with run loop 5651947200 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.3964680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3964770Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3964830Z       Flushed existing devices.
2025-10-22T21:42:15.3965020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3965110Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3965210Z       [TELEMETRY][L041] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.3965390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3965480Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3965670Z       [TELEMETRY][L041] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.3965820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3965900Z       [TELEMETRY][L041] Background thread started
2025-10-22T21:42:15.3966050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3966170Z       [TELEMETRY][L041] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.3966320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3966530Z       [TELEMETRY][L041] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.3966590Z         CallStack:
2025-10-22T21:42:15.3967130Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.3967450Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.3968420Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.3968710Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.3969090Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.3969420Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.3970320Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.3970710Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3970880Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.3971170Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.3971570Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3971720Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.3972050Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.3972380Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.3972660Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3972790Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.3973130Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.3973400Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3973550Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.3973960Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.3974220Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.3974700Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3974790Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.3975250Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3975520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3975670Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3975910Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.3976310Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.3976710Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.3976990Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3977200Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.3977580Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3977830Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.3978100Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3978620Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.3978850Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.3979130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3979220Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.3979520Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.3979780Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.3980660Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3980760Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.3981900Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.3982730Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3983320Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3983590Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3984130Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3984520Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.3984930Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.3985220Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3985330Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.3985600Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.3985860Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3985950Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.3986560Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.3986660Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3987080Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3987210Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.3987470Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.3987730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3987900Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.3988440Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.3988600Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3988870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3988990Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.3989290Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.3989570Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3989670Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.3990370Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.3990630Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.3991170Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.3991580Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.3991670Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.3992640Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.3992900Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.3993020Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.3993990Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.3994100Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.3994290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3994370Z       [TELEMETRY][L041] Setting _isDisposed = true
2025-10-22T21:42:15.3994520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3994650Z       [TELEMETRY][L041] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.3994830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3994940Z       [TELEMETRY][L041] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.3995090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3995180Z       [TELEMETRY][L041] Setting _shouldStop flag to true
2025-10-22T21:42:15.3995340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3995460Z       [TELEMETRY][L041] _shouldStop flag set. RunLoop pointer: 5651947200
2025-10-22T21:42:15.3995610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3995820Z       [TELEMETRY][L041] Calling CFRunLoopStop(5651947200)
2025-10-22T21:42:15.3996000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3996090Z       [TELEMETRY][L041] CFRunLoopStop() returned
2025-10-22T21:42:15.3996250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3996380Z       [TELEMETRY][L041] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.3996620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3996710Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3996840Z       [TELEMETRY][L041] Loop iter 1: CFRunLoopRunInMode returned 2 after 2ms
2025-10-22T21:42:15.3996990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3997080Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3997240Z       [TELEMETRY][L041] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.3999570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.3999690Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.3999850Z       [TELEMETRY][L041] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.4000020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4000460Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4000940Z       [TELEMETRY][L041] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.4001350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4001590Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4001860Z       [TELEMETRY][L041] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.4002260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4002490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4002690Z       [TELEMETRY][L041] Releasing IOHIDManager
2025-10-22T21:42:15.4003130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4003650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4003920Z       [TELEMETRY][L041] IOHIDManager released
2025-10-22T21:42:15.4004090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4004170Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4004260Z       [TELEMETRY][L041] Releasing run loop mode CFString
2025-10-22T21:42:15.4005980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4006610Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4006720Z       [TELEMETRY][L041] Run loop mode CFString released
2025-10-22T21:42:15.4006870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4006960Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4007090Z       [TELEMETRY][L041] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.4007250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4008010Z       [TELEMETRY][L041] Thread exited successfully after 0ms
2025-10-22T21:42:15.4008170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4008250Z       [TELEMETRY][L041] StopListening() complete
2025-10-22T21:42:15.4008390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4008520Z       [TELEMETRY][L041] StopListening() returned successfully
2025-10-22T21:42:15.4008820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4008900Z       [TELEMETRY][L041] Calling base.Dispose(True)
2025-10-22T21:42:15.4009040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4009120Z       [TELEMETRY][L041] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.4009270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4009410Z       [TELEMETRY][L042] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.4009900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4010200Z       [TELEMETRY][L042] StartListening() called, creating background thread
2025-10-22T21:42:15.4010390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4010490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4010580Z       HID listener thread started. ThreadID is 21.
2025-10-22T21:42:15.4010740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4010920Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4011120Z       IOHIDManager 5652963664 is scheduled with run loop 5653016144 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.4011270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4011360Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4011420Z       Flushed existing devices.
2025-10-22T21:42:15.4011850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4011970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4012090Z       [TELEMETRY][L042] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.4012250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4012340Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4012550Z       [TELEMETRY][L042] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.4012720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4012800Z       [TELEMETRY][L042] Background thread started
2025-10-22T21:42:15.4013270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4013400Z       [TELEMETRY][L042] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.4013550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4013760Z       [TELEMETRY][L042] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.4013940Z         CallStack:
2025-10-22T21:42:15.4014480Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.4015330Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.4016200Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.4016840Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.4017070Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.4020910Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.4021990Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.4022750Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4023190Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.4024000Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.4024740Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4025080Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.4026820Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.4027960Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.4029020Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4029750Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.4030770Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.4031510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4031940Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.4038820Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.4039140Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.4040410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4040530Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.4041130Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4041450Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4041580Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4041840Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.4042570Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.4051230Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.4051550Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4051720Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.4052010Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4052390Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4052700Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4052830Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4054360Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4054670Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4054760Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.4055060Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.4055310Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.4057130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4057250Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.4058110Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.4058830Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4059400Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4059670Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4060240Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4060640Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.4060940Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.4061210Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4061320Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.4061590Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.4061890Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4061970Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.4062600Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.4062710Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4063000Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4063110Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4063870Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.4064140Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4064490Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.4065330Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.4065460Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4076760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4076950Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4078560Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.4079760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4080050Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.4080780Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.4081490Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4082010Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4082880Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.4083330Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.4084050Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.4084310Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.4084420Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.4084610Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.4084700Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.4084860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4084950Z       [TELEMETRY][L042] Setting _isDisposed = true
2025-10-22T21:42:15.4085100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4085230Z       [TELEMETRY][L042] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.4085380Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4085490Z       [TELEMETRY][L042] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.4085640Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4085740Z       [TELEMETRY][L042] Setting _shouldStop flag to true
2025-10-22T21:42:15.4086050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4086340Z       [TELEMETRY][L042] _shouldStop flag set. RunLoop pointer: 5653016144
2025-10-22T21:42:15.4086490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4086700Z       [TELEMETRY][L042] Calling CFRunLoopStop(5653016144)
2025-10-22T21:42:15.4086880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4086960Z       [TELEMETRY][L042] CFRunLoopStop() returned
2025-10-22T21:42:15.4087750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4087890Z       [TELEMETRY][L042] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.4088060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4088160Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4088290Z       [TELEMETRY][L042] Loop iter 1: CFRunLoopRunInMode returned 2 after 2ms
2025-10-22T21:42:15.4088450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4088540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4089540Z       [TELEMETRY][L042] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.4089730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4089820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4089980Z       [TELEMETRY][L042] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.4090940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4091280Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4091420Z       [TELEMETRY][L042] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.4091570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4091660Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4091900Z       [TELEMETRY][L042] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.4092250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4092340Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4092420Z       [TELEMETRY][L042] Releasing IOHIDManager
2025-10-22T21:42:15.4092570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4092660Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4092730Z       [TELEMETRY][L042] IOHIDManager released
2025-10-22T21:42:15.4092880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4092970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4093760Z       [TELEMETRY][L042] Releasing run loop mode CFString
2025-10-22T21:42:15.4093930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4094010Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4094100Z       [TELEMETRY][L042] Run loop mode CFString released
2025-10-22T21:42:15.4094260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4094340Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4094830Z       [TELEMETRY][L042] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.4095010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4095110Z       [TELEMETRY][L042] Thread exited successfully after 0ms
2025-10-22T21:42:15.4095260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4095340Z       [TELEMETRY][L042] StopListening() complete
2025-10-22T21:42:15.4095490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4095610Z       [TELEMETRY][L042] StopListening() returned successfully
2025-10-22T21:42:15.4095760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4095840Z       [TELEMETRY][L042] Calling base.Dispose(True)
2025-10-22T21:42:15.4095980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4096060Z       [TELEMETRY][L042] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.4096370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4096670Z       [TELEMETRY][L043] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.4096850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4096980Z       [TELEMETRY][L043] StartListening() called, creating background thread
2025-10-22T21:42:15.4097130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4097220Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4097330Z       HID listener thread started. ThreadID is 36.
2025-10-22T21:42:15.4097490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4097650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4098090Z       IOHIDManager 5651944368 is scheduled with run loop 5651983072 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.4098260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4098420Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4098480Z       Flushed existing devices.
2025-10-22T21:42:15.4098640Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4098720Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4098950Z       [TELEMETRY][L043] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.4099110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4099320Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4099520Z       [TELEMETRY][L043] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.4099670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4099750Z       [TELEMETRY][L043] Background thread started
2025-10-22T21:42:15.4099910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4100130Z       [TELEMETRY][L043] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.4100280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4100490Z       [TELEMETRY][L043] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.4100530Z         CallStack:
2025-10-22T21:42:15.4100920Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.4101230Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.4101930Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.4102200Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.4102420Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.4102730Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.4103240Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.4103530Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4103690Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.4103990Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.4104260Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4104420Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.4104750Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.4104990Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.4105250Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4105360Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.4105710Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.4106240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4106410Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.4106780Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.4107160Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.4107590Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4107700Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.4107950Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4108340Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4108480Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4108760Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.4109160Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.4109530Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.4109790Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4109960Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.4110250Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4110490Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4111300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4111440Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4111670Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4111930Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4112010Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.4112330Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.4112580Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.4112840Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4112920Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.4113650Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.4114190Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4114740Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4115000Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4115650Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4116050Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.4116350Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.4116860Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4116990Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.4117260Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.4117530Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4117620Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.4118320Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.4118430Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4118700Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4118800Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4119070Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.4119340Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4119420Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.4119990Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.4120110Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4120370Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4120510Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4120820Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.4121090Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4121180Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.4121900Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.4122160Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4122730Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4123160Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.4123260Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.4123860Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.4124110Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.4124220Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.4124460Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.4124550Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.4124710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4124790Z       [TELEMETRY][L043] Setting _isDisposed = true
2025-10-22T21:42:15.4124950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4125070Z       [TELEMETRY][L043] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.4125220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4125340Z       [TELEMETRY][L043] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.4125490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4125580Z       [TELEMETRY][L043] Setting _shouldStop flag to true
2025-10-22T21:42:15.4125730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4125850Z       [TELEMETRY][L043] _shouldStop flag set. RunLoop pointer: 5651983072
2025-10-22T21:42:15.4126000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4126090Z       [TELEMETRY][L043] Calling CFRunLoopStop(5651983072)
2025-10-22T21:42:15.4126240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4126320Z       [TELEMETRY][L043] CFRunLoopStop() returned
2025-10-22T21:42:15.4126540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4126660Z       [TELEMETRY][L043] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.4126880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4127010Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4127150Z       [TELEMETRY][L043] Loop iter 1: CFRunLoopRunInMode returned 2 after 4ms
2025-10-22T21:42:15.4127310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4127400Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4127560Z       [TELEMETRY][L043] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.4127720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4127800Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4127970Z       [TELEMETRY][L043] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.4128130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4128220Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4128320Z       [TELEMETRY][L043] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.4128470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4128560Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4128670Z       [TELEMETRY][L043] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.4128840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4128920Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4129000Z       [TELEMETRY][L043] Releasing IOHIDManager
2025-10-22T21:42:15.4129150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4129230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4129300Z       [TELEMETRY][L043] IOHIDManager released
2025-10-22T21:42:15.4129460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4129550Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4129640Z       [TELEMETRY][L043] Releasing run loop mode CFString
2025-10-22T21:42:15.4129890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4129980Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4130090Z       [TELEMETRY][L043] Run loop mode CFString released
2025-10-22T21:42:15.4130240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4130320Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4130450Z       [TELEMETRY][L043] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.4130690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4130790Z       [TELEMETRY][L043] Thread exited successfully after 0ms
2025-10-22T21:42:15.4130960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4131030Z       [TELEMETRY][L043] StopListening() complete
2025-10-22T21:42:15.4131180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4131280Z       [TELEMETRY][L043] StopListening() returned successfully
2025-10-22T21:42:15.4131430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4131510Z       [TELEMETRY][L043] Calling base.Dispose(True)
2025-10-22T21:42:15.4131650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4131730Z       [TELEMETRY][L043] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.4131870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4132020Z       [TELEMETRY][L044] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.4132160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4132300Z       [TELEMETRY][L044] StartListening() called, creating background thread
2025-10-22T21:42:15.4132450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4132530Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4132610Z       HID listener thread started. ThreadID is 37.
2025-10-22T21:42:15.4132920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4133010Z       [TELEMETRY][L044] Background thread started
2025-10-22T21:42:15.4133170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4133290Z       [TELEMETRY][L044] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.4133440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4133530Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4133760Z       IOHIDManager 5670902608 is scheduled with run loop 5670907248 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.4133910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4133990Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4134050Z       Flushed existing devices.
2025-10-22T21:42:15.4134230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4134320Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4134420Z       [TELEMETRY][L044] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.4134570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4134670Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4134860Z       [TELEMETRY][L044] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.4135010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4135210Z       [TELEMETRY][L044] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.4135260Z         CallStack:
2025-10-22T21:42:15.4136250Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.4137170Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.4138070Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.4138360Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.4138570Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.4138980Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.4139330Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.4139600Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4139750Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.4140070Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.4140410Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4140580Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.4140920Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.4141160Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.4141430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4141550Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.4141890Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.4142350Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4142540Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.4142920Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.4143160Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.4143430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4143520Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.4143910Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4144180Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4144300Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4144540Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.4144920Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.4145380Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.4145760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4145970Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.4146250Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4146550Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4147250Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4147390Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4147620Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4147920Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4148000Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.4148300Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.4148550Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.4148820Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4148900Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.4149620Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.4150300Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4150860Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4151130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4151670Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4152090Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.4152380Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.4152670Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4152780Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.4153040Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.4153300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4153380Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.4154120Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.4154230Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4154520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4154630Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4154940Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.4155200Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4155280Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.4155840Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.4155960Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4156220Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4156330Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4156620Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.4156890Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4156980Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.4157680Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.4158130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4158610Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4159050Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.4159140Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.4159560Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.4159800Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.4159920Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.4160090Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.4160180Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.4160360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4160440Z       [TELEMETRY][L044] Setting _isDisposed = true
2025-10-22T21:42:15.4160590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4160720Z       [TELEMETRY][L044] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.4160860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4160970Z       [TELEMETRY][L044] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.4161120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4161240Z       [TELEMETRY][L044] Setting _shouldStop flag to true
2025-10-22T21:42:15.4161450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4161580Z       [TELEMETRY][L044] _shouldStop flag set. RunLoop pointer: 5670907248
2025-10-22T21:42:15.4161730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4161820Z       [TELEMETRY][L044] Calling CFRunLoopStop(5670907248)
2025-10-22T21:42:15.4161970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4162270Z       [TELEMETRY][L044] CFRunLoopStop() returned
2025-10-22T21:42:15.4162420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4162540Z       [TELEMETRY][L044] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.4162690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4162770Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4162900Z       [TELEMETRY][L044] Loop iter 1: CFRunLoopRunInMode returned 2 after 4ms
2025-10-22T21:42:15.4163050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4163140Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4163300Z       [TELEMETRY][L044] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.4163450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4163540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4163690Z       [TELEMETRY][L044] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.4163840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4163930Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4164030Z       [TELEMETRY][L044] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.4164180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4164270Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4164370Z       [TELEMETRY][L044] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.4164520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4164600Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4164670Z       [TELEMETRY][L044] Releasing IOHIDManager
2025-10-22T21:42:15.4164820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4164900Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4164980Z       [TELEMETRY][L044] IOHIDManager released
2025-10-22T21:42:15.4165310Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4165420Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4165510Z       [TELEMETRY][L044] Releasing run loop mode CFString
2025-10-22T21:42:15.4165660Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4165750Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4165830Z       [TELEMETRY][L044] Run loop mode CFString released
2025-10-22T21:42:15.4165990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4166070Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4166200Z       [TELEMETRY][L044] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.4166350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4166450Z       [TELEMETRY][L044] Thread exited successfully after 0ms
2025-10-22T21:42:15.4166590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4166670Z       [TELEMETRY][L044] StopListening() complete
2025-10-22T21:42:15.4166810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4166940Z       [TELEMETRY][L044] StopListening() returned successfully
2025-10-22T21:42:15.4167080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4167160Z       [TELEMETRY][L044] Calling base.Dispose(True)
2025-10-22T21:42:15.4167300Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4167470Z       [TELEMETRY][L044] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.4167630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4167770Z       [TELEMETRY][L045] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.4167950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4168080Z       [TELEMETRY][L045] StartListening() called, creating background thread
2025-10-22T21:42:15.4168280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4168370Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4168450Z       HID listener thread started. ThreadID is 36.
2025-10-22T21:42:15.4168590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4168680Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4168880Z       IOHIDManager 5670887504 is scheduled with run loop 5670891440 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.4169030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4169110Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4169200Z       Flushed existing devices.
2025-10-22T21:42:15.4169360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4169440Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4169540Z       [TELEMETRY][L045] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.4169690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4169770Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4169950Z       [TELEMETRY][L045] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.4170100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4170710Z       [TELEMETRY][L045] Background thread started
2025-10-22T21:42:15.4170890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4171010Z       [TELEMETRY][L045] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.4171170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4171360Z       [TELEMETRY][L045] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.4171410Z         CallStack:
2025-10-22T21:42:15.4171830Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.4172140Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.4172810Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.4173160Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.4173390Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.4173710Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.4174100Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.4174360Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4174520Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.4174810Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.4175150Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4175310Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.4175640Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.4176000Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.4176290Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4176400Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.4176730Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.4177000Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4177150Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.4177520Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.4177770Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.4178040Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4178130Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.4178390Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4178690Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4178820Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4179060Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.4179490Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.4179900Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.4180200Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4180400Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.4180720Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4180990Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4181300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4181430Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4181700Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4181990Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4182070Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.4182570Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.4182860Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.4183140Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4183230Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.4184040Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.4184580Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4185110Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4185370Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4185900Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4186320Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.4186610Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.4186870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4186970Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.4187230Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.4187510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4187610Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.4188200Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.4188310Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4188760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4188870Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4189120Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.4189390Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4189470Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.4190010Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.4190120Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4190490Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4190620Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4190910Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.4191170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4191420Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.4192390Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.4192660Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4193140Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4193580Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.4193680Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.4194100Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.4194340Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.4194450Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.4194630Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.4194750Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.4194990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4195080Z       [TELEMETRY][L045] Setting _isDisposed = true
2025-10-22T21:42:15.4195240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4195360Z       [TELEMETRY][L045] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.4195520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4195630Z       [TELEMETRY][L045] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.4195780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4195860Z       [TELEMETRY][L045] Setting _shouldStop flag to true
2025-10-22T21:42:15.4196010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4196130Z       [TELEMETRY][L045] _shouldStop flag set. RunLoop pointer: 5670891440
2025-10-22T21:42:15.4196280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4196370Z       [TELEMETRY][L045] Calling CFRunLoopStop(5670891440)
2025-10-22T21:42:15.4196520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4196590Z       [TELEMETRY][L045] CFRunLoopStop() returned
2025-10-22T21:42:15.4196740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4196860Z       [TELEMETRY][L045] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.4197010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4197090Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4197220Z       [TELEMETRY][L045] Loop iter 1: CFRunLoopRunInMode returned 2 after 0ms
2025-10-22T21:42:15.4197370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4197450Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4197620Z       [TELEMETRY][L045] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.4197860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4197950Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4198270Z       [TELEMETRY][L045] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.4198440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4198530Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4198760Z       [TELEMETRY][L045] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.4198920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4199000Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4199110Z       [TELEMETRY][L045] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.4199250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4199340Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4199410Z       [TELEMETRY][L045] Releasing IOHIDManager
2025-10-22T21:42:15.4199560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4199650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4199710Z       [TELEMETRY][L045] IOHIDManager released
2025-10-22T21:42:15.4199860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4199970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4200060Z       [TELEMETRY][L045] Releasing run loop mode CFString
2025-10-22T21:42:15.4200210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4200290Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4200540Z       [TELEMETRY][L045] Run loop mode CFString released
2025-10-22T21:42:15.4200710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4200790Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4200920Z       [TELEMETRY][L045] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.4201070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4201170Z       [TELEMETRY][L045] Thread exited successfully after 0ms
2025-10-22T21:42:15.4201690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4201790Z       [TELEMETRY][L045] StopListening() complete
2025-10-22T21:42:15.4201950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4202080Z       [TELEMETRY][L045] StopListening() returned successfully
2025-10-22T21:42:15.4202230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4202340Z       [TELEMETRY][L045] Calling base.Dispose(True)
2025-10-22T21:42:15.4202500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4202580Z       [TELEMETRY][L045] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.4202740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4202890Z       [TELEMETRY][L046] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.4203060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4203200Z       [TELEMETRY][L046] StartListening() called, creating background thread
2025-10-22T21:42:15.4203360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4203450Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4203540Z       HID listener thread started. ThreadID is 21.
2025-10-22T21:42:15.4204230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4204330Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4204540Z       IOHIDManager 5670889312 is scheduled with run loop 5670893552 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.4204870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4204970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4205030Z       Flushed existing devices.
2025-10-22T21:42:15.4205180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4205360Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4205480Z       [TELEMETRY][L046] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.4205960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4206420Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4206980Z       [TELEMETRY][L046] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.4208150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4208380Z       [TELEMETRY][L046] Background thread started
2025-10-22T21:42:15.4208810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4209160Z       [TELEMETRY][L046] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.4209590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4210170Z       [TELEMETRY][L046] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.4210340Z         CallStack:
2025-10-22T21:42:15.4211560Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.4212490Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.4214620Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.4214920Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.4220800Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.4221170Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.4221530Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.4221800Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4221970Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.4222260Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.4222540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4222670Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.4223000Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.4223240Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.4223520Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4223640Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.4223970Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.4224230Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4224390Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.4224910Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.4225190Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.4225450Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4225650Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.4225900Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4226160Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4226280Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4226510Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.4226890Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.4227250Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.4227510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4227680Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.4227960Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4228200Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4228460Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4228580Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4228800Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4229060Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4229140Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.4229430Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.4229680Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.4229940Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4230020Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.4230700Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.4231220Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4231760Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4232070Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4232630Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4233180Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.4233470Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.4233730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4233830Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.4234090Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.4234360Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4234440Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.4235040Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.4235140Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4235400Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4235510Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4235770Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.4236030Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4236110Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.4236640Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.4236760Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4237020Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4237130Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4237420Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.4237680Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4237770Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.4238470Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.4238730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4239210Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4239670Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.4239760Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.4240190Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.4240470Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.4240580Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.4240760Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.4240850Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.4241010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4241080Z       [TELEMETRY][L046] Setting _isDisposed = true
2025-10-22T21:42:15.4241240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4241360Z       [TELEMETRY][L046] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.4241510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4241620Z       [TELEMETRY][L046] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.4241770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4241860Z       [TELEMETRY][L046] Setting _shouldStop flag to true
2025-10-22T21:42:15.4242010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4242130Z       [TELEMETRY][L046] _shouldStop flag set. RunLoop pointer: 5670893552
2025-10-22T21:42:15.4242290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4242370Z       [TELEMETRY][L046] Calling CFRunLoopStop(5670893552)
2025-10-22T21:42:15.4242520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4242600Z       [TELEMETRY][L046] CFRunLoopStop() returned
2025-10-22T21:42:15.4243370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4243790Z       [TELEMETRY][L046] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.4244270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4244520Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4244670Z       [TELEMETRY][L046] Loop iter 1: CFRunLoopRunInMode returned 2 after 0ms
2025-10-22T21:42:15.4244820Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4244900Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4245060Z       [TELEMETRY][L046] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.4245220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4245300Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4245460Z       [TELEMETRY][L046] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.4245610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4245700Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4245800Z       [TELEMETRY][L046] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.4246040Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4246170Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4246360Z       [TELEMETRY][L046] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.4246730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4246820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4246890Z       [TELEMETRY][L046] Releasing IOHIDManager
2025-10-22T21:42:15.4247030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4247120Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4247190Z       [TELEMETRY][L046] IOHIDManager released
2025-10-22T21:42:15.4247730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4247830Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4247920Z       [TELEMETRY][L046] Releasing run loop mode CFString
2025-10-22T21:42:15.4248070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4248160Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4248320Z       [TELEMETRY][L046] Run loop mode CFString released
2025-10-22T21:42:15.4248470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4248550Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4248680Z       [TELEMETRY][L046] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.4248910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4249010Z       [TELEMETRY][L046] Thread exited successfully after 0ms
2025-10-22T21:42:15.4249160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4249230Z       [TELEMETRY][L046] StopListening() complete
2025-10-22T21:42:15.4249380Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4249480Z       [TELEMETRY][L046] StopListening() returned successfully
2025-10-22T21:42:15.4249620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4249700Z       [TELEMETRY][L046] Calling base.Dispose(True)
2025-10-22T21:42:15.4249840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4249920Z       [TELEMETRY][L046] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.4250060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4250210Z       [TELEMETRY][L047] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.4250360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4250490Z       [TELEMETRY][L047] StartListening() called, creating background thread
2025-10-22T21:42:15.4250640Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4250720Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4250800Z       HID listener thread started. ThreadID is 20.
2025-10-22T21:42:15.4250940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4251020Z       [TELEMETRY][L047] Background thread started
2025-10-22T21:42:15.4251160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4251280Z       [TELEMETRY][L047] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.4251430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4251510Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4251710Z       IOHIDManager 5651944368 is scheduled with run loop 5651927904 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.4251850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4251940Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4252000Z       Flushed existing devices.
2025-10-22T21:42:15.4252140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4252230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4252330Z       [TELEMETRY][L047] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.4252470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4252560Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4252750Z       [TELEMETRY][L047] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.4252890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4253090Z       [TELEMETRY][L047] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.4253140Z         CallStack:
2025-10-22T21:42:15.4253520Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.4253940Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.4254610Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.4254940Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.4255210Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.4255530Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.4255950Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.4256220Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4256390Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.4256670Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.4256950Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4257090Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.4257410Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.4257650Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.4257910Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4258020Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.4258350Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.4258620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4258770Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.4259140Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.4259390Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.4259650Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4259730Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.4259970Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4260240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4260350Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4260580Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.4261030Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.4261400Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.4261670Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4261910Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.4262190Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4262430Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4262690Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4262810Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4263030Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4263290Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4263360Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.4263650Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.4263900Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.4264180Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4264260Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.4264940Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.4265460Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4266030Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4266290Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4266830Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4267210Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.4267500Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.4267770Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4267870Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.4268130Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.4268470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4268560Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.4269190Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.4269350Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4269610Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4269710Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4269960Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.4270230Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4270310Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.4270840Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.4270960Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4271230Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4271340Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4271630Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.4271910Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4272000Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.4272700Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.4272960Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4273440Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4273840Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.4273930Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.4274360Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.4274600Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.4274710Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.4274900Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.4275000Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.4275150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4275220Z       [TELEMETRY][L047] Setting _isDisposed = true
2025-10-22T21:42:15.4275370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4275490Z       [TELEMETRY][L047] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.4275700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4275820Z       [TELEMETRY][L047] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.4275970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4276060Z       [TELEMETRY][L047] Setting _shouldStop flag to true
2025-10-22T21:42:15.4276200Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4276380Z       [TELEMETRY][L047] _shouldStop flag set. RunLoop pointer: 5651927904
2025-10-22T21:42:15.4276530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4276620Z       [TELEMETRY][L047] Calling CFRunLoopStop(5651927904)
2025-10-22T21:42:15.4276760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4276840Z       [TELEMETRY][L047] CFRunLoopStop() returned
2025-10-22T21:42:15.4276980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4277100Z       [TELEMETRY][L047] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.4277250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4277340Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4277470Z       [TELEMETRY][L047] Loop iter 1: CFRunLoopRunInMode returned 2 after 0ms
2025-10-22T21:42:15.4277620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4277700Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4277870Z       [TELEMETRY][L047] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.4278010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4278100Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4278260Z       [TELEMETRY][L047] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.4278400Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4278490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4278590Z       [TELEMETRY][L047] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.4278740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4278840Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4278950Z       [TELEMETRY][L047] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.4279100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4279190Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4279260Z       [TELEMETRY][L047] Releasing IOHIDManager
2025-10-22T21:42:15.4279400Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4279490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4279560Z       [TELEMETRY][L047] IOHIDManager released
2025-10-22T21:42:15.4279700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4279780Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4279870Z       [TELEMETRY][L047] Releasing run loop mode CFString
2025-10-22T21:42:15.4280020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4280100Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4280180Z       [TELEMETRY][L047] Run loop mode CFString released
2025-10-22T21:42:15.4280330Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4280410Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4280540Z       [TELEMETRY][L047] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.4280690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4280780Z       [TELEMETRY][L047] Thread exited successfully after 0ms
2025-10-22T21:42:15.4280950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4281030Z       [TELEMETRY][L047] StopListening() complete
2025-10-22T21:42:15.4281170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4281270Z       [TELEMETRY][L047] StopListening() returned successfully
2025-10-22T21:42:15.4281510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4281590Z       [TELEMETRY][L047] Calling base.Dispose(True)
2025-10-22T21:42:15.4281740Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4281810Z       [TELEMETRY][L047] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.4281960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4282150Z       [TELEMETRY][L048] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.4282290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4282420Z       [TELEMETRY][L048] StartListening() called, creating background thread
2025-10-22T21:42:15.4282570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4282660Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4282740Z       HID listener thread started. ThreadID is 19.
2025-10-22T21:42:15.4282880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4282960Z       [TELEMETRY][L048] Background thread started
2025-10-22T21:42:15.4283100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4283220Z       [TELEMETRY][L048] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.4283370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4283460Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4283650Z       IOHIDManager 5651944368 is scheduled with run loop 5651927904 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.4283790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4283880Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4283940Z       Flushed existing devices.
2025-10-22T21:42:15.4284080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4284170Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4284270Z       [TELEMETRY][L048] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.4284420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4284500Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4284690Z       [TELEMETRY][L048] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.4284830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4285030Z       [TELEMETRY][L048] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.4285080Z         CallStack:
2025-10-22T21:42:15.4285460Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.4285760Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.4286430Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.4286690Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.4286910Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.4287230Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.4287570Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.4287840Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4288040Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.4288330Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.4288590Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4288970Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.4289570Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.4289850Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.4290120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4290240Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.4290630Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.4290900Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4291060Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.4291510Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.4291750Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.4292010Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4292100Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.4292350Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4292610Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4292730Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4292960Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.4293360Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.4293730Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.4293990Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4294160Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.4294430Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4294680Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4294940Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4295060Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4295280Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4295650Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4295730Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.4296030Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.4296270Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.4296580Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4296670Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.4297350Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.4297870Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4298420Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4298710Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4299240Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4299620Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.4299920Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.4300180Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4300280Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.4300550Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.4300810Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4300900Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.4301510Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.4301610Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4301870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4301970Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4302220Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.4302480Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4302570Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.4303180Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.4303300Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4303560Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4303680Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4304020Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.4304280Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4304370Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.4305070Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.4305340Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4305810Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4306210Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.4306310Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.4306740Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.4306970Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.4307080Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.4307260Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.4307350Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.4307530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4307610Z       [TELEMETRY][L048] Setting _isDisposed = true
2025-10-22T21:42:15.4307750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4307870Z       [TELEMETRY][L048] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.4308020Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4308130Z       [TELEMETRY][L048] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.4308280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4308370Z       [TELEMETRY][L048] Setting _shouldStop flag to true
2025-10-22T21:42:15.4308520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4308640Z       [TELEMETRY][L048] _shouldStop flag set. RunLoop pointer: 5651927904
2025-10-22T21:42:15.4308790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4308880Z       [TELEMETRY][L048] Calling CFRunLoopStop(5651927904)
2025-10-22T21:42:15.4309030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4309100Z       [TELEMETRY][L048] CFRunLoopStop() returned
2025-10-22T21:42:15.4309250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4309370Z       [TELEMETRY][L048] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.4309520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4309610Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4309970Z       [TELEMETRY][L048] Loop iter 1: CFRunLoopRunInMode returned 2 after 0ms
2025-10-22T21:42:15.4310130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4310230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4310410Z       [TELEMETRY][L048] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.4310940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4311270Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4311490Z       [TELEMETRY][L048] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.4311700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4311800Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4311930Z       [TELEMETRY][L048] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.4312150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4312650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4313260Z       [TELEMETRY][L048] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.4315110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4315510Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4315830Z       [TELEMETRY][L048] Releasing IOHIDManager
2025-10-22T21:42:15.4317670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4317820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4318150Z       [TELEMETRY][L048] IOHIDManager released
2025-10-22T21:42:15.4318840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4319240Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4319640Z       [TELEMETRY][L048] Releasing run loop mode CFString
2025-10-22T21:42:15.4320180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4320360Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4320500Z       [TELEMETRY][L048] Run loop mode CFString released
2025-10-22T21:42:15.4320750Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4320870Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4321070Z       [TELEMETRY][L048] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.4321680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4322010Z       [TELEMETRY][L048] Thread exited successfully after 0ms
2025-10-22T21:42:15.4322450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4322550Z       [TELEMETRY][L048] StopListening() complete
2025-10-22T21:42:15.4322710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4322820Z       [TELEMETRY][L048] StopListening() returned successfully
2025-10-22T21:42:15.4322980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4323060Z       [TELEMETRY][L048] Calling base.Dispose(True)
2025-10-22T21:42:15.4323250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4323340Z       [TELEMETRY][L048] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.4323500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4323660Z       [TELEMETRY][L049] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.4323830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4324040Z       [TELEMETRY][L049] StartListening() called, creating background thread
2025-10-22T21:42:15.4324230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4324330Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4324420Z       HID listener thread started. ThreadID is 18.
2025-10-22T21:42:15.4324630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4325240Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4326060Z       IOHIDManager 5651944368 is scheduled with run loop 5651973232 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.4328290Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4328510Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4328630Z       Flushed existing devices.
2025-10-22T21:42:15.4328860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4329040Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4331040Z       [TELEMETRY][L049] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.4331560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4332960Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4333200Z       [TELEMETRY][L049] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.4333370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4333470Z       [TELEMETRY][L049] Background thread started
2025-10-22T21:42:15.4333720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4333910Z       [TELEMETRY][L049] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.4334670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4336160Z       [TELEMETRY][L049] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.4336280Z         CallStack:
2025-10-22T21:42:15.4337740Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.4339250Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.4340550Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.4341640Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.4343710Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.4344190Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.4344600Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.4345090Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4345630Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.4347480Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.4347850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4348060Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.4348480Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.4348770Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.4349040Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4349160Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.4349720Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.4350540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4351110Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.4351530Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.4351900Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.4352180Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4352270Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.4352790Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4353560Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4353710Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4353950Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.4354340Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.4354710Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.4354970Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4355150Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.4355450Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4355700Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4355970Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4356100Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4356340Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4356610Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4356690Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.4356990Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.4357540Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.4358370Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4358660Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.4359360Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.4360000Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4360550Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4360810Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4362490Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4362890Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.4363180Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.4363440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4363550Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.4364230Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.4364510Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4364590Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.4365190Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.4365680Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4365990Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4366110Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4366570Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.4370670Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4370790Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.4371890Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.4372040Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4372710Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4373390Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4374210Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.4374870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4375000Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.4377330Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.4380360Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4380920Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4381370Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.4381620Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.4382060Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.4382330Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.4382450Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.4382640Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.4382730Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.4382900Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4382980Z       [TELEMETRY][L049] Setting _isDisposed = true
2025-10-22T21:42:15.4384010Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4384180Z       [TELEMETRY][L049] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.4384350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4384460Z       [TELEMETRY][L049] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.4384610Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4384700Z       [TELEMETRY][L049] Setting _shouldStop flag to true
2025-10-22T21:42:15.4384850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4384980Z       [TELEMETRY][L049] _shouldStop flag set. RunLoop pointer: 5651973232
2025-10-22T21:42:15.4385140Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4385240Z       [TELEMETRY][L049] Calling CFRunLoopStop(5651973232)
2025-10-22T21:42:15.4385880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4385970Z       [TELEMETRY][L049] CFRunLoopStop() returned
2025-10-22T21:42:15.4386120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4386250Z       [TELEMETRY][L049] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.4386400Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4386490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4386620Z       [TELEMETRY][L049] Loop iter 1: CFRunLoopRunInMode returned 2 after 0ms
2025-10-22T21:42:15.4386770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4386850Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4387030Z       [TELEMETRY][L049] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.4387180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4387630Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4388160Z       [TELEMETRY][L049] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.4394630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4394760Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4394880Z       [TELEMETRY][L049] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.4395030Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4395140Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4395250Z       [TELEMETRY][L049] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.4395390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4395480Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4395780Z       [TELEMETRY][L049] Releasing IOHIDManager
2025-10-22T21:42:15.4395940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4396030Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4396100Z       [TELEMETRY][L049] IOHIDManager released
2025-10-22T21:42:15.4396250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4396440Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4396530Z       [TELEMETRY][L049] Releasing run loop mode CFString
2025-10-22T21:42:15.4396680Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4396760Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4396850Z       [TELEMETRY][L049] Run loop mode CFString released
2025-10-22T21:42:15.4397000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4397080Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4397240Z       [TELEMETRY][L049] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.4397390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4397490Z       [TELEMETRY][L049] Thread exited successfully after 0ms
2025-10-22T21:42:15.4397630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4397700Z       [TELEMETRY][L049] StopListening() complete
2025-10-22T21:42:15.4397850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4397950Z       [TELEMETRY][L049] StopListening() returned successfully
2025-10-22T21:42:15.4398100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4398170Z       [TELEMETRY][L049] Calling base.Dispose(True)
2025-10-22T21:42:15.4398320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4398400Z       [TELEMETRY][L049] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.4398540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4398690Z       [TELEMETRY][L050] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:15.4398840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4398970Z       [TELEMETRY][L050] StartListening() called, creating background thread
2025-10-22T21:42:15.4399130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4399230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4399310Z       HID listener thread started. ThreadID is 15.
2025-10-22T21:42:15.4399460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4399560Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4399770Z       IOHIDManager 5653015792 is scheduled with run loop 5653016768 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:15.4399910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4400000Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4400060Z       Flushed existing devices.
2025-10-22T21:42:15.4400210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4400290Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4400390Z       [TELEMETRY][L050] Entering run loop. _shouldStop=False
2025-10-22T21:42:15.4400540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4400620Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4400820Z       [TELEMETRY][L050] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:15.4400970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4401040Z       [TELEMETRY][L050] Background thread started
2025-10-22T21:42:15.4401220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4401340Z       [TELEMETRY][L050] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:15.4401490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4401780Z       [TELEMETRY][L050] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:15.4401830Z         CallStack:
2025-10-22T21:42:15.4402220Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:15.4402520Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:15.4403270Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 106
2025-10-22T21:42:15.4403530Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:15.4403750Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:15.4404070Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:15.4404430Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:15.4404700Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4404860Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:15.4405180Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:15.4405450Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4405590Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:15.4405920Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:15.4406160Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:15.4406430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4406560Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:15.4406900Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:15.4407170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4407340Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:15.4407730Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:15.4407980Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:15.4408240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4408330Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:15.4408580Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4408850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4408970Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4409280Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:15.4409690Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:15.4410050Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:15.4410380Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4410570Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:15.4410850Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4411110Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:15.4411370Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4411490Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:15.4411710Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:15.4411970Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4412050Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:15.4412340Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:15.4412590Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:15.4412850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4412930Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:15.4413730Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:15.4414350Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4414940Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4415250Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4415800Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4416240Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:15.4416550Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:15.4416810Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4417190Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:15.4417470Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:15.4417730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4417810Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:15.4418500Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:15.4418610Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4418870Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4418980Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:15.4419230Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:15.4419490Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4419580Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:15.4420120Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:15.4420240Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4420500Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4420610Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:15.4420980Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:15.4421240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4421330Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:15.4422030Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:15.4422290Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:15.4422770Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:15.4423830Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:15.4423970Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:15.4424400Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:15.4424640Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:15.4424760Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:15.4424930Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:15.4425020Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:15.4425180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4425350Z       [TELEMETRY][L050] Setting _isDisposed = true
2025-10-22T21:42:15.4425510Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4425630Z       [TELEMETRY][L050] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:15.4425780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4425890Z       [TELEMETRY][L050] StopListening(fromFinalizer=False) called
2025-10-22T21:42:15.4426120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4426210Z       [TELEMETRY][L050] Setting _shouldStop flag to true
2025-10-22T21:42:15.4426360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4426480Z       [TELEMETRY][L050] _shouldStop flag set. RunLoop pointer: 5653016768
2025-10-22T21:42:15.4426630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4426720Z       [TELEMETRY][L050] Calling CFRunLoopStop(5653016768)
2025-10-22T21:42:15.4426880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4426960Z       [TELEMETRY][L050] CFRunLoopStop() returned
2025-10-22T21:42:15.4427100Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4427230Z       [TELEMETRY][L050] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:15.4427380Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4427480Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4427610Z       [TELEMETRY][L050] Loop iter 1: CFRunLoopRunInMode returned 2 after 0ms
2025-10-22T21:42:15.4427760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4427840Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4428000Z       [TELEMETRY][L050] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:15.4428150Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4428240Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4428400Z       [TELEMETRY][L050] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:15.4428550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4428630Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4428740Z       [TELEMETRY][L050] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:15.4428890Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4428970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4429080Z       [TELEMETRY][L050] IOHIDManager unscheduled from run loop
2025-10-22T21:42:15.4429250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4429340Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4429410Z       [TELEMETRY][L050] Releasing IOHIDManager
2025-10-22T21:42:15.4429560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4429650Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4429720Z       [TELEMETRY][L050] IOHIDManager released
2025-10-22T21:42:15.4429870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4429950Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4430040Z       [TELEMETRY][L050] Releasing run loop mode CFString
2025-10-22T21:42:15.4430190Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4430280Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4430370Z       [TELEMETRY][L050] Run loop mode CFString released
2025-10-22T21:42:15.4430520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4430610Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:15.4430740Z       [TELEMETRY][L050] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:15.4430880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4430980Z       [TELEMETRY][L050] Thread exited successfully after 0ms
2025-10-22T21:42:15.4431170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4431250Z       [TELEMETRY][L050] StopListening() complete
2025-10-22T21:42:15.4431400Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4431500Z       [TELEMETRY][L050] StopListening() returned successfully
2025-10-22T21:42:15.4431640Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4431770Z       [TELEMETRY][L050] Calling base.Dispose(True)
2025-10-22T21:42:15.4431910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:15.4431990Z       [TELEMETRY][L050] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:15.6751510Z [xUnit.net 00:00:01.13]   Finished:    Yubico.Core.UnitTests
2025-10-22T21:42:15.8195170Z   Passed Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.RepeatedCreateDispose_NoLeaks [766 ms]
2025-10-22T21:42:15.8296810Z   Standard Output Messages:
2025-10-22T21:42:15.8347780Z  === TEST START: RepeatedCreateDispose_NoLeaks ===
2025-10-22T21:42:15.8424000Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=0, Thread=13
2025-10-22T21:42:15.8562000Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=0, Listener=L001, Thread=13
2025-10-22T21:42:15.8679870Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=0, Listener=L001, Thread=13
2025-10-22T21:42:15.8790250Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=1, Thread=13
2025-10-22T21:42:15.8905250Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=1, Listener=L002, Thread=13
2025-10-22T21:42:15.9006550Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=1, Listener=L002, Thread=13
2025-10-22T21:42:15.9057230Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=2, Thread=13
2025-10-22T21:42:15.9065880Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=2, Listener=L003, Thread=13
2025-10-22T21:42:15.9076660Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=2, Listener=L003, Thread=13
2025-10-22T21:42:15.9077290Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=3, Thread=13
2025-10-22T21:42:15.9077980Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=3, Listener=L004, Thread=13
2025-10-22T21:42:15.9078550Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=3, Listener=L004, Thread=13
2025-10-22T21:42:15.9079080Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=4, Thread=13
2025-10-22T21:42:15.9079620Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=4, Listener=L005, Thread=13
2025-10-22T21:42:15.9080190Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=4, Listener=L005, Thread=13
2025-10-22T21:42:15.9080720Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=5, Thread=13
2025-10-22T21:42:15.9081260Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=5, Listener=L006, Thread=13
2025-10-22T21:42:15.9081830Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=5, Listener=L006, Thread=13
2025-10-22T21:42:15.9082380Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=6, Thread=13
2025-10-22T21:42:15.9082930Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=6, Listener=L007, Thread=13
2025-10-22T21:42:15.9083480Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=6, Listener=L007, Thread=13
2025-10-22T21:42:15.9084090Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=7, Thread=13
2025-10-22T21:42:15.9084800Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=7, Listener=L008, Thread=13
2025-10-22T21:42:15.9085410Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=7, Listener=L008, Thread=13
2025-10-22T21:42:15.9085960Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=8, Thread=13
2025-10-22T21:42:15.9086540Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=8, Listener=L009, Thread=13
2025-10-22T21:42:15.9093040Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=8, Listener=L009, Thread=13
2025-10-22T21:42:15.9094480Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=9, Thread=13
2025-10-22T21:42:15.9095310Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=9, Listener=L010, Thread=13
2025-10-22T21:42:15.9095990Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=9, Listener=L010, Thread=13
2025-10-22T21:42:15.9097470Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=10, Thread=13
2025-10-22T21:42:15.9098280Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=10, Listener=L011, Thread=13
2025-10-22T21:42:15.9098940Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=10, Listener=L011, Thread=13
2025-10-22T21:42:15.9099820Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=11, Thread=13
2025-10-22T21:42:15.9105440Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=11, Listener=L012, Thread=13
2025-10-22T21:42:15.9122220Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=11, Listener=L012, Thread=13
2025-10-22T21:42:15.9132150Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=12, Thread=13
2025-10-22T21:42:15.9140070Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=12, Listener=L013, Thread=13
2025-10-22T21:42:15.9147300Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=12, Listener=L013, Thread=13
2025-10-22T21:42:15.9159620Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=13, Thread=13
2025-10-22T21:42:15.9164140Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=13, Listener=L014, Thread=13
2025-10-22T21:42:15.9164750Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=13, Listener=L014, Thread=13
2025-10-22T21:42:15.9165330Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=14, Thread=13
2025-10-22T21:42:15.9165880Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=14, Listener=L015, Thread=13
2025-10-22T21:42:15.9166460Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=14, Listener=L015, Thread=13
2025-10-22T21:42:15.9167030Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=15, Thread=13
2025-10-22T21:42:15.9167670Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=15, Listener=L016, Thread=13
2025-10-22T21:42:15.9168250Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=15, Listener=L016, Thread=13
2025-10-22T21:42:15.9168800Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=16, Thread=13
2025-10-22T21:42:15.9169350Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=16, Listener=L017, Thread=13
2025-10-22T21:42:15.9169930Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=16, Listener=L017, Thread=13
2025-10-22T21:42:15.9170470Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=17, Thread=13
2025-10-22T21:42:15.9171020Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=17, Listener=L018, Thread=13
2025-10-22T21:42:15.9171600Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=17, Listener=L018, Thread=13
2025-10-22T21:42:15.9172150Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=18, Thread=13
2025-10-22T21:42:15.9172690Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=18, Listener=L019, Thread=13
2025-10-22T21:42:15.9173260Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=18, Listener=L019, Thread=13
2025-10-22T21:42:15.9173810Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=19, Thread=13
2025-10-22T21:42:15.9181500Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=19, Listener=L020, Thread=13
2025-10-22T21:42:15.9182110Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=19, Listener=L020, Thread=13
2025-10-22T21:42:15.9182660Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=20, Thread=13
2025-10-22T21:42:15.9183200Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=20, Listener=L021, Thread=13
2025-10-22T21:42:15.9193630Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=20, Listener=L021, Thread=13
2025-10-22T21:42:15.9208220Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=21, Thread=13
2025-10-22T21:42:15.9209330Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=21, Listener=L022, Thread=13
2025-10-22T21:42:15.9236370Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=21, Listener=L022, Thread=13
2025-10-22T21:42:15.9237300Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=22, Thread=13
2025-10-22T21:42:15.9238040Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=22, Listener=L023, Thread=13
2025-10-22T21:42:15.9238620Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=22, Listener=L023, Thread=13
2025-10-22T21:42:15.9239470Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=23, Thread=13
2025-10-22T21:42:15.9240120Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=23, Listener=L024, Thread=13
2025-10-22T21:42:15.9240690Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=23, Listener=L024, Thread=13
2025-10-22T21:42:15.9249290Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=24, Thread=13
2025-10-22T21:42:15.9383070Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=24, Listener=L025, Thread=13
2025-10-22T21:42:15.9488090Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=24, Listener=L025, Thread=13
2025-10-22T21:42:15.9616540Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=25, Thread=13
2025-10-22T21:42:15.9652110Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=25, Listener=L026, Thread=13
2025-10-22T21:42:15.9754630Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=25, Listener=L026, Thread=13
2025-10-22T21:42:15.9856810Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=26, Thread=13
2025-10-22T21:42:15.9871510Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=26, Listener=L027, Thread=13
2025-10-22T21:42:15.9872190Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=26, Listener=L027, Thread=13
2025-10-22T21:42:15.9873890Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=27, Thread=13
2025-10-22T21:42:15.9874620Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=27, Listener=L028, Thread=13
2025-10-22T21:42:15.9875340Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=27, Listener=L028, Thread=13
2025-10-22T21:42:15.9875960Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=28, Thread=13
2025-10-22T21:42:15.9876910Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=28, Listener=L029, Thread=13
2025-10-22T21:42:15.9877590Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=28, Listener=L029, Thread=13
2025-10-22T21:42:15.9878160Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=29, Thread=13
2025-10-22T21:42:15.9878730Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=29, Listener=L030, Thread=13
2025-10-22T21:42:15.9880240Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=29, Listener=L030, Thread=13
2025-10-22T21:42:15.9890290Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=30, Thread=13
2025-10-22T21:42:15.9891950Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=30, Listener=L031, Thread=13
2025-10-22T21:42:15.9894210Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=30, Listener=L031, Thread=13
2025-10-22T21:42:15.9895850Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=31, Thread=13
2025-10-22T21:42:15.9896440Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=31, Listener=L032, Thread=13
2025-10-22T21:42:15.9897340Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=31, Listener=L032, Thread=13
2025-10-22T21:42:15.9898030Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=32, Thread=13
2025-10-22T21:42:15.9900010Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=32, Listener=L033, Thread=13
2025-10-22T21:42:15.9901680Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=32, Listener=L033, Thread=13
2025-10-22T21:42:15.9903390Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=33, Thread=13
2025-10-22T21:42:15.9904500Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=33, Listener=L034, Thread=13
2025-10-22T21:42:15.9905640Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=33, Listener=L034, Thread=13
2025-10-22T21:42:15.9906750Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=34, Thread=13
2025-10-22T21:42:15.9908030Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=34, Listener=L035, Thread=13
2025-10-22T21:42:15.9910020Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=34, Listener=L035, Thread=13
2025-10-22T21:42:15.9911090Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=35, Thread=13
2025-10-22T21:42:15.9916780Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=35, Listener=L036, Thread=13
2025-10-22T21:42:15.9917270Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=35, Listener=L036, Thread=13
2025-10-22T21:42:15.9917690Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=36, Thread=13
2025-10-22T21:42:15.9918100Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=36, Listener=L037, Thread=13
2025-10-22T21:42:15.9918570Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=36, Listener=L037, Thread=13
2025-10-22T21:42:15.9918970Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=37, Thread=13
2025-10-22T21:42:15.9919470Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=37, Listener=L038, Thread=13
2025-10-22T21:42:15.9919920Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=37, Listener=L038, Thread=13
2025-10-22T21:42:15.9920390Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=38, Thread=13
2025-10-22T21:42:15.9920810Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=38, Listener=L039, Thread=13
2025-10-22T21:42:15.9921260Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=38, Listener=L039, Thread=13
2025-10-22T21:42:15.9921690Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=39, Thread=13
2025-10-22T21:42:15.9922100Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=39, Listener=L040, Thread=13
2025-10-22T21:42:15.9922560Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=39, Listener=L040, Thread=13
2025-10-22T21:42:15.9922970Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=40, Thread=13
2025-10-22T21:42:15.9923380Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=40, Listener=L041, Thread=13
2025-10-22T21:42:15.9923820Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=40, Listener=L041, Thread=13
2025-10-22T21:42:15.9924220Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=41, Thread=13
2025-10-22T21:42:15.9924660Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=41, Listener=L042, Thread=13
2025-10-22T21:42:15.9925110Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=41, Listener=L042, Thread=13
2025-10-22T21:42:15.9925510Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=42, Thread=13
2025-10-22T21:42:15.9925940Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=42, Listener=L043, Thread=13
2025-10-22T21:42:15.9926380Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=42, Listener=L043, Thread=13
2025-10-22T21:42:15.9926820Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=43, Thread=13
2025-10-22T21:42:15.9927220Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=43, Listener=L044, Thread=13
2025-10-22T21:42:15.9927670Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=43, Listener=L044, Thread=13
2025-10-22T21:42:15.9928070Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=44, Thread=13
2025-10-22T21:42:15.9928480Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=44, Listener=L045, Thread=13
2025-10-22T21:42:15.9928940Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=44, Listener=L045, Thread=13
2025-10-22T21:42:15.9929340Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=45, Thread=13
2025-10-22T21:42:15.9930460Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=45, Listener=L046, Thread=13
2025-10-22T21:42:15.9931050Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=45, Listener=L046, Thread=13
2025-10-22T21:42:15.9931500Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=46, Thread=13
2025-10-22T21:42:15.9931900Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=46, Listener=L047, Thread=13
2025-10-22T21:42:15.9932510Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=46, Listener=L047, Thread=13
2025-10-22T21:42:15.9932940Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=47, Thread=13
2025-10-22T21:42:15.9933350Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=47, Listener=L048, Thread=13
2025-10-22T21:42:15.9933820Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=47, Listener=L048, Thread=13
2025-10-22T21:42:15.9934250Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=48, Thread=13
2025-10-22T21:42:15.9934670Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=48, Listener=L049, Thread=13
2025-10-22T21:42:15.9935130Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=48, Listener=L049, Thread=13
2025-10-22T21:42:15.9935560Z  [USING-ENTRY] Test=RepeatedCreateDispose_NoLeaks, Iteration=49, Thread=13
2025-10-22T21:42:15.9935960Z  [USING-BODY] Test=RepeatedCreateDispose_NoLeaks, Iteration=49, Listener=L050, Thread=13
2025-10-22T21:42:15.9936400Z  [USING-EXIT] Test=RepeatedCreateDispose_NoLeaks, Iteration=49, Listener=L050, Thread=13
2025-10-22T21:42:15.9936700Z 
2025-10-22T21:42:15.9936700Z 
2025-10-22T21:42:15.9936710Z 
2025-10-22T21:42:15.9936800Z Test Run Successful.
2025-10-22T21:42:15.9936990Z Total tests: 1
2025-10-22T21:42:15.9937140Z      Passed: 1
2025-10-22T21:42:15.9937290Z  Total time: 2.1959 Seconds
2025-10-22T21:42:16.0018280Z ##[group]Run actions/upload-artifact@v4
2025-10-22T21:42:16.0018560Z with:
2025-10-22T21:42:16.0018730Z   name: Logs-Test03-RepeatedCreateDispose_NoLeaks
2025-10-22T21:42:16.0018950Z   path: **/TestResults/*
2025-10-22T21:42:16.0019100Z   if-no-files-found: warn
2025-10-22T21:42:16.0019260Z   compression-level: 6
2025-10-22T21:42:16.0019400Z   overwrite: false
2025-10-22T21:42:16.0019540Z   include-hidden-files: false
2025-10-22T21:42:16.0019700Z env:
2025-10-22T21:42:16.0019820Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:42:16.0020020Z ##[endgroup]
2025-10-22T21:42:16.3846610Z ##[warning]No files were found with the provided path: **/TestResults/*. No artifacts will be uploaded.
2025-10-22T21:42:16.3946530Z Post job cleanup.
2025-10-22T21:42:16.6144260Z Post job cleanup.
2025-10-22T21:42:16.7218050Z [command]/opt/homebrew/bin/git version
2025-10-22T21:42:16.7538130Z git version 2.50.1
2025-10-22T21:42:16.7573200Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/90b8a39c-c179-41dd-aacf-81b02c800a93/.gitconfig'
2025-10-22T21:42:16.7584470Z Temporarily overriding HOME='/Users/runner/work/_temp/90b8a39c-c179-41dd-aacf-81b02c800a93' before making global git config changes
2025-10-22T21:42:16.7596360Z Adding repository directory to the temporary git global config as a safe directory
2025-10-22T21:42:16.7601690Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:42:16.7684710Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-22T21:42:16.7930950Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-22T21:42:16.8778970Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-22T21:42:16.8824860Z http.https://github.com/.extraheader
2025-10-22T21:42:16.8831990Z [command]/opt/homebrew/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-10-22T21:42:16.8890360Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-22T21:42:17.0210450Z Cleaning up orphan processes
2025-10-22T21:42:17.5450750Z Terminate orphan process: pid (42933) (dotnet)
