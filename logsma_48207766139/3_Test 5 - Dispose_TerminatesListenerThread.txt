2025-10-22T21:41:46.6315890Z Current runner version: '2.329.0'
2025-10-22T21:41:46.6333530Z ##[group]Runner Image Provisioner
2025-10-22T21:41:46.6334060Z Hosted Compute Agent
2025-10-22T21:41:46.6334400Z Version: 20251016.436
2025-10-22T21:41:46.6334820Z Commit: 8ab8ac8bfd662a3739dab9fe09456aba92132568
2025-10-22T21:41:46.6335280Z Build Date: 2025-10-15T20:44:12Z
2025-10-22T21:41:46.6335680Z ##[endgroup]
2025-10-22T21:41:46.6336040Z ##[group]Operating System
2025-10-22T21:41:46.6336400Z macOS
2025-10-22T21:41:46.6336700Z 15.6.1
2025-10-22T21:41:46.6337000Z 24G90
2025-10-22T21:41:46.6337300Z ##[endgroup]
2025-10-22T21:41:46.6337630Z ##[group]Runner Image
2025-10-22T21:41:46.6337950Z Image: macos-15-arm64
2025-10-22T21:41:46.6338340Z Version: 20251015.0042
2025-10-22T21:41:46.6339050Z Included Software: https://github.com/actions/runner-images/blob/macos-15-arm64/20251015.0042/images/macos/macos-15-arm64-Readme.md
2025-10-22T21:41:46.6340150Z Image Release: https://github.com/actions/runner-images/releases/tag/macos-15-arm64%2F20251015.0042
2025-10-22T21:41:46.6340810Z ##[endgroup]
2025-10-22T21:41:46.6341540Z ##[group]GITHUB_TOKEN Permissions
2025-10-22T21:41:46.6343110Z Contents: read
2025-10-22T21:41:46.6343420Z Metadata: read
2025-10-22T21:41:46.6343730Z Packages: read
2025-10-22T21:41:46.6344040Z ##[endgroup]
2025-10-22T21:41:46.6345750Z Secret source: Actions
2025-10-22T21:41:46.6346240Z Prepare workflow directory
2025-10-22T21:41:46.6773050Z Prepare all required actions
2025-10-22T21:41:46.6820270Z Getting action download info
2025-10-22T21:41:47.0437410Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-10-22T21:41:47.4038400Z Download action repository 'actions/setup-dotnet@v4' (SHA:67a3573c9a986a3f9c594539f4ab511d57bb3ce9)
2025-10-22T21:41:48.7331340Z Download action repository 'actions/upload-artifact@v4' (SHA:ea165f8d65b6e75b540449e92b4886f43607fa02)
2025-10-22T21:41:49.0028370Z Complete job name: Test 5 - Dispose_TerminatesListenerThread
2025-10-22T21:41:49.0431650Z ##[group]Run actions/checkout@v4
2025-10-22T21:41:49.0432250Z with:
2025-10-22T21:41:49.0432540Z   repository: Yubico/Yubico.NET.SDK
2025-10-22T21:41:49.0433110Z   token: ***
2025-10-22T21:41:49.0433370Z   ssh-strict: true
2025-10-22T21:41:49.0433700Z   ssh-user: git
2025-10-22T21:41:49.0434030Z   persist-credentials: true
2025-10-22T21:41:49.0434350Z   clean: true
2025-10-22T21:41:49.0434620Z   sparse-checkout-cone-mode: true
2025-10-22T21:41:49.0434940Z   fetch-depth: 1
2025-10-22T21:41:49.0435210Z   fetch-tags: false
2025-10-22T21:41:49.0435490Z   show-progress: true
2025-10-22T21:41:49.0435770Z   lfs: false
2025-10-22T21:41:49.0436030Z   submodules: false
2025-10-22T21:41:49.0436310Z   set-safe-directory: true
2025-10-22T21:41:49.0436780Z ##[endgroup]
2025-10-22T21:41:49.3586250Z Syncing repository: Yubico/Yubico.NET.SDK
2025-10-22T21:41:49.3587570Z ##[group]Getting Git version info
2025-10-22T21:41:49.3588540Z Working directory is '/Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK'
2025-10-22T21:41:49.3589320Z [command]/opt/homebrew/bin/git version
2025-10-22T21:41:49.4127340Z git version 2.50.1
2025-10-22T21:41:49.4168920Z ##[endgroup]
2025-10-22T21:41:49.4174920Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/4b98c1e5-e47d-4a9f-a49b-426be928689a/.gitconfig'
2025-10-22T21:41:49.4181210Z Temporarily overriding HOME='/Users/runner/work/_temp/4b98c1e5-e47d-4a9f-a49b-426be928689a' before making global git config changes
2025-10-22T21:41:49.4182370Z Adding repository directory to the temporary git global config as a safe directory
2025-10-22T21:41:49.4185010Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:41:49.4292920Z Deleting the contents of '/Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK'
2025-10-22T21:41:49.4294970Z ##[group]Initializing the repository
2025-10-22T21:41:49.4298730Z [command]/opt/homebrew/bin/git init /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:41:49.4504690Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-10-22T21:41:49.4506540Z hint: is subject to change. To configure the initial branch name to use in all
2025-10-22T21:41:49.4507360Z hint: of your new repositories, which will suppress this warning, call:
2025-10-22T21:41:49.4507920Z hint:
2025-10-22T21:41:49.4508310Z hint: 	git config --global init.defaultBranch <name>
2025-10-22T21:41:49.4508770Z hint:
2025-10-22T21:41:49.4509190Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-10-22T21:41:49.4509880Z hint: 'development'. The just-created branch can be renamed via this command:
2025-10-22T21:41:49.4510480Z hint:
2025-10-22T21:41:49.4510780Z hint: 	git branch -m <name>
2025-10-22T21:41:49.4511130Z hint:
2025-10-22T21:41:49.4511590Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-10-22T21:41:49.4512400Z Initialized empty Git repository in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/.git/
2025-10-22T21:41:49.4513910Z [command]/opt/homebrew/bin/git remote add origin https://github.com/Yubico/Yubico.NET.SDK
2025-10-22T21:41:49.4586830Z ##[endgroup]
2025-10-22T21:41:49.4587430Z ##[group]Disabling automatic garbage collection
2025-10-22T21:41:49.4589270Z [command]/opt/homebrew/bin/git config --local gc.auto 0
2025-10-22T21:41:49.4680820Z ##[endgroup]
2025-10-22T21:41:49.4681530Z ##[group]Setting up auth
2025-10-22T21:41:49.4684650Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-22T21:41:49.4754290Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-22T21:41:49.6059570Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-22T21:41:49.6114960Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-22T21:41:49.6917700Z [command]/opt/homebrew/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-10-22T21:41:49.6977110Z ##[endgroup]
2025-10-22T21:41:49.6977730Z ##[group]Fetching the repository
2025-10-22T21:41:49.6982480Z [command]/opt/homebrew/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +61edcc0f6126c293f1d4612607aa535e18b7d3f1:refs/remotes/origin/experiment/isolate-disposal-hang
2025-10-22T21:41:50.6791640Z From https://github.com/Yubico/Yubico.NET.SDK
2025-10-22T21:41:50.6793030Z  * [new ref]         61edcc0f6126c293f1d4612607aa535e18b7d3f1 -> origin/experiment/isolate-disposal-hang
2025-10-22T21:41:50.6858060Z ##[endgroup]
2025-10-22T21:41:50.6858920Z ##[group]Determining the checkout info
2025-10-22T21:41:50.6859800Z ##[endgroup]
2025-10-22T21:41:50.6860620Z [command]/opt/homebrew/bin/git sparse-checkout disable
2025-10-22T21:41:50.6927220Z [command]/opt/homebrew/bin/git config --local --unset-all extensions.worktreeConfig
2025-10-22T21:41:50.6987070Z ##[group]Checking out the ref
2025-10-22T21:41:50.6989110Z [command]/opt/homebrew/bin/git checkout --progress --force -B experiment/isolate-disposal-hang refs/remotes/origin/experiment/isolate-disposal-hang
2025-10-22T21:41:50.8949910Z Switched to a new branch 'experiment/isolate-disposal-hang'
2025-10-22T21:41:50.9055840Z branch 'experiment/isolate-disposal-hang' set up to track 'origin/experiment/isolate-disposal-hang'.
2025-10-22T21:41:50.9301360Z ##[endgroup]
2025-10-22T21:41:50.9611160Z [command]/opt/homebrew/bin/git log -1 --format=%H
2025-10-22T21:41:50.9714170Z 61edcc0f6126c293f1d4612607aa535e18b7d3f1
2025-10-22T21:41:51.0273140Z ##[group]Run actions/setup-dotnet@v4
2025-10-22T21:41:51.0274120Z with:
2025-10-22T21:41:51.0274800Z   global-json-file: ./global.json
2025-10-22T21:41:51.0275590Z   cache: false
2025-10-22T21:41:51.0276180Z ##[endgroup]
2025-10-22T21:41:51.2031980Z [command]/Users/runner/work/_actions/actions/setup-dotnet/v4/externals/install-dotnet.sh --skip-non-versioned-files --runtime dotnet --channel LTS
2025-10-22T21:41:51.9532890Z dotnet-install: .NET Core Runtime with version '8.0.21' is already installed.
2025-10-22T21:41:51.9578660Z [command]/Users/runner/work/_actions/actions/setup-dotnet/v4/externals/install-dotnet.sh --skip-non-versioned-files --channel 9.0
2025-10-22T21:41:52.6616340Z dotnet-install: .NET Core SDK with version '9.0.306' is already installed.
2025-10-22T21:41:52.6767760Z ##[group]Run dotnet nuget add source --username DennisDyallo --password *** --store-password-in-clear-text --name github "https://nuget.pkg.github.com/Yubico/index.json"
2025-10-22T21:41:52.6769100Z [36;1mdotnet nuget add source --username DennisDyallo --password *** --store-password-in-clear-text --name github "https://nuget.pkg.github.com/Yubico/index.json"[0m
2025-10-22T21:41:52.6868090Z shell: /bin/bash -e {0}
2025-10-22T21:41:52.6868450Z env:
2025-10-22T21:41:52.6868770Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:52.6869040Z ##[endgroup]
2025-10-22T21:41:53.2584350Z 
2025-10-22T21:41:53.2614950Z Welcome to .NET 9.0!
2025-10-22T21:41:53.2615430Z ---------------------
2025-10-22T21:41:53.2615700Z SDK Version: 9.0.306
2025-10-22T21:41:53.2615810Z 
2025-10-22T21:41:53.2615950Z Telemetry
2025-10-22T21:41:53.2616150Z ---------
2025-10-22T21:41:53.2617320Z The .NET tools collect usage data in order to help us improve your experience. It is collected by Microsoft and shared with the community. You can opt-out of telemetry by setting the DOTNET_CLI_TELEMETRY_OPTOUT environment variable to '1' or 'true' using your favorite shell.
2025-10-22T21:41:53.2618100Z 
2025-10-22T21:41:53.2618370Z Read more about .NET CLI Tools telemetry: https://aka.ms/dotnet-cli-telemetry
2025-10-22T21:41:53.7036240Z 
2025-10-22T21:41:53.7036660Z ----------------
2025-10-22T21:41:53.7037140Z Installed an ASP.NET Core HTTPS development certificate.
2025-10-22T21:41:53.7037620Z To trust the certificate, run 'dotnet dev-certs https --trust'
2025-10-22T21:41:53.7038070Z Learn about HTTPS: https://aka.ms/dotnet-https
2025-10-22T21:41:53.7038260Z 
2025-10-22T21:41:53.7038310Z ----------------
2025-10-22T21:41:53.7038670Z Write your first app: https://aka.ms/dotnet-hello-world
2025-10-22T21:41:53.7038980Z Find out what's new: https://aka.ms/dotnet-whats-new
2025-10-22T21:41:53.7039330Z Explore documentation: https://aka.ms/dotnet-docs
2025-10-22T21:41:53.7039760Z Report issues and find source on GitHub: https://github.com/dotnet/core
2025-10-22T21:41:53.7040260Z Use 'dotnet --help' to see available commands or visit: https://aka.ms/dotnet-cli
2025-10-22T21:41:53.7040770Z --------------------------------------------------------------------------------------
2025-10-22T21:41:53.9350920Z Package source with Name: github added successfully.
2025-10-22T21:41:54.0649170Z ##[group]Run brew install openssl
2025-10-22T21:41:54.0649480Z [36;1mbrew install openssl[0m
2025-10-22T21:41:54.0649690Z [36;1msudo mkdir -p /usr/local/lib[0m
2025-10-22T21:41:54.0650110Z [36;1msudo ln -s $(brew --prefix)/opt/openssl@3/lib/libcrypto.3.dylib /usr/local/lib/libcrypto.3.dylib[0m
2025-10-22T21:41:54.0650610Z [36;1msudo ln -s $(brew --prefix)/opt/openssl@3/lib/libssl.3.dylib /usr/local/lib/libssl.3.dylib[0m
2025-10-22T21:41:54.0682510Z shell: /bin/bash -e {0}
2025-10-22T21:41:54.0682770Z env:
2025-10-22T21:41:54.0682930Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:54.0683130Z ##[endgroup]
2025-10-22T21:41:58.5922460Z ##[warning]openssl@3 3.6.0 is already installed and up-to-date.
To reinstall 3.6.0, run:
  brew reinstall openssl@3

2025-10-22T21:41:58.7810480Z ##[group]Run dotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_TerminatesListenerThread" --logger "console;verbosity=detailed"
2025-10-22T21:41:58.7811750Z [36;1mdotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_TerminatesListenerThread" --logger "console;verbosity=detailed"[0m
2025-10-22T21:41:58.7848540Z shell: /bin/bash -e {0}
2025-10-22T21:41:58.7848780Z env:
2025-10-22T21:41:58.7848990Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:58.7849250Z   Logging__LogLevel__Default: Information
2025-10-22T21:41:58.7849560Z   Logging__LogLevel__Yubico: Information
2025-10-22T21:41:58.7849800Z ##[endgroup]
2025-10-22T21:42:00.0893440Z   Determining projects to restore...
2025-10-22T21:42:03.6516930Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico.Core.UnitTests.csproj (in 3.07 sec).
2025-10-22T21:42:04.8824560Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/Yubico.Core.csproj (in 4.31 sec).
2025-10-22T21:42:09.5381430Z   Yubico.Core -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/bin/Debug/netstandard2.1/Yubico.Core.dll
2025-10-22T21:42:12.2472450Z   Yubico.Core.UnitTests -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:42:12.2640470Z Test run for /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll (.NETCoreApp,Version=v8.0)
2025-10-22T21:42:12.6640000Z VSTest version 17.14.1 (arm64)
2025-10-22T21:42:12.6644240Z 
2025-10-22T21:42:12.8682290Z Starting test execution, please wait...
2025-10-22T21:42:12.9036410Z A total of 1 test files matched the specified pattern.
2025-10-22T21:42:12.9055760Z /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:42:13.8528780Z [xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 8.0.21)
2025-10-22T21:42:13.9210370Z [xUnit.net 00:00:00.08]   Discovering: Yubico.Core.UnitTests
2025-10-22T21:42:14.0819030Z [xUnit.net 00:00:00.24]   Discovered:  Yubico.Core.UnitTests
2025-10-22T21:42:14.1147070Z [xUnit.net 00:00:00.27]   Starting:    Yubico.Core.UnitTests
2025-10-22T21:42:14.2561430Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.2566810Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:14.2588460Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.2609920Z       [TELEMETRY][L001] StartListening() called, creating background thread
2025-10-22T21:42:14.2646000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.2654850Z       [TELEMETRY][L001] Background thread started
2025-10-22T21:42:14.2655690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.2656190Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:14.2656960Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.2657340Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.2658970Z       HID listener thread started. ThreadID is 18.
2025-10-22T21:42:14.2876670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.2877510Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.2878230Z       IOHIDManager 5014433536 is scheduled with run loop 5014517136 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:14.2878840Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.2879190Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.2879480Z       Flushed existing devices.
2025-10-22T21:42:14.3951240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.3951780Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.3953350Z       [TELEMETRY][L001] Entering run loop. _shouldStop=False
2025-10-22T21:42:14.3953810Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.3954150Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.3954690Z       [TELEMETRY][L001] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:14.3977440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.3978420Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.3979660Z       [TELEMETRY][L001] Loop iter 1: CFRunLoopRunInMode returned 3 after 107ms
2025-10-22T21:42:14.3980860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.3981830Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.3982850Z       [TELEMETRY][L001] Loop iter 2: _shouldStop=False, prevResult=3, calling CFRunLoopRunInMode...
2025-10-22T21:42:14.4735770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4738380Z       [TELEMETRY][L001] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:14.4739080Z         CallStack:
2025-10-22T21:42:14.4739890Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:14.4740880Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:14.4742220Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_TerminatesListenerThread() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 201
2025-10-22T21:42:14.4743620Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:14.4744240Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:14.4745560Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:14.4746390Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:14.4747170Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4747790Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:14.4748390Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:14.4749090Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4749700Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:14.4750290Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:14.4751020Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:14.4751740Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4752260Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:14.4752840Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:14.4754200Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4754900Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:14.4755590Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:14.4756340Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:14.4757460Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4757940Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:14.4758530Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:14.4759240Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4759750Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:14.4760240Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:14.4761000Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:14.4761960Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:14.4762740Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4763310Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:14.4763980Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:14.4764630Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:14.4765320Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4765900Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:14.4766390Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:14.4767010Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4767540Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:14.4768050Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:14.4768730Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:14.4769470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4769960Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:14.4770930Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:14.4772440Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:14.4773930Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:14.4775070Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4776310Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:14.4777700Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:14.4778590Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:14.4779470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4780250Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:14.4780880Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:14.4781850Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4782410Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:14.4783380Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:14.4784370Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:14.4785120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4785900Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:14.4786490Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:14.4787320Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4787880Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:14.4788710Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:14.4789860Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:14.4790490Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4791100Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:14.4792330Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:14.4793090Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4793790Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:14.4794770Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:14.4796100Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:14.4797350Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:14.4798570Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:14.4799540Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:14.4800560Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:14.4801440Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:14.4802340Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:14.4802850Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:14.4803380Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:14.4804120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4804670Z       [TELEMETRY][L001] Setting _isDisposed = true
2025-10-22T21:42:14.4805090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4805510Z       [TELEMETRY][L001] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:14.4806120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4806490Z       [TELEMETRY][L001] StopListening(fromFinalizer=False) called
2025-10-22T21:42:14.4806880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4807300Z       [TELEMETRY][L001] Setting _shouldStop flag to true
2025-10-22T21:42:14.4807800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4808280Z       [TELEMETRY][L001] _shouldStop flag set. RunLoop pointer: 5014517136
2025-10-22T21:42:14.4808760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4809350Z       [TELEMETRY][L001] Calling CFRunLoopStop(5014517136)
2025-10-22T21:42:14.4809790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4810190Z       [TELEMETRY][L001] CFRunLoopStop() returned
2025-10-22T21:42:14.4810700Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4811080Z       [TELEMETRY][L001] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:14.4811590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4812030Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.4812440Z       [TELEMETRY][L001] Loop iter 2: CFRunLoopRunInMode returned 2 after 77ms
2025-10-22T21:42:14.4813270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4813820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.4814310Z       [TELEMETRY][L001] Run loop exited after 2 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:14.4814770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4815270Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.4815660Z       [TELEMETRY][L001] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:14.4816110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4816550Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.4817010Z       [TELEMETRY][L001] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:14.4817480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4817820Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.4818160Z       [TELEMETRY][L001] IOHIDManager unscheduled from run loop
2025-10-22T21:42:14.4818540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4818830Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.4819120Z       [TELEMETRY][L001] Releasing IOHIDManager
2025-10-22T21:42:14.4819470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4820220Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.4820550Z       [TELEMETRY][L001] IOHIDManager released
2025-10-22T21:42:14.4821060Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4821370Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.4821670Z       [TELEMETRY][L001] Releasing run loop mode CFString
2025-10-22T21:42:14.4822120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4822510Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.4946830Z       [TELEMETRY][L001] Run loop mode CFString released
2025-10-22T21:42:14.4947340Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4947660Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:14.4947990Z       [TELEMETRY][L001] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:14.4948400Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4948820Z       [TELEMETRY][L001] Thread exited successfully after 0ms
2025-10-22T21:42:14.4949180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4949460Z       [TELEMETRY][L001] StopListening() complete
2025-10-22T21:42:14.4949780Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4950070Z       [TELEMETRY][L001] StopListening() returned successfully
2025-10-22T21:42:14.4950420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4950710Z       [TELEMETRY][L001] Calling base.Dispose(True)
2025-10-22T21:42:14.4951130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:14.4951410Z       [TELEMETRY][L001] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:14.8018200Z [xUnit.net 00:00:00.96]   Finished:    Yubico.Core.UnitTests
2025-10-22T21:42:14.9289000Z   Passed Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_TerminatesListenerThread [625 ms]
2025-10-22T21:42:14.9391340Z   Standard Output Messages:
2025-10-22T21:42:14.9392600Z  === TEST START: Dispose_TerminatesListenerThread ===
2025-10-22T21:42:14.9478220Z  [USING-ENTRY] Test=Dispose_TerminatesListenerThread, Thread=13
2025-10-22T21:42:14.9557770Z  [USING-BODY] Test=Dispose_TerminatesListenerThread, Listener=L001, Thread=13
2025-10-22T21:42:14.9687210Z  [TEST] Calling Dispose() on L001
2025-10-22T21:42:14.9794740Z  [TEST] Dispose() completed on L001
2025-10-22T21:42:14.9901480Z  [USING-EXIT] Test=Dispose_TerminatesListenerThread, Listener=L001, Thread=13
2025-10-22T21:42:15.0022800Z 
2025-10-22T21:42:15.0123070Z 
2025-10-22T21:42:15.0227050Z 
2025-10-22T21:42:15.0330220Z Test Run Successful.
2025-10-22T21:42:15.0419940Z Total tests: 1
2025-10-22T21:42:15.0491930Z      Passed: 1
2025-10-22T21:42:15.0528290Z  Total time: 2.0192 Seconds
2025-10-22T21:42:15.0643580Z ##[group]Run actions/upload-artifact@v4
2025-10-22T21:42:15.0643850Z with:
2025-10-22T21:42:15.0644120Z   name: Logs-Test05-Dispose_TerminatesListenerThread
2025-10-22T21:42:15.0644490Z   path: **/TestResults/*
2025-10-22T21:42:15.0644720Z   if-no-files-found: warn
2025-10-22T21:42:15.0644880Z   compression-level: 6
2025-10-22T21:42:15.0645090Z   overwrite: false
2025-10-22T21:42:15.0645390Z   include-hidden-files: false
2025-10-22T21:42:15.0645610Z env:
2025-10-22T21:42:15.0645810Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:42:15.0645990Z ##[endgroup]
2025-10-22T21:42:16.0186760Z ##[warning]No files were found with the provided path: **/TestResults/*. No artifacts will be uploaded.
2025-10-22T21:42:16.0340810Z Post job cleanup.
2025-10-22T21:42:16.2501570Z Post job cleanup.
2025-10-22T21:42:16.4052080Z [command]/opt/homebrew/bin/git version
2025-10-22T21:42:16.4324910Z git version 2.50.1
2025-10-22T21:42:16.4461200Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/265f9568-dae9-4bee-b737-2311622605c7/.gitconfig'
2025-10-22T21:42:16.4463880Z Temporarily overriding HOME='/Users/runner/work/_temp/265f9568-dae9-4bee-b737-2311622605c7' before making global git config changes
2025-10-22T21:42:16.4466720Z Adding repository directory to the temporary git global config as a safe directory
2025-10-22T21:42:16.4568490Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:42:16.4811730Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-22T21:42:16.4900780Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-22T21:42:16.7236490Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-22T21:42:16.7272030Z http.https://github.com/.extraheader
2025-10-22T21:42:16.7437360Z [command]/opt/homebrew/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-10-22T21:42:16.7711530Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-22T21:42:16.9294990Z Cleaning up orphan processes
2025-10-22T21:42:17.3533830Z Terminate orphan process: pid (13215) (dotnet)
