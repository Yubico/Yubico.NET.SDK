2025-10-22T21:41:46.5776180Z Current runner version: '2.329.0'
2025-10-22T21:41:46.5790850Z ##[group]Runner Image Provisioner
2025-10-22T21:41:46.5791360Z Hosted Compute Agent
2025-10-22T21:41:46.5791760Z Version: 20251016.436
2025-10-22T21:41:46.5792220Z Commit: 8ab8ac8bfd662a3739dab9fe09456aba92132568
2025-10-22T21:41:46.5792950Z Build Date: 2025-10-15T20:44:12Z
2025-10-22T21:41:46.5793390Z ##[endgroup]
2025-10-22T21:41:46.5793750Z ##[group]Operating System
2025-10-22T21:41:46.5794150Z macOS
2025-10-22T21:41:46.5794450Z 15.6.1
2025-10-22T21:41:46.5794830Z 24G90
2025-10-22T21:41:46.5795110Z ##[endgroup]
2025-10-22T21:41:46.5795420Z ##[group]Runner Image
2025-10-22T21:41:46.5795870Z Image: macos-15-arm64
2025-10-22T21:41:46.5796190Z Version: 20251015.0042
2025-10-22T21:41:46.5796900Z Included Software: https://github.com/actions/runner-images/blob/macos-15-arm64/20251015.0042/images/macos/macos-15-arm64-Readme.md
2025-10-22T21:41:46.5798070Z Image Release: https://github.com/actions/runner-images/releases/tag/macos-15-arm64%2F20251015.0042
2025-10-22T21:41:46.5799590Z ##[endgroup]
2025-10-22T21:41:46.5800480Z ##[group]GITHUB_TOKEN Permissions
2025-10-22T21:41:46.5801780Z Contents: read
2025-10-22T21:41:46.5802090Z Metadata: read
2025-10-22T21:41:46.5802390Z Packages: read
2025-10-22T21:41:46.5802770Z ##[endgroup]
2025-10-22T21:41:46.5804300Z Secret source: Actions
2025-10-22T21:41:46.5804700Z Prepare workflow directory
2025-10-22T21:41:46.6056020Z Prepare all required actions
2025-10-22T21:41:46.6086620Z Getting action download info
2025-10-22T21:41:47.1571160Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-10-22T21:41:47.3794990Z Download action repository 'actions/setup-dotnet@v4' (SHA:67a3573c9a986a3f9c594539f4ab511d57bb3ce9)
2025-10-22T21:41:48.1307640Z Download action repository 'actions/upload-artifact@v4' (SHA:ea165f8d65b6e75b540449e92b4886f43607fa02)
2025-10-22T21:41:48.3224950Z Complete job name: Test 11 - Dispose_StopsIOKitCallbacks
2025-10-22T21:41:48.3678890Z ##[group]Run actions/checkout@v4
2025-10-22T21:41:48.3679630Z with:
2025-10-22T21:41:48.3680090Z   repository: Yubico/Yubico.NET.SDK
2025-10-22T21:41:48.3680900Z   token: ***
2025-10-22T21:41:48.3681320Z   ssh-strict: true
2025-10-22T21:41:48.3681760Z   ssh-user: git
2025-10-22T21:41:48.3682220Z   persist-credentials: true
2025-10-22T21:41:48.3682730Z   clean: true
2025-10-22T21:41:48.3683200Z   sparse-checkout-cone-mode: true
2025-10-22T21:41:48.3683760Z   fetch-depth: 1
2025-10-22T21:41:48.3684270Z   fetch-tags: false
2025-10-22T21:41:48.3685070Z   show-progress: true
2025-10-22T21:41:48.3685720Z   lfs: false
2025-10-22T21:41:48.3686250Z   submodules: false
2025-10-22T21:41:48.3686760Z   set-safe-directory: true
2025-10-22T21:41:48.3687680Z ##[endgroup]
2025-10-22T21:41:48.6272630Z Syncing repository: Yubico/Yubico.NET.SDK
2025-10-22T21:41:48.6275010Z ##[group]Getting Git version info
2025-10-22T21:41:48.6276190Z Working directory is '/Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK'
2025-10-22T21:41:48.6277460Z [command]/opt/homebrew/bin/git version
2025-10-22T21:41:48.6842990Z git version 2.50.1
2025-10-22T21:41:48.7044690Z ##[endgroup]
2025-10-22T21:41:48.7060710Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/aaa12f13-5845-45a8-8ce4-d5cfaaa91781/.gitconfig'
2025-10-22T21:41:48.7065330Z Temporarily overriding HOME='/Users/runner/work/_temp/aaa12f13-5845-45a8-8ce4-d5cfaaa91781' before making global git config changes
2025-10-22T21:41:48.7074030Z Adding repository directory to the temporary git global config as a safe directory
2025-10-22T21:41:48.7084040Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:41:48.7134870Z Deleting the contents of '/Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK'
2025-10-22T21:41:48.7136500Z ##[group]Initializing the repository
2025-10-22T21:41:48.7138240Z [command]/opt/homebrew/bin/git init /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:41:48.7486430Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-10-22T21:41:48.7601110Z hint: is subject to change. To configure the initial branch name to use in all
2025-10-22T21:41:48.7723800Z hint: of your new repositories, which will suppress this warning, call:
2025-10-22T21:41:48.7827010Z hint:
2025-10-22T21:41:48.7910960Z hint: 	git config --global init.defaultBranch <name>
2025-10-22T21:41:48.7912640Z hint:
2025-10-22T21:41:48.7914300Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-10-22T21:41:48.7920910Z hint: 'development'. The just-created branch can be renamed via this command:
2025-10-22T21:41:48.7922150Z hint:
2025-10-22T21:41:48.7922910Z hint: 	git branch -m <name>
2025-10-22T21:41:48.7923660Z hint:
2025-10-22T21:41:48.7924370Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-10-22T21:41:48.7925650Z Initialized empty Git repository in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/.git/
2025-10-22T21:41:48.7927900Z [command]/opt/homebrew/bin/git remote add origin https://github.com/Yubico/Yubico.NET.SDK
2025-10-22T21:41:48.7929750Z ##[endgroup]
2025-10-22T21:41:48.7930560Z ##[group]Disabling automatic garbage collection
2025-10-22T21:41:48.7931320Z [command]/opt/homebrew/bin/git config --local gc.auto 0
2025-10-22T21:41:48.7933390Z ##[endgroup]
2025-10-22T21:41:48.7934170Z ##[group]Setting up auth
2025-10-22T21:41:48.7934990Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-22T21:41:48.7937560Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-22T21:41:48.8762300Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-22T21:41:48.8825130Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-22T21:41:48.9785070Z [command]/opt/homebrew/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-10-22T21:41:48.9859490Z ##[endgroup]
2025-10-22T21:41:48.9864010Z ##[group]Fetching the repository
2025-10-22T21:41:48.9868040Z [command]/opt/homebrew/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +61edcc0f6126c293f1d4612607aa535e18b7d3f1:refs/remotes/origin/experiment/isolate-disposal-hang
2025-10-22T21:41:49.9115610Z From https://github.com/Yubico/Yubico.NET.SDK
2025-10-22T21:41:49.9117090Z  * [new ref]         61edcc0f6126c293f1d4612607aa535e18b7d3f1 -> origin/experiment/isolate-disposal-hang
2025-10-22T21:41:49.9182450Z ##[endgroup]
2025-10-22T21:41:49.9183280Z ##[group]Determining the checkout info
2025-10-22T21:41:49.9184250Z ##[endgroup]
2025-10-22T21:41:49.9186890Z [command]/opt/homebrew/bin/git sparse-checkout disable
2025-10-22T21:41:49.9253120Z [command]/opt/homebrew/bin/git config --local --unset-all extensions.worktreeConfig
2025-10-22T21:41:49.9313250Z ##[group]Checking out the ref
2025-10-22T21:41:49.9315330Z [command]/opt/homebrew/bin/git checkout --progress --force -B experiment/isolate-disposal-hang refs/remotes/origin/experiment/isolate-disposal-hang
2025-10-22T21:41:50.1176020Z Switched to a new branch 'experiment/isolate-disposal-hang'
2025-10-22T21:41:50.1279630Z branch 'experiment/isolate-disposal-hang' set up to track 'origin/experiment/isolate-disposal-hang'.
2025-10-22T21:41:50.1585010Z ##[endgroup]
2025-10-22T21:41:50.1888040Z [command]/opt/homebrew/bin/git log -1 --format=%H
2025-10-22T21:41:50.1989410Z 61edcc0f6126c293f1d4612607aa535e18b7d3f1
2025-10-22T21:41:50.2620320Z ##[group]Run actions/setup-dotnet@v4
2025-10-22T21:41:50.2621070Z with:
2025-10-22T21:41:50.2621610Z   global-json-file: ./global.json
2025-10-22T21:41:50.2622370Z   cache: false
2025-10-22T21:41:50.2622900Z ##[endgroup]
2025-10-22T21:41:50.4052780Z [command]/Users/runner/work/_actions/actions/setup-dotnet/v4/externals/install-dotnet.sh --skip-non-versioned-files --runtime dotnet --channel LTS
2025-10-22T21:41:50.8528510Z dotnet-install: .NET Core Runtime with version '8.0.21' is already installed.
2025-10-22T21:41:50.8546710Z [command]/Users/runner/work/_actions/actions/setup-dotnet/v4/externals/install-dotnet.sh --skip-non-versioned-files --channel 9.0
2025-10-22T21:41:51.1237490Z dotnet-install: .NET Core SDK with version '9.0.306' is already installed.
2025-10-22T21:41:51.1333080Z ##[group]Run dotnet nuget add source --username DennisDyallo --password *** --store-password-in-clear-text --name github "https://nuget.pkg.github.com/Yubico/index.json"
2025-10-22T21:41:51.1334590Z [36;1mdotnet nuget add source --username DennisDyallo --password *** --store-password-in-clear-text --name github "https://nuget.pkg.github.com/Yubico/index.json"[0m
2025-10-22T21:41:51.1378190Z shell: /bin/bash -e {0}
2025-10-22T21:41:51.1378410Z env:
2025-10-22T21:41:51.1378620Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:51.1378810Z ##[endgroup]
2025-10-22T21:41:51.6194400Z 
2025-10-22T21:41:51.6222230Z Welcome to .NET 9.0!
2025-10-22T21:41:51.6222700Z ---------------------
2025-10-22T21:41:51.6223020Z SDK Version: 9.0.306
2025-10-22T21:41:51.6223260Z 
2025-10-22T21:41:51.6223460Z Telemetry
2025-10-22T21:41:51.6223700Z ---------
2025-10-22T21:41:51.6224860Z The .NET tools collect usage data in order to help us improve your experience. It is collected by Microsoft and shared with the community. You can opt-out of telemetry by setting the DOTNET_CLI_TELEMETRY_OPTOUT environment variable to '1' or 'true' using your favorite shell.
2025-10-22T21:41:51.6225620Z 
2025-10-22T21:41:51.6225850Z Read more about .NET CLI Tools telemetry: https://aka.ms/dotnet-cli-telemetry
2025-10-22T21:41:52.1049530Z 
2025-10-22T21:41:52.1089840Z ----------------
2025-10-22T21:41:52.1121330Z Installed an ASP.NET Core HTTPS development certificate.
2025-10-22T21:41:52.1182020Z To trust the certificate, run 'dotnet dev-certs https --trust'
2025-10-22T21:41:52.1257200Z Learn about HTTPS: https://aka.ms/dotnet-https
2025-10-22T21:41:52.1281410Z 
2025-10-22T21:41:52.1310960Z ----------------
2025-10-22T21:41:52.1319900Z Write your first app: https://aka.ms/dotnet-hello-world
2025-10-22T21:41:52.1421600Z Find out what's new: https://aka.ms/dotnet-whats-new
2025-10-22T21:41:52.1526100Z Explore documentation: https://aka.ms/dotnet-docs
2025-10-22T21:41:52.1628580Z Report issues and find source on GitHub: https://github.com/dotnet/core
2025-10-22T21:41:52.1730390Z Use 'dotnet --help' to see available commands or visit: https://aka.ms/dotnet-cli
2025-10-22T21:41:52.1822930Z --------------------------------------------------------------------------------------
2025-10-22T21:41:52.3705850Z Package source with Name: github added successfully.
2025-10-22T21:41:52.5126910Z ##[group]Run brew install openssl
2025-10-22T21:41:52.5127210Z [36;1mbrew install openssl[0m
2025-10-22T21:41:52.5127610Z [36;1msudo mkdir -p /usr/local/lib[0m
2025-10-22T21:41:52.5128020Z [36;1msudo ln -s $(brew --prefix)/opt/openssl@3/lib/libcrypto.3.dylib /usr/local/lib/libcrypto.3.dylib[0m
2025-10-22T21:41:52.5128570Z [36;1msudo ln -s $(brew --prefix)/opt/openssl@3/lib/libssl.3.dylib /usr/local/lib/libssl.3.dylib[0m
2025-10-22T21:41:52.5176470Z shell: /bin/bash -e {0}
2025-10-22T21:41:52.5176910Z env:
2025-10-22T21:41:52.5177090Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:52.5177290Z ##[endgroup]
2025-10-22T21:41:56.9845950Z ##[warning]openssl@3 3.6.0 is already installed and up-to-date.
To reinstall 3.6.0, run:
  brew reinstall openssl@3

2025-10-22T21:41:57.1280350Z ##[group]Run dotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_StopsIOKitCallbacks" --logger "console;verbosity=detailed"
2025-10-22T21:41:57.1284890Z [36;1mdotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_StopsIOKitCallbacks" --logger "console;verbosity=detailed"[0m
2025-10-22T21:41:57.1348100Z shell: /bin/bash -e {0}
2025-10-22T21:41:57.1348340Z env:
2025-10-22T21:41:57.1348530Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:57.1348740Z   Logging__LogLevel__Default: Information
2025-10-22T21:41:57.1349030Z   Logging__LogLevel__Yubico: Information
2025-10-22T21:41:57.1349230Z ##[endgroup]
2025-10-22T21:41:58.0749640Z   Determining projects to restore...
2025-10-22T21:42:01.1475960Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico.Core.UnitTests.csproj (in 2.6 sec).
2025-10-22T21:42:03.9407100Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/Yubico.Core.csproj (in 5.4 sec).
2025-10-22T21:42:09.6265700Z   Yubico.Core -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/bin/Debug/netstandard2.1/Yubico.Core.dll
2025-10-22T21:42:11.8616820Z   Yubico.Core.UnitTests -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:42:11.8732480Z Test run for /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll (.NETCoreApp,Version=v8.0)
2025-10-22T21:42:12.0302190Z VSTest version 17.14.1 (arm64)
2025-10-22T21:42:12.0308840Z 
2025-10-22T21:42:12.1284860Z Starting test execution, please wait...
2025-10-22T21:42:12.1490620Z A total of 1 test files matched the specified pattern.
2025-10-22T21:42:12.1491510Z /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:42:12.6760750Z [xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 8.0.21)
2025-10-22T21:42:12.7282110Z [xUnit.net 00:00:00.06]   Discovering: Yubico.Core.UnitTests
2025-10-22T21:42:12.8224050Z [xUnit.net 00:00:00.15]   Discovered:  Yubico.Core.UnitTests
2025-10-22T21:42:12.8368470Z [xUnit.net 00:00:00.17]   Starting:    Yubico.Core.UnitTests
2025-10-22T21:42:12.9083350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9163190Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:12.9195850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9199810Z       [TELEMETRY][L001] StartListening() called, creating background thread
2025-10-22T21:42:12.9212570Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9215890Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9216670Z       HID listener thread started. ThreadID is 18.
2025-10-22T21:42:12.9218090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9218770Z       [TELEMETRY][L001] Background thread started
2025-10-22T21:42:12.9219540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9220900Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:12.9221630Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9222770Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9223500Z       IOHIDManager 5391924432 is scheduled with run loop 5661407440 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:12.9224710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9225350Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9225930Z       Flushed existing devices.
2025-10-22T21:42:12.9228590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9229230Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9231130Z       [TELEMETRY][L001] Entering run loop. _shouldStop=False
2025-10-22T21:42:12.9231540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9232410Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9234580Z       [TELEMETRY][L001] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:12.9332530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9335200Z       [TELEMETRY][L001] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:12.9335910Z         CallStack:
2025-10-22T21:42:12.9336820Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:12.9337630Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:12.9339020Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_StopsIOKitCallbacks() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 423
2025-10-22T21:42:12.9340670Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:12.9342210Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:12.9343570Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:12.9344640Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:12.9345760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9346550Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:12.9347390Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:12.9348350Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9349040Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:12.9349930Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:12.9350830Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:12.9351760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9352530Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:12.9353490Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:12.9354430Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9368910Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:12.9372850Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:12.9373770Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:12.9375120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9375840Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:12.9376450Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:12.9377250Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9379380Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:12.9380030Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:12.9380930Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:12.9381870Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:12.9383080Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9383870Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:12.9384830Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:12.9385710Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:12.9386770Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9393500Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:12.9394340Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:12.9395420Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9396180Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:12.9396850Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:12.9397920Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:12.9398820Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9399960Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:12.9401130Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:12.9402830Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:12.9404020Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:12.9405210Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9406360Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:12.9407920Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:12.9408900Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:12.9409770Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9410610Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:12.9411260Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:12.9412060Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9412490Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:12.9413480Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:12.9414490Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:12.9415130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9415770Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:12.9416410Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:12.9417200Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9417820Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:12.9418710Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:12.9419640Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:12.9420290Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9420950Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:12.9421630Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:12.9422460Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9423080Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:12.9424180Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:12.9425750Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:12.9426800Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:12.9427970Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:12.9428740Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:12.9429530Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:12.9430670Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:12.9431320Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:12.9431880Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:12.9432420Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:12.9433110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9433390Z       [TELEMETRY][L001] Setting _isDisposed = true
2025-10-22T21:42:12.9433910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9434410Z       [TELEMETRY][L001] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:12.9434940Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9435440Z       [TELEMETRY][L001] StopListening(fromFinalizer=False) called
2025-10-22T21:42:12.9435970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9436440Z       [TELEMETRY][L001] Setting _shouldStop flag to true
2025-10-22T21:42:12.9436950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9437450Z       [TELEMETRY][L001] _shouldStop flag set. RunLoop pointer: 5661407440
2025-10-22T21:42:12.9438000Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9438470Z       [TELEMETRY][L001] Calling CFRunLoopStop(5661407440)
2025-10-22T21:42:12.9438980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9439440Z       [TELEMETRY][L001] CFRunLoopStop() returned
2025-10-22T21:42:12.9439930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9440430Z       [TELEMETRY][L001] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:12.9440970Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9441430Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9441920Z       [TELEMETRY][L001] Loop iter 1: CFRunLoopRunInMode returned 2 after 13ms
2025-10-22T21:42:12.9442490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9442970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9443510Z       [TELEMETRY][L001] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:12.9444190Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9444800Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9445370Z       [TELEMETRY][L001] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:12.9445990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9446490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9446990Z       [TELEMETRY][L001] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:12.9447540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9448060Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9448750Z       [TELEMETRY][L001] IOHIDManager unscheduled from run loop
2025-10-22T21:42:12.9449470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9450060Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9450670Z       [TELEMETRY][L001] Releasing IOHIDManager
2025-10-22T21:42:12.9451370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9451970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9452490Z       [TELEMETRY][L001] IOHIDManager released
2025-10-22T21:42:12.9453220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9453860Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9454470Z       [TELEMETRY][L001] Releasing run loop mode CFString
2025-10-22T21:42:12.9455090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9455740Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9456750Z       [TELEMETRY][L001] Run loop mode CFString released
2025-10-22T21:42:12.9457470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9458030Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:12.9458610Z       [TELEMETRY][L001] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:12.9459320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9460070Z       [TELEMETRY][L001] Thread exited successfully after 0ms
2025-10-22T21:42:12.9460670Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9461290Z       [TELEMETRY][L001] StopListening() complete
2025-10-22T21:42:12.9461870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9462440Z       [TELEMETRY][L001] StopListening() returned successfully
2025-10-22T21:42:12.9463160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9463710Z       [TELEMETRY][L001] Calling base.Dispose(True)
2025-10-22T21:42:12.9470160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:12.9470740Z       [TELEMETRY][L001] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:13.4833430Z [xUnit.net 00:00:00.81]   Finished:    Yubico.Core.UnitTests
2025-10-22T21:42:13.5689150Z   Passed Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_StopsIOKitCallbacks [613 ms]
2025-10-22T21:42:13.5721220Z   Standard Output Messages:
2025-10-22T21:42:13.5723050Z  === TEST START: Dispose_StopsIOKitCallbacks ===
2025-10-22T21:42:13.5725910Z  [USING-ENTRY] Test=Dispose_StopsIOKitCallbacks, Thread=13
2025-10-22T21:42:13.5813700Z  [USING-BODY] Test=Dispose_StopsIOKitCallbacks, Listener=L001, Thread=13
2025-10-22T21:42:13.5847900Z  [TEST] Created listener: L001
2025-10-22T21:42:13.5864380Z  [TEST] Disposing listener: L001
2025-10-22T21:42:13.5965510Z  [TEST] Dispose() completed on L001
2025-10-22T21:42:13.6066480Z  [TEST] Verified no callbacks fired for L001
2025-10-22T21:42:13.6168630Z  [USING-EXIT] Test=Dispose_StopsIOKitCallbacks, Listener=L001, Thread=13
2025-10-22T21:42:13.6188120Z 
2025-10-22T21:42:13.6220330Z 
2025-10-22T21:42:13.6220650Z 
2025-10-22T21:42:13.6221440Z Test Run Successful.
2025-10-22T21:42:13.6222040Z Total tests: 1
2025-10-22T21:42:13.6222380Z      Passed: 1
2025-10-22T21:42:13.6222740Z  Total time: 1.4180 Seconds
2025-10-22T21:42:13.6373910Z ##[group]Run actions/upload-artifact@v4
2025-10-22T21:42:13.6374190Z with:
2025-10-22T21:42:13.6374360Z   name: Logs-Test11-Dispose_StopsIOKitCallbacks
2025-10-22T21:42:13.6374580Z   path: **/TestResults/*
2025-10-22T21:42:13.6374740Z   if-no-files-found: warn
2025-10-22T21:42:13.6374920Z   compression-level: 6
2025-10-22T21:42:13.6375070Z   overwrite: false
2025-10-22T21:42:13.6375220Z   include-hidden-files: false
2025-10-22T21:42:13.6375380Z env:
2025-10-22T21:42:13.6375530Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:42:13.6375710Z ##[endgroup]
2025-10-22T21:42:13.9586830Z ##[warning]No files were found with the provided path: **/TestResults/*. No artifacts will be uploaded.
2025-10-22T21:42:13.9665950Z Post job cleanup.
2025-10-22T21:42:14.1014310Z Post job cleanup.
2025-10-22T21:42:14.1875690Z [command]/opt/homebrew/bin/git version
2025-10-22T21:42:14.1948780Z git version 2.50.1
2025-10-22T21:42:14.1970370Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/dcda00cc-e0ea-42ea-a5eb-b009caddb1a8/.gitconfig'
2025-10-22T21:42:14.1977300Z Temporarily overriding HOME='/Users/runner/work/_temp/dcda00cc-e0ea-42ea-a5eb-b009caddb1a8' before making global git config changes
2025-10-22T21:42:14.1978120Z Adding repository directory to the temporary git global config as a safe directory
2025-10-22T21:42:14.1984980Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:42:14.2048730Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-22T21:42:14.2122770Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-22T21:42:14.2865270Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-22T21:42:14.2913970Z http.https://github.com/.extraheader
2025-10-22T21:42:14.2923120Z [command]/opt/homebrew/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-10-22T21:42:14.2981430Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-22T21:42:14.3825930Z Cleaning up orphan processes
2025-10-22T21:42:14.5835810Z Terminate orphan process: pid (2532) (dotnet)
