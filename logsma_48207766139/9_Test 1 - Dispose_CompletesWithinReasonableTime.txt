2025-10-22T21:41:46.7485540Z Current runner version: '2.329.0'
2025-10-22T21:41:46.7516240Z ##[group]Runner Image Provisioner
2025-10-22T21:41:46.7516790Z Hosted Compute Agent
2025-10-22T21:41:46.7517110Z Version: 20251016.436
2025-10-22T21:41:46.7517480Z Commit: 8ab8ac8bfd662a3739dab9fe09456aba92132568
2025-10-22T21:41:46.7517920Z Build Date: 2025-10-15T20:44:12Z
2025-10-22T21:41:46.7518280Z ##[endgroup]
2025-10-22T21:41:46.7518610Z ##[group]Operating System
2025-10-22T21:41:46.7518950Z macOS
2025-10-22T21:41:46.7519240Z 15.6.1
2025-10-22T21:41:46.7519510Z 24G90
2025-10-22T21:41:46.7519780Z ##[endgroup]
2025-10-22T21:41:46.7520080Z ##[group]Runner Image
2025-10-22T21:41:46.7520390Z Image: macos-15-arm64
2025-10-22T21:41:46.7520710Z Version: 20251015.0042
2025-10-22T21:41:46.7521390Z Included Software: https://github.com/actions/runner-images/blob/macos-15-arm64/20251015.0042/images/macos/macos-15-arm64-Readme.md
2025-10-22T21:41:46.7522480Z Image Release: https://github.com/actions/runner-images/releases/tag/macos-15-arm64%2F20251015.0042
2025-10-22T21:41:46.7523120Z ##[endgroup]
2025-10-22T21:41:46.7523850Z ##[group]GITHUB_TOKEN Permissions
2025-10-22T21:41:46.7525060Z Contents: read
2025-10-22T21:41:46.7525380Z Metadata: read
2025-10-22T21:41:46.7525680Z Packages: read
2025-10-22T21:41:46.7525980Z ##[endgroup]
2025-10-22T21:41:46.7527450Z Secret source: Actions
2025-10-22T21:41:46.7527840Z Prepare workflow directory
2025-10-22T21:41:46.7832230Z Prepare all required actions
2025-10-22T21:41:46.7867680Z Getting action download info
2025-10-22T21:41:47.3287550Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-10-22T21:41:47.7026700Z Download action repository 'actions/setup-dotnet@v4' (SHA:67a3573c9a986a3f9c594539f4ab511d57bb3ce9)
2025-10-22T21:41:48.8317230Z Download action repository 'actions/upload-artifact@v4' (SHA:ea165f8d65b6e75b540449e92b4886f43607fa02)
2025-10-22T21:41:49.0430770Z Complete job name: Test 1 - Dispose_CompletesWithinReasonableTime
2025-10-22T21:41:49.1113130Z ##[group]Run actions/checkout@v4
2025-10-22T21:41:49.1113920Z with:
2025-10-22T21:41:49.1114280Z   repository: Yubico/Yubico.NET.SDK
2025-10-22T21:41:49.1115620Z   token: ***
2025-10-22T21:41:49.1116050Z   ssh-strict: true
2025-10-22T21:41:49.1116380Z   ssh-user: git
2025-10-22T21:41:49.1117500Z   persist-credentials: true
2025-10-22T21:41:49.1119160Z   clean: true
2025-10-22T21:41:49.1119520Z   sparse-checkout-cone-mode: true
2025-10-22T21:41:49.1119920Z   fetch-depth: 1
2025-10-22T21:41:49.1120260Z   fetch-tags: false
2025-10-22T21:41:49.1120600Z   show-progress: true
2025-10-22T21:41:49.1120940Z   lfs: false
2025-10-22T21:41:49.1121260Z   submodules: false
2025-10-22T21:41:49.1121740Z   set-safe-directory: true
2025-10-22T21:41:49.1123260Z ##[endgroup]
2025-10-22T21:41:49.4887820Z Syncing repository: Yubico/Yubico.NET.SDK
2025-10-22T21:41:49.4889660Z ##[group]Getting Git version info
2025-10-22T21:41:49.4890370Z Working directory is '/Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK'
2025-10-22T21:41:49.4893630Z [command]/opt/homebrew/bin/git version
2025-10-22T21:41:49.5599960Z git version 2.50.1
2025-10-22T21:41:49.6245930Z ##[endgroup]
2025-10-22T21:41:49.6404360Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/09112747-11d2-4e06-bf92-2cc867eb9fe4/.gitconfig'
2025-10-22T21:41:49.6405950Z Temporarily overriding HOME='/Users/runner/work/_temp/09112747-11d2-4e06-bf92-2cc867eb9fe4' before making global git config changes
2025-10-22T21:41:49.6407250Z Adding repository directory to the temporary git global config as a safe directory
2025-10-22T21:41:49.6410210Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:41:49.6412690Z Deleting the contents of '/Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK'
2025-10-22T21:41:49.6414420Z ##[group]Initializing the repository
2025-10-22T21:41:49.6415250Z [command]/opt/homebrew/bin/git init /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:41:49.6416240Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-10-22T21:41:49.6418260Z hint: is subject to change. To configure the initial branch name to use in all
2025-10-22T21:41:49.6419090Z hint: of your new repositories, which will suppress this warning, call:
2025-10-22T21:41:49.6419780Z hint:
2025-10-22T21:41:49.6420350Z hint: 	git config --global init.defaultBranch <name>
2025-10-22T21:41:49.6420970Z hint:
2025-10-22T21:41:49.6421630Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-10-22T21:41:49.6422470Z hint: 'development'. The just-created branch can be renamed via this command:
2025-10-22T21:41:49.6423180Z hint:
2025-10-22T21:41:49.6423650Z hint: 	git branch -m <name>
2025-10-22T21:41:49.6424150Z hint:
2025-10-22T21:41:49.6424760Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-10-22T21:41:49.6425850Z Initialized empty Git repository in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/.git/
2025-10-22T21:41:49.6427690Z [command]/opt/homebrew/bin/git remote add origin https://github.com/Yubico/Yubico.NET.SDK
2025-10-22T21:41:49.6432320Z ##[endgroup]
2025-10-22T21:41:49.6433160Z ##[group]Disabling automatic garbage collection
2025-10-22T21:41:49.6433940Z [command]/opt/homebrew/bin/git config --local gc.auto 0
2025-10-22T21:41:49.6438380Z ##[endgroup]
2025-10-22T21:41:49.6439180Z ##[group]Setting up auth
2025-10-22T21:41:49.6440000Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-22T21:41:49.6473300Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-22T21:41:49.7396900Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-22T21:41:49.7440780Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-22T21:41:49.8561620Z [command]/opt/homebrew/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-10-22T21:41:49.8864770Z ##[endgroup]
2025-10-22T21:41:49.8971450Z ##[group]Fetching the repository
2025-10-22T21:41:49.9075850Z [command]/opt/homebrew/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +61edcc0f6126c293f1d4612607aa535e18b7d3f1:refs/remotes/origin/experiment/isolate-disposal-hang
2025-10-22T21:41:50.4254400Z From https://github.com/Yubico/Yubico.NET.SDK
2025-10-22T21:41:50.4361390Z  * [new ref]         61edcc0f6126c293f1d4612607aa535e18b7d3f1 -> origin/experiment/isolate-disposal-hang
2025-10-22T21:41:50.4387300Z ##[endgroup]
2025-10-22T21:41:50.4388870Z ##[group]Determining the checkout info
2025-10-22T21:41:50.4389600Z ##[endgroup]
2025-10-22T21:41:50.4390280Z [command]/opt/homebrew/bin/git sparse-checkout disable
2025-10-22T21:41:50.4445390Z [command]/opt/homebrew/bin/git config --local --unset-all extensions.worktreeConfig
2025-10-22T21:41:50.4521260Z ##[group]Checking out the ref
2025-10-22T21:41:50.4523660Z [command]/opt/homebrew/bin/git checkout --progress --force -B experiment/isolate-disposal-hang refs/remotes/origin/experiment/isolate-disposal-hang
2025-10-22T21:41:50.6778110Z Switched to a new branch 'experiment/isolate-disposal-hang'
2025-10-22T21:41:50.6881090Z branch 'experiment/isolate-disposal-hang' set up to track 'origin/experiment/isolate-disposal-hang'.
2025-10-22T21:41:50.7200280Z ##[endgroup]
2025-10-22T21:41:50.7528610Z [command]/opt/homebrew/bin/git log -1 --format=%H
2025-10-22T21:41:50.7632170Z 61edcc0f6126c293f1d4612607aa535e18b7d3f1
2025-10-22T21:41:50.8195740Z ##[group]Run actions/setup-dotnet@v4
2025-10-22T21:41:50.8196200Z with:
2025-10-22T21:41:50.8196490Z   global-json-file: ./global.json
2025-10-22T21:41:50.8196840Z   cache: false
2025-10-22T21:41:50.8197170Z ##[endgroup]
2025-10-22T21:41:50.9889410Z [command]/Users/runner/work/_actions/actions/setup-dotnet/v4/externals/install-dotnet.sh --skip-non-versioned-files --runtime dotnet --channel LTS
2025-10-22T21:41:51.3904550Z dotnet-install: .NET Core Runtime with version '8.0.21' is already installed.
2025-10-22T21:41:51.4007540Z [command]/Users/runner/work/_actions/actions/setup-dotnet/v4/externals/install-dotnet.sh --skip-non-versioned-files --channel 9.0
2025-10-22T21:41:51.7577080Z dotnet-install: .NET Core SDK with version '9.0.306' is already installed.
2025-10-22T21:41:51.7855130Z ##[group]Run dotnet nuget add source --username DennisDyallo --password *** --store-password-in-clear-text --name github "https://nuget.pkg.github.com/Yubico/index.json"
2025-10-22T21:41:51.7859650Z [36;1mdotnet nuget add source --username DennisDyallo --password *** --store-password-in-clear-text --name github "https://nuget.pkg.github.com/Yubico/index.json"[0m
2025-10-22T21:41:51.7910110Z shell: /bin/bash -e {0}
2025-10-22T21:41:51.7910940Z env:
2025-10-22T21:41:51.7911650Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:51.7912540Z ##[endgroup]
2025-10-22T21:41:52.5016240Z 
2025-10-22T21:41:52.5117420Z Welcome to .NET 9.0!
2025-10-22T21:41:52.5217500Z ---------------------
2025-10-22T21:41:52.5319720Z SDK Version: 9.0.306
2025-10-22T21:41:52.5419700Z 
2025-10-22T21:41:52.5521260Z Telemetry
2025-10-22T21:41:52.5622930Z ---------
2025-10-22T21:41:52.5726330Z The .NET tools collect usage data in order to help us improve your experience. It is collected by Microsoft and shared with the community. You can opt-out of telemetry by setting the DOTNET_CLI_TELEMETRY_OPTOUT environment variable to '1' or 'true' using your favorite shell.
2025-10-22T21:41:52.5824180Z 
2025-10-22T21:41:52.5932070Z Read more about .NET CLI Tools telemetry: https://aka.ms/dotnet-cli-telemetry
2025-10-22T21:41:53.2175260Z 
2025-10-22T21:41:53.2277810Z ----------------
2025-10-22T21:41:53.2378080Z Installed an ASP.NET Core HTTPS development certificate.
2025-10-22T21:41:53.2479690Z To trust the certificate, run 'dotnet dev-certs https --trust'
2025-10-22T21:41:53.2582590Z Learn about HTTPS: https://aka.ms/dotnet-https
2025-10-22T21:41:53.2684990Z 
2025-10-22T21:41:53.2786350Z ----------------
2025-10-22T21:41:53.2888420Z Write your first app: https://aka.ms/dotnet-hello-world
2025-10-22T21:41:53.2991850Z Find out what's new: https://aka.ms/dotnet-whats-new
2025-10-22T21:41:53.3092310Z Explore documentation: https://aka.ms/dotnet-docs
2025-10-22T21:41:53.3195500Z Report issues and find source on GitHub: https://github.com/dotnet/core
2025-10-22T21:41:53.3295480Z Use 'dotnet --help' to see available commands or visit: https://aka.ms/dotnet-cli
2025-10-22T21:41:53.3395970Z --------------------------------------------------------------------------------------
2025-10-22T21:41:53.4348190Z Package source with Name: github added successfully.
2025-10-22T21:41:53.9170140Z ##[group]Run brew install openssl
2025-10-22T21:41:53.9172090Z [36;1mbrew install openssl[0m
2025-10-22T21:41:53.9172870Z [36;1msudo mkdir -p /usr/local/lib[0m
2025-10-22T21:41:53.9174200Z [36;1msudo ln -s $(brew --prefix)/opt/openssl@3/lib/libcrypto.3.dylib /usr/local/lib/libcrypto.3.dylib[0m
2025-10-22T21:41:53.9176740Z [36;1msudo ln -s $(brew --prefix)/opt/openssl@3/lib/libssl.3.dylib /usr/local/lib/libssl.3.dylib[0m
2025-10-22T21:41:53.9214960Z shell: /bin/bash -e {0}
2025-10-22T21:41:53.9216720Z env:
2025-10-22T21:41:53.9217270Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:53.9218000Z ##[endgroup]
2025-10-22T21:41:58.6769370Z ##[warning]openssl@3 3.6.0 is already installed and up-to-date.
To reinstall 3.6.0, run:
  brew reinstall openssl@3

2025-10-22T21:41:58.8415540Z ##[group]Run dotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_CompletesWithinReasonableTime" --logger "console;verbosity=detailed"
2025-10-22T21:41:58.8416840Z [36;1mdotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_CompletesWithinReasonableTime" --logger "console;verbosity=detailed"[0m
2025-10-22T21:41:58.8475680Z shell: /bin/bash -e {0}
2025-10-22T21:41:58.8475920Z env:
2025-10-22T21:41:58.8476110Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:58.8476320Z   Logging__LogLevel__Default: Information
2025-10-22T21:41:58.8476560Z   Logging__LogLevel__Yubico: Information
2025-10-22T21:41:58.8476760Z ##[endgroup]
2025-10-22T21:41:59.9240260Z   Determining projects to restore...
2025-10-22T21:42:03.5191970Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico.Core.UnitTests.csproj (in 2.69 sec).
2025-10-22T21:42:04.3992670Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/Yubico.Core.csproj (in 3.58 sec).
2025-10-22T21:42:13.3587940Z   Yubico.Core -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/bin/Debug/netstandard2.1/Yubico.Core.dll
2025-10-22T21:42:19.1659370Z   Yubico.Core.UnitTests -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:42:19.2305860Z Test run for /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll (.NETCoreApp,Version=v8.0)
2025-10-22T21:42:19.5397940Z VSTest version 17.14.1 (arm64)
2025-10-22T21:42:19.5498720Z 
2025-10-22T21:42:19.7943330Z Starting test execution, please wait...
2025-10-22T21:42:19.8299740Z A total of 1 test files matched the specified pattern.
2025-10-22T21:42:19.8401690Z /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:42:20.9189850Z [xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 8.0.21)
2025-10-22T21:42:21.0834520Z [xUnit.net 00:00:00.18]   Discovering: Yubico.Core.UnitTests
2025-10-22T21:42:21.2834200Z [xUnit.net 00:00:00.38]   Discovered:  Yubico.Core.UnitTests
2025-10-22T21:42:21.3166010Z [xUnit.net 00:00:00.41]   Starting:    Yubico.Core.UnitTests
2025-10-22T21:42:21.4885580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.4997780Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor called on thread 12
2025-10-22T21:42:21.5114180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.5207950Z       [TELEMETRY][L001] StartListening() called, creating background thread
2025-10-22T21:42:21.5317760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.5420080Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:21.5531360Z       HID listener thread started. ThreadID is 18.
2025-10-22T21:42:21.5642350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.5749060Z       [TELEMETRY][L001] Background thread started
2025-10-22T21:42:21.5869640Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.5973420Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:21.6075800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.6206490Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:21.6308930Z       IOHIDManager 5744152768 is scheduled with run loop 5475861664 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:21.6410860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.6512680Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:21.6636150Z       Flushed existing devices.
2025-10-22T21:42:21.6738440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.6840740Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:21.6945030Z       [TELEMETRY][L001] Entering run loop. _shouldStop=False
2025-10-22T21:42:21.7063920Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.7065220Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:21.7166610Z       [TELEMETRY][L001] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:21.7276990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.7378480Z       [TELEMETRY][L001] >>> DISPOSE-ENTRY: disposing=True, thread=12, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:21.7490580Z         CallStack:
2025-10-22T21:42:21.7592840Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:21.7695720Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:21.7804700Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_CompletesWithinReasonableTime() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 55
2025-10-22T21:42:21.7924120Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:21.8132920Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:21.8246290Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:21.8362470Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:21.8465470Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.8466480Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:21.8515170Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:21.8548190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.8581840Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:21.8684990Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:21.8802040Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:21.8906730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9003300Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:21.9107680Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:21.9152490Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9184090Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:21.9218240Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:21.9251460Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:21.9287400Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9365750Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:21.9371940Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:21.9410010Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9446190Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:21.9490690Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:21.9528440Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:21.9579360Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:21.9612310Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9653480Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:21.9691280Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:21.9704530Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:21.9718030Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9725740Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:21.9746880Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:21.9761720Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9771340Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:21.9782860Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:21.9789640Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:21.9846200Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9858710Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:21.9879700Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:21.9890860Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:21.9898370Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:21.9904110Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9916280Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:21.9933040Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:21.9945480Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:21.9949730Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9963170Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:21.9991190Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:21.9998980Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:22.0014730Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:22.0024010Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:22.0025000Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:22.0025620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:22.0036390Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:22.0042850Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:22.0057300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:22.0065630Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:22.0072830Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:22.0075180Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:22.0092130Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:22.0094490Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:22.0137400Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:22.0145800Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:22.0150830Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:22.0159320Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:22.0176030Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:22.0195110Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:22.0213410Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:22.0236410Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:22.0253360Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:22.0260810Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:22.0265410Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:22.0269420Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:22.0283700Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:22.0324730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0358820Z       [TELEMETRY][L001] Setting _isDisposed = true
2025-10-22T21:42:22.0403080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0438050Z       [TELEMETRY][L001] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:22.0484450Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0533660Z       [TELEMETRY][L001] StopListening(fromFinalizer=False) called
2025-10-22T21:42:22.0567070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0582530Z       [TELEMETRY][L001] Setting _shouldStop flag to true
2025-10-22T21:42:22.0587720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0591640Z       [TELEMETRY][L001] _shouldStop flag set. RunLoop pointer: 5475861664
2025-10-22T21:42:22.0616190Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0640170Z       [TELEMETRY][L001] Calling CFRunLoopStop(5475861664)
2025-10-22T21:42:22.0667560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0671210Z       [TELEMETRY][L001] CFRunLoopStop() returned
2025-10-22T21:42:22.0676640Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0689490Z       [TELEMETRY][L001] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:22.0696590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0715730Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.0721990Z       [TELEMETRY][L001] Loop iter 1: CFRunLoopRunInMode returned 2 after 13ms
2025-10-22T21:42:22.0740770Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0743720Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.0764480Z       [TELEMETRY][L001] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:22.0785560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0800060Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.0816040Z       [TELEMETRY][L001] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:22.0918500Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0919560Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.0965960Z       [TELEMETRY][L001] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:22.1067220Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.1167620Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.1268890Z       [TELEMETRY][L001] IOHIDManager unscheduled from run loop
2025-10-22T21:42:22.1370270Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.1476580Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.1578510Z       [TELEMETRY][L001] Releasing IOHIDManager
2025-10-22T21:42:22.1681240Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.1785140Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.1887000Z       [TELEMETRY][L001] IOHIDManager released
2025-10-22T21:42:22.1989330Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.2090390Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.2192210Z       [TELEMETRY][L001] Releasing run loop mode CFString
2025-10-22T21:42:22.2294490Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.2562000Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.2567450Z       [TELEMETRY][L001] Run loop mode CFString released
2025-10-22T21:42:22.2665690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.2768030Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.2869850Z       [TELEMETRY][L001] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:22.2970260Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.3071350Z       [TELEMETRY][L001] Thread exited successfully after 1ms
2025-10-22T21:42:22.3173070Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.3273410Z       [TELEMETRY][L001] StopListening() complete
2025-10-22T21:42:22.3376830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.3479400Z       [TELEMETRY][L001] StopListening() returned successfully
2025-10-22T21:42:22.3579690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.3679810Z       [TELEMETRY][L001] Calling base.Dispose(True)
2025-10-22T21:42:22.3781170Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.3881620Z       [TELEMETRY][L001] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:22.3958770Z [xUnit.net 00:00:00.65]   Finished:    Yubico.Core.UnitTests
2025-10-22T21:42:22.4055150Z   Passed Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_CompletesWithinReasonableTime [151 ms]
2025-10-22T21:42:22.4156890Z   Standard Output Messages:
2025-10-22T21:42:22.4238980Z  === TEST START: Dispose_CompletesWithinReasonableTime ===
2025-10-22T21:42:22.4290470Z  [USING-ENTRY] Test=Dispose_CompletesWithinReasonableTime, Thread=12
2025-10-22T21:42:22.4297690Z  [USING-BODY] Test=Dispose_CompletesWithinReasonableTime, Listener=L001, Thread=12
2025-10-22T21:42:22.4306330Z  [TEST] Created listener instance: L001
2025-10-22T21:42:22.4306730Z  [TEST] Instance L001 disposed in 33ms
2025-10-22T21:42:22.4310430Z  [USING-EXIT] Test=Dispose_CompletesWithinReasonableTime, Listener=L001, Thread=12
2025-10-22T21:42:22.4315410Z 
2025-10-22T21:42:22.4315520Z 
2025-10-22T21:42:22.4315670Z 
2025-10-22T21:42:22.4315880Z Test Run Successful.
2025-10-22T21:42:22.4317220Z Total tests: 1
2025-10-22T21:42:22.4317830Z      Passed: 1
2025-10-22T21:42:22.4318090Z  Total time: 1.8852 Seconds
2025-10-22T21:42:22.4494500Z ##[group]Run actions/upload-artifact@v4
2025-10-22T21:42:22.4494710Z with:
2025-10-22T21:42:22.4495160Z   name: Logs-Test01-Dispose_CompletesWithinReasonableTime
2025-10-22T21:42:22.4495550Z   path: **/TestResults/*
2025-10-22T21:42:22.4495780Z   if-no-files-found: warn
2025-10-22T21:42:22.4496020Z   compression-level: 6
2025-10-22T21:42:22.4496230Z   overwrite: false
2025-10-22T21:42:22.4496460Z   include-hidden-files: false
2025-10-22T21:42:22.4496680Z env:
2025-10-22T21:42:22.4496890Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:42:22.4497140Z ##[endgroup]
2025-10-22T21:42:23.2081760Z ##[warning]No files were found with the provided path: **/TestResults/*. No artifacts will be uploaded.
2025-10-22T21:42:23.2195540Z Post job cleanup.
2025-10-22T21:42:23.4424950Z Post job cleanup.
2025-10-22T21:42:23.6030310Z [command]/opt/homebrew/bin/git version
2025-10-22T21:42:23.6302670Z git version 2.50.1
2025-10-22T21:42:23.6436780Z Copying '/Users/runner/.gitconfig' to '/Users/runner/work/_temp/aef61f14-42c6-4064-be26-057fa808e2bd/.gitconfig'
2025-10-22T21:42:23.6451800Z Temporarily overriding HOME='/Users/runner/work/_temp/aef61f14-42c6-4064-be26-057fa808e2bd' before making global git config changes
2025-10-22T21:42:23.6469580Z Adding repository directory to the temporary git global config as a safe directory
2025-10-22T21:42:23.6480250Z [command]/opt/homebrew/bin/git config --global --add safe.directory /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK
2025-10-22T21:42:23.6662820Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-10-22T21:42:23.6740110Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-10-22T21:42:23.8619560Z [command]/opt/homebrew/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-10-22T21:42:23.8647060Z http.https://github.com/.extraheader
2025-10-22T21:42:23.8728140Z [command]/opt/homebrew/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-10-22T21:42:23.8806770Z [command]/opt/homebrew/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-10-22T21:42:24.0413710Z Cleaning up orphan processes
2025-10-22T21:42:24.6558780Z Terminate orphan process: pid (8109) (dotnet)
