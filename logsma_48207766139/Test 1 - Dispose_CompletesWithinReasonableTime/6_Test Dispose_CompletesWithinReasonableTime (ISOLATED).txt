2025-10-22T21:41:58.8415520Z ##[group]Run dotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_CompletesWithinReasonableTime" --logger "console;verbosity=detailed"
2025-10-22T21:41:58.8416840Z [36;1mdotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_CompletesWithinReasonableTime" --logger "console;verbosity=detailed"[0m
2025-10-22T21:41:58.8475660Z shell: /bin/bash -e {0}
2025-10-22T21:41:58.8475910Z env:
2025-10-22T21:41:58.8476100Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:58.8476320Z   Logging__LogLevel__Default: Information
2025-10-22T21:41:58.8476560Z   Logging__LogLevel__Yubico: Information
2025-10-22T21:41:58.8476760Z ##[endgroup]
2025-10-22T21:41:59.9240170Z   Determining projects to restore...
2025-10-22T21:42:03.5191810Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico.Core.UnitTests.csproj (in 2.69 sec).
2025-10-22T21:42:04.3992620Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/Yubico.Core.csproj (in 3.58 sec).
2025-10-22T21:42:13.3587350Z   Yubico.Core -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/bin/Debug/netstandard2.1/Yubico.Core.dll
2025-10-22T21:42:19.1658920Z   Yubico.Core.UnitTests -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:42:19.2305560Z Test run for /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll (.NETCoreApp,Version=v8.0)
2025-10-22T21:42:19.5397850Z VSTest version 17.14.1 (arm64)
2025-10-22T21:42:19.5498650Z 
2025-10-22T21:42:19.7943250Z Starting test execution, please wait...
2025-10-22T21:42:19.8299710Z A total of 1 test files matched the specified pattern.
2025-10-22T21:42:19.8401460Z /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:42:20.9189760Z [xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 8.0.21)
2025-10-22T21:42:21.0834470Z [xUnit.net 00:00:00.18]   Discovering: Yubico.Core.UnitTests
2025-10-22T21:42:21.2834140Z [xUnit.net 00:00:00.38]   Discovered:  Yubico.Core.UnitTests
2025-10-22T21:42:21.3165940Z [xUnit.net 00:00:00.41]   Starting:    Yubico.Core.UnitTests
2025-10-22T21:42:21.4885520Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.4997720Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor called on thread 12
2025-10-22T21:42:21.5114120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.5207880Z       [TELEMETRY][L001] StartListening() called, creating background thread
2025-10-22T21:42:21.5317710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.5420000Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:21.5531310Z       HID listener thread started. ThreadID is 18.
2025-10-22T21:42:21.5642230Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.5749000Z       [TELEMETRY][L001] Background thread started
2025-10-22T21:42:21.5869560Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.5973340Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:21.6075710Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.6206430Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:21.6308850Z       IOHIDManager 5744152768 is scheduled with run loop 5475861664 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:21.6410790Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.6512640Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:21.6636100Z       Flushed existing devices.
2025-10-22T21:42:21.6738360Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.6840690Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:21.6942150Z       [TELEMETRY][L001] Entering run loop. _shouldStop=False
2025-10-22T21:42:21.7063860Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.7065210Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:21.7166570Z       [TELEMETRY][L001] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:21.7276950Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:21.7378310Z       [TELEMETRY][L001] >>> DISPOSE-ENTRY: disposing=True, thread=12, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:21.7490500Z         CallStack:
2025-10-22T21:42:21.7592790Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:21.7695630Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:21.7804600Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_CompletesWithinReasonableTime() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 55
2025-10-22T21:42:21.7924030Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:21.8132860Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:21.8246170Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:21.8362390Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:21.8465330Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.8466480Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:21.8515120Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:21.8548120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.8581800Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:21.8684910Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:21.8801990Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:21.8906660Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9003220Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:21.9107630Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:21.9152440Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9184060Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:21.9218210Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:21.9251430Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:21.9286070Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9365680Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:21.9371890Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:21.9409960Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9446110Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:21.9490650Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:21.9528390Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:21.9579140Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:21.9612270Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9653420Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:21.9689380Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:21.9704470Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:21.9718000Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9725740Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:21.9746630Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:21.9761670Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9771300Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:21.9782820Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:21.9789590Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:21.9846150Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9858670Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:21.9879540Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:21.9890830Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:21.9898350Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:21.9904100Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9916240Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:21.9932400Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:21.9945420Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:21.9949700Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:21.9963130Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:21.9991150Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:21.9998930Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:22.0014710Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:22.0023970Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:22.0025000Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:22.0025620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:22.0036370Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:22.0042830Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:22.0057260Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:22.0065470Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:22.0072750Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:22.0075170Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:22.0092110Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:22.0094460Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:22.0137330Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:22.0145780Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:22.0150820Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:22.0159280Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:22.0175970Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:22.0195050Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:22.0213360Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:22.0236090Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:22.0252900Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:22.0260790Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:22.0265400Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:22.0269420Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:22.0283680Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:22.0324690Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0358590Z       [TELEMETRY][L001] Setting _isDisposed = true
2025-10-22T21:42:22.0403050Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0438010Z       [TELEMETRY][L001] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:22.0484400Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0533590Z       [TELEMETRY][L001] StopListening(fromFinalizer=False) called
2025-10-22T21:42:22.0566990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0582490Z       [TELEMETRY][L001] Setting _shouldStop flag to true
2025-10-22T21:42:22.0587720Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0591630Z       [TELEMETRY][L001] _shouldStop flag set. RunLoop pointer: 5475861664
2025-10-22T21:42:22.0616110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0640080Z       [TELEMETRY][L001] Calling CFRunLoopStop(5475861664)
2025-10-22T21:42:22.0667530Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0671170Z       [TELEMETRY][L001] CFRunLoopStop() returned
2025-10-22T21:42:22.0676620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0689450Z       [TELEMETRY][L001] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:22.0696580Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0715670Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.0721910Z       [TELEMETRY][L001] Loop iter 1: CFRunLoopRunInMode returned 2 after 13ms
2025-10-22T21:42:22.0740130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0743710Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.0764400Z       [TELEMETRY][L001] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:22.0785480Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0800020Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.0816020Z       [TELEMETRY][L001] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:22.0918440Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.0919540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.0965920Z       [TELEMETRY][L001] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:22.1067180Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.1167570Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.1268850Z       [TELEMETRY][L001] IOHIDManager unscheduled from run loop
2025-10-22T21:42:22.1370250Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.1476540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.1578440Z       [TELEMETRY][L001] Releasing IOHIDManager
2025-10-22T21:42:22.1681190Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.1785080Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.1886940Z       [TELEMETRY][L001] IOHIDManager released
2025-10-22T21:42:22.1989130Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.2090350Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.2192140Z       [TELEMETRY][L001] Releasing run loop mode CFString
2025-10-22T21:42:22.2294420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.2561890Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.2566060Z       [TELEMETRY][L001] Run loop mode CFString released
2025-10-22T21:42:22.2665620Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.2767970Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:22.2869800Z       [TELEMETRY][L001] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:22.2970210Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.3071310Z       [TELEMETRY][L001] Thread exited successfully after 1ms
2025-10-22T21:42:22.3172930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.3273350Z       [TELEMETRY][L001] StopListening() complete
2025-10-22T21:42:22.3376760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.3479340Z       [TELEMETRY][L001] StopListening() returned successfully
2025-10-22T21:42:22.3579650Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.3679770Z       [TELEMETRY][L001] Calling base.Dispose(True)
2025-10-22T21:42:22.3781110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:22.3881570Z       [TELEMETRY][L001] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:22.3958740Z [xUnit.net 00:00:00.65]   Finished:    Yubico.Core.UnitTests
2025-10-22T21:42:22.4055110Z   Passed Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_CompletesWithinReasonableTime [151 ms]
2025-10-22T21:42:22.4156840Z   Standard Output Messages:
2025-10-22T21:42:22.4238910Z  === TEST START: Dispose_CompletesWithinReasonableTime ===
2025-10-22T21:42:22.4290410Z  [USING-ENTRY] Test=Dispose_CompletesWithinReasonableTime, Thread=12
2025-10-22T21:42:22.4297590Z  [USING-BODY] Test=Dispose_CompletesWithinReasonableTime, Listener=L001, Thread=12
2025-10-22T21:42:22.4306310Z  [TEST] Created listener instance: L001
2025-10-22T21:42:22.4306730Z  [TEST] Instance L001 disposed in 33ms
2025-10-22T21:42:22.4310420Z  [USING-EXIT] Test=Dispose_CompletesWithinReasonableTime, Listener=L001, Thread=12
2025-10-22T21:42:22.4315380Z 
2025-10-22T21:42:22.4315520Z 
2025-10-22T21:42:22.4315670Z 
2025-10-22T21:42:22.4315880Z Test Run Successful.
2025-10-22T21:42:22.4317210Z Total tests: 1
2025-10-22T21:42:22.4317830Z      Passed: 1
2025-10-22T21:42:22.4318090Z  Total time: 1.8852 Seconds
