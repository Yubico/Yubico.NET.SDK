2025-10-22T21:41:58.2613640Z ##[group]Run dotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_UnusedListener_Succeeds" --logger "console;verbosity=detailed"
2025-10-22T21:41:58.2614750Z [36;1mdotnet test Yubico.Core/tests/Yubico.Core.UnitTests.csproj --filter "FullyQualifiedName~MacOSHidDeviceListenerDisposalTests.Dispose_UnusedListener_Succeeds" --logger "console;verbosity=detailed"[0m
2025-10-22T21:41:58.2646450Z shell: /bin/bash -e {0}
2025-10-22T21:41:58.2646600Z env:
2025-10-22T21:41:58.2646740Z   DOTNET_ROOT: /Users/runner/.dotnet
2025-10-22T21:41:58.2646930Z   Logging__LogLevel__Default: Information
2025-10-22T21:41:58.2647180Z   Logging__LogLevel__Yubico: Information
2025-10-22T21:41:58.2647360Z ##[endgroup]
2025-10-22T21:41:58.8439760Z   Determining projects to restore...
2025-10-22T21:42:01.7631590Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico.Core.UnitTests.csproj (in 2.62 sec).
2025-10-22T21:42:02.2840060Z   Restored /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/Yubico.Core.csproj (in 3.15 sec).
2025-10-22T21:42:07.0337970Z   Yubico.Core -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/src/bin/Debug/netstandard2.1/Yubico.Core.dll
2025-10-22T21:42:09.9224110Z   Yubico.Core.UnitTests -> /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:42:09.9409190Z Test run for /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll (.NETCoreApp,Version=v8.0)
2025-10-22T21:42:10.0822180Z VSTest version 17.14.1 (arm64)
2025-10-22T21:42:10.0852160Z 
2025-10-22T21:42:10.1887950Z Starting test execution, please wait...
2025-10-22T21:42:10.2286830Z A total of 1 test files matched the specified pattern.
2025-10-22T21:42:10.2311850Z /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/bin/Debug/net8.0/Yubico.Core.UnitTests.dll
2025-10-22T21:42:11.0134500Z [xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v3.1.5+1b188a7b0a (64-bit .NET 8.0.21)
2025-10-22T21:42:11.0681700Z [xUnit.net 00:00:00.06]   Discovering: Yubico.Core.UnitTests
2025-10-22T21:42:11.1955900Z [xUnit.net 00:00:00.19]   Discovered:  Yubico.Core.UnitTests
2025-10-22T21:42:11.2266460Z [xUnit.net 00:00:00.22]   Starting:    Yubico.Core.UnitTests
2025-10-22T21:42:11.3228110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.3255110Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor called on thread 13
2025-10-22T21:42:11.3311910Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.3344420Z       [TELEMETRY][L001] StartListening() called, creating background thread
2025-10-22T21:42:11.3401390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.3494460Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.3574600Z       HID listener thread started. ThreadID is 18.
2025-10-22T21:42:11.3676420Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.3776280Z       [TELEMETRY][L001] Background thread started
2025-10-22T21:42:11.3872350Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.3932550Z       [TELEMETRY][L001] MacOSHidDeviceListener constructor complete
2025-10-22T21:42:11.3972990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.4074710Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.4176170Z       IOHIDManager 5198982624 is scheduled with run loop 5467413664 with mode kCFRunLoopDefaultMode
2025-10-22T21:42:11.4251850Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.4354540Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.4394390Z       Flushed existing devices.
2025-10-22T21:42:11.4432830Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.4488170Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.4535280Z       [TELEMETRY][L001] Entering run loop. _shouldStop=False
2025-10-22T21:42:11.4662370Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.4756780Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.4793510Z       [TELEMETRY][L001] Loop iter 1: _shouldStop=False, prevResult=4, calling CFRunLoopRunInMode...
2025-10-22T21:42:11.4806090Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.4826600Z       [TELEMETRY][L001] >>> DISPOSE-ENTRY: disposing=True, thread=13, _isDisposed=False, _shouldStop=False
2025-10-22T21:42:11.4835620Z         CallStack:
2025-10-22T21:42:11.4863740Z          at Yubico.Core.Devices.Hid.MacOSHidDeviceListener.Dispose(Boolean disposing) in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/MacOSHidDeviceListener.cs:line 154
2025-10-22T21:42:11.4909590Z          at Yubico.Core.Devices.Hid.HidDeviceListener.Dispose() in /_/Yubico.Core/src/Yubico/Core/Devices/Hid/HidDeviceListener.cs:line 153
2025-10-22T21:42:11.4911370Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.<>c__DisplayClass10_0.<Dispose_UnusedListener_Succeeds>b__0() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 351
2025-10-22T21:42:11.4913080Z          at Xunit.Record.Exception(Action testCode) in /_/src/xunit.core/Record.cs:line 25
2025-10-22T21:42:11.4914240Z          at Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_UnusedListener_Succeeds() in /Users/runner/work/Yubico.NET.SDK/Yubico.NET.SDK/Yubico.Core/tests/Yubico/Core/Devices/Hid/MacOSHidDeviceListenerDisposalTests.cs:line 351
2025-10-22T21:42:11.4915680Z          at System.RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
2025-10-22T21:42:11.4916520Z          at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
2025-10-22T21:42:11.4976860Z          at Xunit.Sdk.TestInvoker`1.CallTestMethod(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 149
2025-10-22T21:42:11.4978240Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<<InvokeTestMethodAsync>b__1>d.MoveNext() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 256
2025-10-22T21:42:11.4979360Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.4980070Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__1()
2025-10-22T21:42:11.4981940Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction) in /_/src/xunit.execution/Sdk/Frameworks/ExecutionTimer.cs:line 48
2025-10-22T21:42:11.4983190Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.4983850Z          at Xunit.Sdk.ExecutionTimer.AggregateAsync(Func`1 asyncAction)
2025-10-22T21:42:11.4984570Z          at Xunit.Sdk.TestInvoker`1.<>c__DisplayClass47_0.<InvokeTestMethodAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 215
2025-10-22T21:42:11.4985480Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 90
2025-10-22T21:42:11.4986300Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.4986990Z          at Xunit.Sdk.ExceptionAggregator.RunAsync(Func`1 code)
2025-10-22T21:42:11.4987760Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 214
2025-10-22T21:42:11.4988760Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.4989460Z          at Xunit.Sdk.TestInvoker`1.InvokeTestMethodAsync(Object testClassInstance)
2025-10-22T21:42:11.4990240Z          at Xunit.Sdk.XunitTestInvoker.InvokeTestMethodAsync(Object testClassInstance) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestInvoker.cs:line 112
2025-10-22T21:42:11.4991670Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 180
2025-10-22T21:42:11.4992590Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.4993480Z          at Xunit.Sdk.TestInvoker`1.<RunAsync>b__46_0()
2025-10-22T21:42:11.4994110Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:11.4994970Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.4995660Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:11.4996330Z          at Xunit.Sdk.TestInvoker`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestInvoker.cs:line 163
2025-10-22T21:42:11.4997210Z          at Xunit.Sdk.XunitTestRunner.InvokeTestMethodAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 88
2025-10-22T21:42:11.4998210Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestRunner.cs:line 70
2025-10-22T21:42:11.4999150Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.4999830Z          at Xunit.Sdk.XunitTestRunner.InvokeTestAsync(ExceptionAggregator aggregator)
2025-10-22T21:42:11.5000510Z          at Xunit.Sdk.TestRunner`1.<>c__DisplayClass43_0.<RunAsync>b__0() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:11.5001330Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code) in /_/src/xunit.core/Sdk/ExceptionAggregator.cs:line 107
2025-10-22T21:42:11.5002090Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.5002710Z          at Xunit.Sdk.ExceptionAggregator.RunAsync[T](Func`1 code)
2025-10-22T21:42:11.5003350Z          at Xunit.Sdk.TestRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestRunner.cs:line 149
2025-10-22T21:42:11.5004090Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.5004670Z          at Xunit.Sdk.TestRunner`1.RunAsync()
2025-10-22T21:42:11.5005350Z          at Xunit.Sdk.XunitTestCaseRunner.RunTestAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCaseRunner.cs:line 140
2025-10-22T21:42:11.5006140Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCaseRunner.cs:line 82
2025-10-22T21:42:11.5006950Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.5007580Z          at Xunit.Sdk.TestCaseRunner`1.RunAsync()
2025-10-22T21:42:11.5008600Z          at Xunit.Sdk.XunitTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/XunitTestCase.cs:line 170
2025-10-22T21:42:11.5010300Z          at Xunit.Sdk.SkippableFactTestCase.<>n__0(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:11.5011630Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:11.5012750Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.5014000Z          at Xunit.Sdk.SkippableFactTestCase.RunAsync(IMessageSink diagnosticMessageSink, IMessageBus messageBus, Object[] constructorArguments, ExceptionAggregator aggregator, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:11.5015410Z          at Xunit.Sdk.XunitTestMethodRunner.RunTestCaseAsync(IXunitTestCase testCase) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestMethodRunner.cs:line 45
2025-10-22T21:42:11.5017370Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 136
2025-10-22T21:42:11.5019220Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.5020300Z          at Xunit.Sdk.TestMethodRunner`1.RunTestCasesAsync()
2025-10-22T21:42:11.5024160Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestMethodRunner.cs:line 106
2025-10-22T21:42:11.5025620Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.5028100Z          at Xunit.Sdk.TestMethodRunner`1.RunAsync()
2025-10-22T21:42:11.5029560Z          at Xunit.Sdk.XunitTestClassRunner.RunTestMethodAsync(ITestMethod testMethod, IReflectionMethodInfo method, IEnumerable`1 testCases, Object[] constructorArguments) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestClassRunner.cs:line 206
2025-10-22T21:42:11.5034150Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:11.5035120Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.5036200Z          at Xunit.Sdk.TestClassRunner`1.RunTestMethodsAsync()
2025-10-22T21:42:11.5041560Z          at Xunit.Sdk.TestClassRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestClassRunner.cs:line 175
2025-10-22T21:42:11.5047180Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.5049230Z          at Xunit.Sdk.TestClassRunner`1.RunAsync()
2025-10-22T21:42:11.5050390Z          at Xunit.Sdk.XunitTestCollectionRunner.RunTestClassAsync(ITestClass testClass, IReflectionTypeInfo class, IEnumerable`1 testCases) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestCollectionRunner.cs:line 185
2025-10-22T21:42:11.5051980Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:11.5053040Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.5054050Z          at Xunit.Sdk.TestCollectionRunner`1.RunTestClassesAsync()
2025-10-22T21:42:11.5055280Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync() in /_/src/xunit.execution/Sdk/Frameworks/Runners/TestCollectionRunner.cs:line 101
2025-10-22T21:42:11.5059060Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.5062310Z          at Xunit.Sdk.TestCollectionRunner`1.RunAsync()
2025-10-22T21:42:11.5064980Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 346
2025-10-22T21:42:11.5069540Z          at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
2025-10-22T21:42:11.5071080Z          at Xunit.Sdk.XunitTestAssemblyRunner.RunTestCollectionAsync(IMessageBus messageBus, ITestCollection testCollection, IEnumerable`1 testCases, CancellationTokenSource cancellationTokenSource)
2025-10-22T21:42:11.5073680Z          at Xunit.Sdk.XunitTestAssemblyRunner.<>c__DisplayClass16_2.<RunTestCollectionsAsync>b__2() in /_/src/xunit.execution/Sdk/Frameworks/Runners/XunitTestAssemblyRunner.cs:line 250
2025-10-22T21:42:11.5076900Z          at System.Threading.Tasks.Task`1.InnerInvoke()
2025-10-22T21:42:11.5078150Z          at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
2025-10-22T21:42:11.5081480Z          at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
2025-10-22T21:42:11.5084210Z          at System.Threading.ThreadPoolWorkQueue.Dispatch()
2025-10-22T21:42:11.5085520Z          at System.Threading.PortableThreadPool.WorkerThread.WorkerThreadStart()
2025-10-22T21:42:11.5086040Z          at System.Threading.Thread.StartCallback()
2025-10-22T21:42:11.5086550Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5087160Z       [TELEMETRY][L001] Setting _isDisposed = true
2025-10-22T21:42:11.5087870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5088370Z       [TELEMETRY][L001] Calling StopListening(fromFinalizer=False)...
2025-10-22T21:42:11.5089160Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5089650Z       [TELEMETRY][L001] StopListening(fromFinalizer=False) called
2025-10-22T21:42:11.5090880Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5093290Z       [TELEMETRY][L001] Setting _shouldStop flag to true
2025-10-22T21:42:11.5093870Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5094620Z       [TELEMETRY][L001] _shouldStop flag set. RunLoop pointer: 5467413664
2025-10-22T21:42:11.5095930Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5096930Z       [TELEMETRY][L001] Calling CFRunLoopStop(5467413664)
2025-10-22T21:42:11.5098980Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5101950Z       [TELEMETRY][L001] CFRunLoopStop() returned
2025-10-22T21:42:11.5104320Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5105930Z       [TELEMETRY][L001] Waiting for thread to exit (1 second timeout)...
2025-10-22T21:42:11.5106730Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5107200Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.5107810Z       [TELEMETRY][L001] Loop iter 1: CFRunLoopRunInMode returned 2 after 18ms
2025-10-22T21:42:11.5108760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5110790Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.5111390Z       [TELEMETRY][L001] Run loop exited after 1 iterations. _shouldStop=True, finalResult=2
2025-10-22T21:42:11.5111990Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5112670Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.5113240Z       [TELEMETRY][L001] Listener thread finally block - cleaning up native resources
2025-10-22T21:42:11.5113800Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5114400Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.5114900Z       [TELEMETRY][L001] Unscheduling IOHIDManager from run loop
2025-10-22T21:42:11.5115470Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5116010Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.5116490Z       [TELEMETRY][L001] IOHIDManager unscheduled from run loop
2025-10-22T21:42:11.5117120Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5117670Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.5118210Z       [TELEMETRY][L001] Releasing IOHIDManager
2025-10-22T21:42:11.5118760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5119300Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.5119880Z       [TELEMETRY][L001] IOHIDManager released
2025-10-22T21:42:11.5120540Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5121720Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.5122100Z       [TELEMETRY][L001] Releasing run loop mode CFString
2025-10-22T21:42:11.5122600Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5123070Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.5123680Z       [TELEMETRY][L001] Run loop mode CFString released
2025-10-22T21:42:11.5124110Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5124560Z       => MacOSHidDeviceListener.StartListening()
2025-10-22T21:42:11.5124980Z       [TELEMETRY][L001] Listener thread cleanup complete - thread exiting
2025-10-22T21:42:11.5125760Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5126160Z       [TELEMETRY][L001] Thread exited successfully after 0ms
2025-10-22T21:42:11.5126590Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5212930Z       [TELEMETRY][L001] StopListening() complete
2025-10-22T21:42:11.5220390Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5220850Z       [TELEMETRY][L001] StopListening() returned successfully
2025-10-22T21:42:11.5221280Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5221660Z       [TELEMETRY][L001] Calling base.Dispose(True)
2025-10-22T21:42:11.5222080Z info: Yubico.Core.Devices.Hid.MacOSHidDeviceListener[0]
2025-10-22T21:42:11.5222540Z       [TELEMETRY][L001] <<< DISPOSE-EXIT: Complete
2025-10-22T21:42:11.5223050Z [xUnit.net 00:00:00.35]   Finished:    Yubico.Core.UnitTests
2025-10-22T21:42:11.5223870Z   Passed Yubico.Core.Devices.Hid.UnitTests.MacOSHidDeviceListenerDisposalTests.Dispose_UnusedListener_Succeeds [110 ms]
2025-10-22T21:42:11.5224480Z   Standard Output Messages:
2025-10-22T21:42:11.5224840Z  === TEST START: Dispose_UnusedListener_Succeeds ===
2025-10-22T21:42:11.5225270Z  [USING-ENTRY] Test=Dispose_UnusedListener_Succeeds, Thread=13
2025-10-22T21:42:11.5225740Z  [USING-BODY] Test=Dispose_UnusedListener_Succeeds, Listener=L001, Thread=13
2025-10-22T21:42:11.5226130Z  [TEST] Calling Dispose() on L001
2025-10-22T21:42:11.5226420Z  [TEST] Dispose() completed on L001
2025-10-22T21:42:11.5226800Z  [USING-EXIT] Test=Dispose_UnusedListener_Succeeds, Listener=L001, Thread=13
2025-10-22T21:42:11.5227140Z 
2025-10-22T21:42:11.5227250Z 
2025-10-22T21:42:11.5227350Z 
2025-10-22T21:42:11.5227610Z Test Run Successful.
2025-10-22T21:42:11.5227900Z Total tests: 1
2025-10-22T21:42:11.5228220Z      Passed: 1
2025-10-22T21:42:11.5228490Z  Total time: 1.2082 Seconds
